var cx=t=>{throw TypeError(t)};var Tm=(t,e,n)=>e.has(t)||cx("Cannot "+n);var j=(t,e,n)=>(Tm(t,e,"read from private field"),n?n.call(t):e.get(t)),ve=(t,e,n)=>e.has(t)?cx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),oe=(t,e,n,r)=>(Tm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),At=(t,e,n)=>(Tm(t,e,"access private method"),n);var jf=(t,e,n,r)=>({set _(s){oe(t,e,s,n)},get _(){return j(t,e,r)}});function XE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function QM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var QE={exports:{}},hp={},ZE={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=Symbol.for("react.element"),ZM=Symbol.for("react.portal"),JM=Symbol.for("react.fragment"),eL=Symbol.for("react.strict_mode"),tL=Symbol.for("react.profiler"),nL=Symbol.for("react.provider"),rL=Symbol.for("react.context"),sL=Symbol.for("react.forward_ref"),iL=Symbol.for("react.suspense"),oL=Symbol.for("react.memo"),aL=Symbol.for("react.lazy"),fx=Symbol.iterator;function lL(t){return t===null||typeof t!="object"?null:(t=fx&&t[fx]||t["@@iterator"],typeof t=="function"?t:null)}var JE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eN=Object.assign,tN={};function Yl(t,e,n){this.props=t,this.context=e,this.refs=tN,this.updater=n||JE}Yl.prototype.isReactComponent={};Yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nN(){}nN.prototype=Yl.prototype;function Sv(t,e,n){this.props=t,this.context=e,this.refs=tN,this.updater=n||JE}var _v=Sv.prototype=new nN;_v.constructor=Sv;eN(_v,Yl.prototype);_v.isPureReactComponent=!0;var dx=Array.isArray,rN=Object.prototype.hasOwnProperty,Tv={current:null},sN={key:!0,ref:!0,__self:!0,__source:!0};function iN(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)rN.call(e,r)&&!sN.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:af,type:t,key:i,ref:o,props:s,_owner:Tv.current}}function uL(t,e){return{$$typeof:af,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ev(t){return typeof t=="object"&&t!==null&&t.$$typeof===af}function cL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hx=/\/+/g;function Em(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cL(""+t.key):e.toString(36)}function Ad(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case af:case ZM:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Em(o,0):r,dx(s)?(n="",t!=null&&(n=t.replace(hx,"$&/")+"/"),Ad(s,e,n,"",function(u){return u})):s!=null&&(Ev(s)&&(s=uL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",dx(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Em(i,a);o+=Ad(i,e,n,l,s)}else if(l=lL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Em(i,a++),o+=Ad(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zf(t,e,n){if(t==null)return t;var r=[],s=0;return Ad(t,r,"","",function(i){return e.call(n,i,s++)}),r}function fL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},Cd={transition:null},dL={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Cd,ReactCurrentOwner:Tv};function oN(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:zf,forEach:function(t,e,n){zf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zf(t,function(){e++}),e},toArray:function(t){return zf(t,function(e){return e})||[]},only:function(t){if(!Ev(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Yl;fe.Fragment=JM;fe.Profiler=tL;fe.PureComponent=Sv;fe.StrictMode=eL;fe.Suspense=iL;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dL;fe.act=oN;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eN({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Tv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rN.call(e,l)&&!sN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:af,type:t.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:rL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nL,_context:t},t.Consumer=t};fe.createElement=iN;fe.createFactory=function(t){var e=iN.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:sL,render:t}};fe.isValidElement=Ev;fe.lazy=function(t){return{$$typeof:aL,_payload:{_status:-1,_result:t},_init:fL}};fe.memo=function(t,e){return{$$typeof:oL,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Cd.transition;Cd.transition={};try{t()}finally{Cd.transition=e}};fe.unstable_act=oN;fe.useCallback=function(t,e){return Xt.current.useCallback(t,e)};fe.useContext=function(t){return Xt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Xt.current.useEffect(t,e)};fe.useId=function(){return Xt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Xt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};fe.useRef=function(t){return Xt.current.useRef(t)};fe.useState=function(t){return Xt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Xt.current.useTransition()};fe.version="18.3.1";ZE.exports=fe;var N=ZE.exports;const K=xv(N),aN=XE({__proto__:null,default:K},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hL=N,pL=Symbol.for("react.element"),mL=Symbol.for("react.fragment"),gL=Object.prototype.hasOwnProperty,yL=hL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vL={key:!0,ref:!0,__self:!0,__source:!0};function lN(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gL.call(e,r)&&!vL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:pL,type:t,key:i,ref:o,props:s,_owner:yL.current}}hp.Fragment=mL;hp.jsx=lN;hp.jsxs=lN;QE.exports=hp;var C=QE.exports,uN={exports:{}},Bn={},cN={exports:{}},fN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,M){var H=R.length;R.push(M);e:for(;0<H;){var Z=H-1>>>1,X=R[Z];if(0<s(X,M))R[Z]=M,R[H]=X,H=Z;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var M=R[0],H=R.pop();if(H!==M){R[0]=H;e:for(var Z=0,X=R.length,se=X>>>1;Z<se;){var ee=2*(Z+1)-1,pe=R[ee],Xe=ee+1,de=R[Xe];if(0>s(pe,H))Xe<X&&0>s(de,pe)?(R[Z]=de,R[Xe]=H,Z=Xe):(R[Z]=pe,R[ee]=H,Z=ee);else if(Xe<X&&0>s(de,H))R[Z]=de,R[Xe]=H,Z=Xe;else break e}}return M}function s(R,M){var H=R.sortIndex-M.sortIndex;return H!==0?H:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,m=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=R)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function x(R){if(p=!1,w(R),!m)if(n(l)!==null)m=!0,G(S);else{var M=n(u);M!==null&&V(x,M.startTime-R)}}function S(R,M){m=!1,p&&(p=!1,y(k),k=-1),h=!0;var H=d;try{for(w(M),f=n(l);f!==null&&(!(f.expirationTime>M)||R&&!D());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,d=f.priorityLevel;var X=Z(f.expirationTime<=M);M=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),w(M)}else r(l);f=n(l)}if(f!==null)var se=!0;else{var ee=n(u);ee!==null&&V(x,ee.startTime-M),se=!1}return se}finally{f=null,d=H,h=!1}}var _=!1,T=null,k=-1,P=5,O=-1;function D(){return!(t.unstable_now()-O<P)}function F(){if(T!==null){var R=t.unstable_now();O=R;var M=!0;try{M=T(!0,R)}finally{M?z():(_=!1,T=null)}}else _=!1}var z;if(typeof v=="function")z=function(){v(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=F,z=function(){W.postMessage(null)}}else z=function(){g(F,0)};function G(R){T=R,_||(_=!0,z())}function V(R,M){k=g(function(){R(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,G(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var H=d;d=M;try{return R()}finally{d=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=d;d=R;try{return M()}finally{d=H}},t.unstable_scheduleCallback=function(R,M,H){var Z=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,R={id:c++,callback:M,priorityLevel:R,startTime:H,expirationTime:X,sortIndex:-1},H>Z?(R.sortIndex=H,e(u,R),n(l)===null&&R===n(u)&&(p?(y(k),k=-1):p=!0,V(x,H-Z))):(R.sortIndex=X,e(l,R),m||h||(m=!0,G(S))),R},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(R){var M=d;return function(){var H=d;d=M;try{return R.apply(this,arguments)}finally{d=H}}}})(fN);cN.exports=fN;var wL=cN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bL=N,Fn=wL;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dN=new Set,ac={};function ca(t,e){bl(t,e),bl(t+"Capture",e)}function bl(t,e){for(ac[t]=e,t=0;t<e.length;t++)dN.add(e[t])}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vg=Object.prototype.hasOwnProperty,xL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,px={},mx={};function SL(t){return Vg.call(mx,t)?!0:Vg.call(px,t)?!1:xL.test(t)?mx[t]=!0:(px[t]=!0,!1)}function _L(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TL(t,e,n,r){if(e===null||typeof e>"u"||_L(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nv=/[\-:]([a-z])/g;function kv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nv,kv);Nt[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nv,kv);Nt[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nv,kv);Nt[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Av(t,e,n,r){var s=Nt.hasOwnProperty(e)?Nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TL(e,n,s,r)&&(n=null),r||s===null?SL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ws=bL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vf=Symbol.for("react.element"),Aa=Symbol.for("react.portal"),Ca=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),Ug=Symbol.for("react.profiler"),hN=Symbol.for("react.provider"),pN=Symbol.for("react.context"),Pv=Symbol.for("react.forward_ref"),Wg=Symbol.for("react.suspense"),Hg=Symbol.for("react.suspense_list"),$v=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),mN=Symbol.for("react.offscreen"),gx=Symbol.iterator;function hu(t){return t===null||typeof t!="object"?null:(t=gx&&t[gx]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Nm;function ku(t){if(Nm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nm=e&&e[1]||""}return`
`+Nm+t}var km=!1;function Am(t,e){if(!t||km)return"";km=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{km=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ku(t):""}function EL(t){switch(t.tag){case 5:return ku(t.type);case 16:return ku("Lazy");case 13:return ku("Suspense");case 19:return ku("SuspenseList");case 0:case 2:case 15:return t=Am(t.type,!1),t;case 11:return t=Am(t.type.render,!1),t;case 1:return t=Am(t.type,!0),t;default:return""}}function Gg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ca:return"Fragment";case Aa:return"Portal";case Ug:return"Profiler";case Cv:return"StrictMode";case Wg:return"Suspense";case Hg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pN:return(t.displayName||"Context")+".Consumer";case hN:return(t._context.displayName||"Context")+".Provider";case Pv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $v:return e=t.displayName||null,e!==null?e:Gg(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return Gg(t(e))}catch{}}return null}function NL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gg(e);case 8:return e===Cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kL(t){var e=gN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uf(t){t._valueTracker||(t._valueTracker=kL(t))}function yN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ih(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kg(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vN(t,e){e=e.checked,e!=null&&Av(t,"checked",e,!1)}function qg(t,e){vN(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yg(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yg(t,e,n){(e!=="number"||ih(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Au=Array.isArray;function Ya(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Au(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function wN(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wf,xN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wf=Wf||document.createElement("div"),Wf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AL=["Webkit","ms","Moz","O"];Object.keys(Bu).forEach(function(t){AL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bu[e]=Bu[t]})});function SN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bu.hasOwnProperty(t)&&Bu[t]?(""+e).trim():e+"px"}function _N(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=SN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var CL=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(t,e){if(e){if(CL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Jg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ey=null;function Iv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ty=null,Xa=null,Qa=null;function xx(t){if(t=cf(t)){if(typeof ty!="function")throw Error(U(280));var e=t.stateNode;e&&(e=vp(e),ty(t.stateNode,t.type,e))}}function TN(t){Xa?Qa?Qa.push(t):Qa=[t]:Xa=t}function EN(){if(Xa){var t=Xa,e=Qa;if(Qa=Xa=null,xx(t),e)for(t=0;t<e.length;t++)xx(e[t])}}function NN(t,e){return t(e)}function kN(){}var Cm=!1;function AN(t,e,n){if(Cm)return t(e,n);Cm=!0;try{return NN(t,e,n)}finally{Cm=!1,(Xa!==null||Qa!==null)&&(kN(),EN())}}function uc(t,e){var n=t.stateNode;if(n===null)return null;var r=vp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ny=!1;if(Is)try{var pu={};Object.defineProperty(pu,"passive",{get:function(){ny=!0}}),window.addEventListener("test",pu,pu),window.removeEventListener("test",pu,pu)}catch{ny=!1}function PL(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ju=!1,oh=null,ah=!1,ry=null,$L={onError:function(t){ju=!0,oh=t}};function IL(t,e,n,r,s,i,o,a,l){ju=!1,oh=null,PL.apply($L,arguments)}function OL(t,e,n,r,s,i,o,a,l){if(IL.apply(this,arguments),ju){if(ju){var u=oh;ju=!1,oh=null}else throw Error(U(198));ah||(ah=!0,ry=u)}}function fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sx(t){if(fa(t)!==t)throw Error(U(188))}function DL(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Sx(s),t;if(i===r)return Sx(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function PN(t){return t=DL(t),t!==null?$N(t):null}function $N(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$N(t);if(e!==null)return e;t=t.sibling}return null}var IN=Fn.unstable_scheduleCallback,_x=Fn.unstable_cancelCallback,RL=Fn.unstable_shouldYield,FL=Fn.unstable_requestPaint,rt=Fn.unstable_now,ML=Fn.unstable_getCurrentPriorityLevel,Ov=Fn.unstable_ImmediatePriority,ON=Fn.unstable_UserBlockingPriority,lh=Fn.unstable_NormalPriority,LL=Fn.unstable_LowPriority,DN=Fn.unstable_IdlePriority,pp=null,ns=null;function BL(t){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(pp,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:VL,jL=Math.log,zL=Math.LN2;function VL(t){return t>>>=0,t===0?32:31-(jL(t)/zL|0)|0}var Hf=64,Gf=4194304;function Cu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Cu(a):(i&=o,i!==0&&(r=Cu(i)))}else o=n&~s,o!==0?r=Cu(o):i!==0&&(r=Cu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cr(e),s=1<<n,r|=t[n],e&=~s;return r}function UL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Cr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=UL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function sy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RN(){var t=Hf;return Hf<<=1,!(Hf&4194240)&&(Hf=64),t}function Pm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=n}function HL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Cr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var be=0;function FN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MN,Rv,LN,BN,jN,iy=!1,Kf=[],_i=null,Ti=null,Ei=null,cc=new Map,fc=new Map,ii=[],GL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tx(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":cc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(e.pointerId)}}function mu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cf(e),e!==null&&Rv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function KL(t,e,n,r,s){switch(e){case"focusin":return _i=mu(_i,t,e,n,r,s),!0;case"dragenter":return Ti=mu(Ti,t,e,n,r,s),!0;case"mouseover":return Ei=mu(Ei,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return cc.set(i,mu(cc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,fc.set(i,mu(fc.get(i)||null,t,e,n,r,s)),!0}return!1}function zN(t){var e=xo(t.target);if(e!==null){var n=fa(e);if(n!==null){if(e=n.tag,e===13){if(e=CN(n),e!==null){t.blockedOn=e,jN(t.priority,function(){LN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ey=r,n.target.dispatchEvent(r),ey=null}else return e=cf(n),e!==null&&Rv(e),t.blockedOn=n,!1;e.shift()}return!0}function Ex(t,e,n){Pd(t)&&n.delete(e)}function qL(){iy=!1,_i!==null&&Pd(_i)&&(_i=null),Ti!==null&&Pd(Ti)&&(Ti=null),Ei!==null&&Pd(Ei)&&(Ei=null),cc.forEach(Ex),fc.forEach(Ex)}function gu(t,e){t.blockedOn===e&&(t.blockedOn=null,iy||(iy=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,qL)))}function dc(t){function e(s){return gu(s,t)}if(0<Kf.length){gu(Kf[0],t);for(var n=1;n<Kf.length;n++){var r=Kf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_i!==null&&gu(_i,t),Ti!==null&&gu(Ti,t),Ei!==null&&gu(Ei,t),cc.forEach(e),fc.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)zN(n),n.blockedOn===null&&ii.shift()}var Za=Ws.ReactCurrentBatchConfig,ch=!0;function YL(t,e,n,r){var s=be,i=Za.transition;Za.transition=null;try{be=1,Fv(t,e,n,r)}finally{be=s,Za.transition=i}}function XL(t,e,n,r){var s=be,i=Za.transition;Za.transition=null;try{be=4,Fv(t,e,n,r)}finally{be=s,Za.transition=i}}function Fv(t,e,n,r){if(ch){var s=oy(t,e,n,r);if(s===null)jm(t,e,r,fh,n),Tx(t,r);else if(KL(s,t,e,n,r))r.stopPropagation();else if(Tx(t,r),e&4&&-1<GL.indexOf(t)){for(;s!==null;){var i=cf(s);if(i!==null&&MN(i),i=oy(t,e,n,r),i===null&&jm(t,e,r,fh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else jm(t,e,r,null,n)}}var fh=null;function oy(t,e,n,r){if(fh=null,t=Iv(r),t=xo(t),t!==null)if(e=fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fh=t,null}function VN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ML()){case Ov:return 1;case ON:return 4;case lh:case LL:return 16;case DN:return 536870912;default:return 16}default:return 16}}var pi=null,Mv=null,$d=null;function UN(){if($d)return $d;var t,e=Mv,n=e.length,r,s="value"in pi?pi.value:pi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $d=s.slice(t,1<r?1-r:void 0)}function Id(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qf(){return!0}function Nx(){return!1}function jn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qf:Nx,this.isPropagationStopped=Nx,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qf)},persist:function(){},isPersistent:qf}),e}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lv=jn(Xl),uf=Ye({},Xl,{view:0,detail:0}),QL=jn(uf),$m,Im,yu,mp=Ye({},uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yu&&(yu&&t.type==="mousemove"?($m=t.screenX-yu.screenX,Im=t.screenY-yu.screenY):Im=$m=0,yu=t),$m)},movementY:function(t){return"movementY"in t?t.movementY:Im}}),kx=jn(mp),ZL=Ye({},mp,{dataTransfer:0}),JL=jn(ZL),e4=Ye({},uf,{relatedTarget:0}),Om=jn(e4),t4=Ye({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),n4=jn(t4),r4=Ye({},Xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s4=jn(r4),i4=Ye({},Xl,{data:0}),Ax=jn(i4),o4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=l4[t])?!!e[t]:!1}function Bv(){return u4}var c4=Ye({},uf,{key:function(t){if(t.key){var e=o4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Id(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bv,charCode:function(t){return t.type==="keypress"?Id(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Id(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f4=jn(c4),d4=Ye({},mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cx=jn(d4),h4=Ye({},uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bv}),p4=jn(h4),m4=Ye({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),g4=jn(m4),y4=Ye({},mp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v4=jn(y4),w4=[9,13,27,32],jv=Is&&"CompositionEvent"in window,zu=null;Is&&"documentMode"in document&&(zu=document.documentMode);var b4=Is&&"TextEvent"in window&&!zu,WN=Is&&(!jv||zu&&8<zu&&11>=zu),Px=" ",$x=!1;function HN(t,e){switch(t){case"keyup":return w4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function x4(t,e){switch(t){case"compositionend":return GN(e);case"keypress":return e.which!==32?null:($x=!0,Px);case"textInput":return t=e.data,t===Px&&$x?null:t;default:return null}}function S4(t,e){if(Pa)return t==="compositionend"||!jv&&HN(t,e)?(t=UN(),$d=Mv=pi=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WN&&e.locale!=="ko"?null:e.data;default:return null}}var _4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_4[t.type]:e==="textarea"}function KN(t,e,n,r){TN(r),e=dh(e,"onChange"),0<e.length&&(n=new Lv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vu=null,hc=null;function T4(t){sk(t,0)}function gp(t){var e=Oa(t);if(yN(e))return t}function E4(t,e){if(t==="change")return e}var qN=!1;if(Is){var Dm;if(Is){var Rm="oninput"in document;if(!Rm){var Ox=document.createElement("div");Ox.setAttribute("oninput","return;"),Rm=typeof Ox.oninput=="function"}Dm=Rm}else Dm=!1;qN=Dm&&(!document.documentMode||9<document.documentMode)}function Dx(){Vu&&(Vu.detachEvent("onpropertychange",YN),hc=Vu=null)}function YN(t){if(t.propertyName==="value"&&gp(hc)){var e=[];KN(e,hc,t,Iv(t)),AN(T4,e)}}function N4(t,e,n){t==="focusin"?(Dx(),Vu=e,hc=n,Vu.attachEvent("onpropertychange",YN)):t==="focusout"&&Dx()}function k4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gp(hc)}function A4(t,e){if(t==="click")return gp(e)}function C4(t,e){if(t==="input"||t==="change")return gp(e)}function P4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:P4;function pc(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vg.call(e,s)||!Or(t[s],e[s]))return!1}return!0}function Rx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fx(t,e){var n=Rx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rx(n)}}function XN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QN(){for(var t=window,e=ih();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ih(t.document)}return e}function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $4(t){var e=QN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XN(n.ownerDocument.documentElement,n)){if(r!==null&&zv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Fx(n,i);var o=Fx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I4=Is&&"documentMode"in document&&11>=document.documentMode,$a=null,ay=null,Uu=null,ly=!1;function Mx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ly||$a==null||$a!==ih(r)||(r=$a,"selectionStart"in r&&zv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uu&&pc(Uu,r)||(Uu=r,r=dh(ay,"onSelect"),0<r.length&&(e=new Lv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$a)))}function Yf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ia={animationend:Yf("Animation","AnimationEnd"),animationiteration:Yf("Animation","AnimationIteration"),animationstart:Yf("Animation","AnimationStart"),transitionend:Yf("Transition","TransitionEnd")},Fm={},ZN={};Is&&(ZN=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function yp(t){if(Fm[t])return Fm[t];if(!Ia[t])return t;var e=Ia[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ZN)return Fm[t]=e[n];return t}var JN=yp("animationend"),ek=yp("animationiteration"),tk=yp("animationstart"),nk=yp("transitionend"),rk=new Map,Lx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(t,e){rk.set(t,e),ca(e,[t])}for(var Mm=0;Mm<Lx.length;Mm++){var Lm=Lx[Mm],O4=Lm.toLowerCase(),D4=Lm[0].toUpperCase()+Lm.slice(1);Xi(O4,"on"+D4)}Xi(JN,"onAnimationEnd");Xi(ek,"onAnimationIteration");Xi(tk,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(nk,"onTransitionEnd");bl("onMouseEnter",["mouseout","mouseover"]);bl("onMouseLeave",["mouseout","mouseover"]);bl("onPointerEnter",["pointerout","pointerover"]);bl("onPointerLeave",["pointerout","pointerover"]);ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pu));function Bx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OL(r,e,void 0,t),t.currentTarget=null}function sk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Bx(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Bx(s,a,u),i=l}}}if(ah)throw t=ry,ah=!1,ry=null,t}function De(t,e){var n=e[hy];n===void 0&&(n=e[hy]=new Set);var r=t+"__bubble";n.has(r)||(ik(e,t,2,!1),n.add(r))}function Bm(t,e,n){var r=0;e&&(r|=4),ik(n,t,r,e)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function mc(t){if(!t[Xf]){t[Xf]=!0,dN.forEach(function(n){n!=="selectionchange"&&(R4.has(n)||Bm(n,!1,t),Bm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xf]||(e[Xf]=!0,Bm("selectionchange",!1,e))}}function ik(t,e,n,r){switch(VN(e)){case 1:var s=YL;break;case 4:s=XL;break;default:s=Fv}n=s.bind(null,e,n,t),s=void 0,!ny||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function jm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}AN(function(){var u=i,c=Iv(n),f=[];e:{var d=rk.get(t);if(d!==void 0){var h=Lv,m=t;switch(t){case"keypress":if(Id(n)===0)break e;case"keydown":case"keyup":h=f4;break;case"focusin":m="focus",h=Om;break;case"focusout":m="blur",h=Om;break;case"beforeblur":case"afterblur":h=Om;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=JL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=p4;break;case JN:case ek:case tk:h=n4;break;case nk:h=g4;break;case"scroll":h=QL;break;case"wheel":h=v4;break;case"copy":case"cut":case"paste":h=s4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Cx}var p=(e&4)!==0,g=!p&&t==="scroll",y=p?d!==null?d+"Capture":null:d;p=[];for(var v=u,w;v!==null;){w=v;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,y!==null&&(x=uc(v,y),x!=null&&p.push(gc(v,x,w)))),g)break;v=v.return}0<p.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:p}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==ey&&(m=n.relatedTarget||n.fromElement)&&(xo(m)||m[Os]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?xo(m):null,m!==null&&(g=fa(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(p=kx,x="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(p=Cx,x="onPointerLeave",y="onPointerEnter",v="pointer"),g=h==null?d:Oa(h),w=m==null?d:Oa(m),d=new p(x,v+"leave",h,n,c),d.target=g,d.relatedTarget=w,x=null,xo(c)===u&&(p=new p(y,v+"enter",m,n,c),p.target=w,p.relatedTarget=g,x=p),g=x,h&&m)t:{for(p=h,y=m,v=0,w=p;w;w=ba(w))v++;for(w=0,x=y;x;x=ba(x))w++;for(;0<v-w;)p=ba(p),v--;for(;0<w-v;)y=ba(y),w--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=ba(p),y=ba(y)}p=null}else p=null;h!==null&&jx(f,d,h,p,!1),m!==null&&g!==null&&jx(f,g,m,p,!0)}}e:{if(d=u?Oa(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=E4;else if(Ix(d))if(qN)S=C4;else{S=k4;var _=N4}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=A4);if(S&&(S=S(t,u))){KN(f,S,n,c);break e}_&&_(t,d,u),t==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&Yg(d,"number",d.value)}switch(_=u?Oa(u):window,t){case"focusin":(Ix(_)||_.contentEditable==="true")&&($a=_,ay=u,Uu=null);break;case"focusout":Uu=ay=$a=null;break;case"mousedown":ly=!0;break;case"contextmenu":case"mouseup":case"dragend":ly=!1,Mx(f,n,c);break;case"selectionchange":if(I4)break;case"keydown":case"keyup":Mx(f,n,c)}var T;if(jv)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Pa?HN(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(WN&&n.locale!=="ko"&&(Pa||k!=="onCompositionStart"?k==="onCompositionEnd"&&Pa&&(T=UN()):(pi=c,Mv="value"in pi?pi.value:pi.textContent,Pa=!0)),_=dh(u,k),0<_.length&&(k=new Ax(k,t,null,n,c),f.push({event:k,listeners:_}),T?k.data=T:(T=GN(n),T!==null&&(k.data=T)))),(T=b4?x4(t,n):S4(t,n))&&(u=dh(u,"onBeforeInput"),0<u.length&&(c=new Ax("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}sk(f,e)})}function gc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=uc(t,n),i!=null&&r.unshift(gc(t,i,s)),i=uc(t,e),i!=null&&r.push(gc(t,i,s))),t=t.return}return r}function ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=uc(n,i),l!=null&&o.unshift(gc(n,l,a))):s||(l=uc(n,i),l!=null&&o.push(gc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var F4=/\r\n?/g,M4=/\u0000|\uFFFD/g;function zx(t){return(typeof t=="string"?t:""+t).replace(F4,`
`).replace(M4,"")}function Qf(t,e,n){if(e=zx(e),zx(t)!==e&&n)throw Error(U(425))}function hh(){}var uy=null,cy=null;function fy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dy=typeof setTimeout=="function"?setTimeout:void 0,L4=typeof clearTimeout=="function"?clearTimeout:void 0,Vx=typeof Promise=="function"?Promise:void 0,B4=typeof queueMicrotask=="function"?queueMicrotask:typeof Vx<"u"?function(t){return Vx.resolve(null).then(t).catch(j4)}:dy;function j4(t){setTimeout(function(){throw t})}function zm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),dc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);dc(e)}function Ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ux(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ql=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Ql,yc="__reactProps$"+Ql,Os="__reactContainer$"+Ql,hy="__reactEvents$"+Ql,z4="__reactListeners$"+Ql,V4="__reactHandles$"+Ql;function xo(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Os]||n[Yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ux(t);t!==null;){if(n=t[Yr])return n;t=Ux(t)}return e}t=n,n=t.parentNode}return null}function cf(t){return t=t[Yr]||t[Os],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function vp(t){return t[yc]||null}var py=[],Da=-1;function Qi(t){return{current:t}}function Me(t){0>Da||(t.current=py[Da],py[Da]=null,Da--)}function Pe(t,e){Da++,py[Da]=t.current,t.current=e}var Ri={},jt=Qi(Ri),un=Qi(!1),qo=Ri;function xl(t,e){var n=t.type.contextTypes;if(!n)return Ri;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function cn(t){return t=t.childContextTypes,t!=null}function ph(){Me(un),Me(jt)}function Wx(t,e,n){if(jt.current!==Ri)throw Error(U(168));Pe(jt,e),Pe(un,n)}function ok(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,NL(t)||"Unknown",s));return Ye({},n,r)}function mh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ri,qo=jt.current,Pe(jt,t),Pe(un,un.current),!0}function Hx(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=ok(t,e,qo),r.__reactInternalMemoizedMergedChildContext=t,Me(un),Me(jt),Pe(jt,t)):Me(un),Pe(un,n)}var bs=null,wp=!1,Vm=!1;function ak(t){bs===null?bs=[t]:bs.push(t)}function U4(t){wp=!0,ak(t)}function Zi(){if(!Vm&&bs!==null){Vm=!0;var t=0,e=be;try{var n=bs;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bs=null,wp=!1}catch(s){throw bs!==null&&(bs=bs.slice(t+1)),IN(Ov,Zi),s}finally{be=e,Vm=!1}}return null}var Ra=[],Fa=0,gh=null,yh=0,Yn=[],Xn=0,Yo=null,Ns=1,ks="";function ho(t,e){Ra[Fa++]=yh,Ra[Fa++]=gh,gh=t,yh=e}function lk(t,e,n){Yn[Xn++]=Ns,Yn[Xn++]=ks,Yn[Xn++]=Yo,Yo=t;var r=Ns;t=ks;var s=32-Cr(r)-1;r&=~(1<<s),n+=1;var i=32-Cr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ns=1<<32-Cr(e)+s|n<<s|r,ks=i+t}else Ns=1<<i|n<<s|r,ks=t}function Vv(t){t.return!==null&&(ho(t,1),lk(t,1,0))}function Uv(t){for(;t===gh;)gh=Ra[--Fa],Ra[Fa]=null,yh=Ra[--Fa],Ra[Fa]=null;for(;t===Yo;)Yo=Yn[--Xn],Yn[Xn]=null,ks=Yn[--Xn],Yn[Xn]=null,Ns=Yn[--Xn],Yn[Xn]=null}var On=null,Pn=null,ze=!1,Er=null;function uk(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,Pn=Ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yo!==null?{id:Ns,overflow:ks}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,Pn=null,!0):!1;default:return!1}}function my(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gy(t){if(ze){var e=Pn;if(e){var n=e;if(!Gx(t,e)){if(my(t))throw Error(U(418));e=Ni(n.nextSibling);var r=On;e&&Gx(t,e)?uk(r,n):(t.flags=t.flags&-4097|2,ze=!1,On=t)}}else{if(my(t))throw Error(U(418));t.flags=t.flags&-4097|2,ze=!1,On=t}}}function Kx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function Zf(t){if(t!==On)return!1;if(!ze)return Kx(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fy(t.type,t.memoizedProps)),e&&(e=Pn)){if(my(t))throw ck(),Error(U(418));for(;e;)uk(t,e),e=Ni(e.nextSibling)}if(Kx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=Ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=On?Ni(t.stateNode.nextSibling):null;return!0}function ck(){for(var t=Pn;t;)t=Ni(t.nextSibling)}function Sl(){Pn=On=null,ze=!1}function Wv(t){Er===null?Er=[t]:Er.push(t)}var W4=Ws.ReactCurrentBatchConfig;function vu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Jf(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qx(t){var e=t._init;return e(t._payload)}function fk(t){function e(y,v){if(t){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Pi(y,v),y.index=0,y.sibling=null,y}function i(y,v,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,w,x){return v===null||v.tag!==6?(v=Ym(w,y.mode,x),v.return=y,v):(v=s(v,w),v.return=y,v)}function l(y,v,w,x){var S=w.type;return S===Ca?c(y,v,w.props.children,x,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ri&&qx(S)===v.type)?(x=s(v,w.props),x.ref=vu(y,v,w),x.return=y,x):(x=Bd(w.type,w.key,w.props,null,y.mode,x),x.ref=vu(y,v,w),x.return=y,x)}function u(y,v,w,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Xm(w,y.mode,x),v.return=y,v):(v=s(v,w.children||[]),v.return=y,v)}function c(y,v,w,x,S){return v===null||v.tag!==7?(v=Mo(w,y.mode,x,S),v.return=y,v):(v=s(v,w),v.return=y,v)}function f(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ym(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vf:return w=Bd(v.type,v.key,v.props,null,y.mode,w),w.ref=vu(y,null,v),w.return=y,w;case Aa:return v=Xm(v,y.mode,w),v.return=y,v;case ri:var x=v._init;return f(y,x(v._payload),w)}if(Au(v)||hu(v))return v=Mo(v,y.mode,w,null),v.return=y,v;Jf(y,v)}return null}function d(y,v,w,x){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(y,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vf:return w.key===S?l(y,v,w,x):null;case Aa:return w.key===S?u(y,v,w,x):null;case ri:return S=w._init,d(y,v,S(w._payload),x)}if(Au(w)||hu(w))return S!==null?null:c(y,v,w,x,null);Jf(y,w)}return null}function h(y,v,w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(w)||null,a(v,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vf:return y=y.get(x.key===null?w:x.key)||null,l(v,y,x,S);case Aa:return y=y.get(x.key===null?w:x.key)||null,u(v,y,x,S);case ri:var _=x._init;return h(y,v,w,_(x._payload),S)}if(Au(x)||hu(x))return y=y.get(w)||null,c(v,y,x,S,null);Jf(v,x)}return null}function m(y,v,w,x){for(var S=null,_=null,T=v,k=v=0,P=null;T!==null&&k<w.length;k++){T.index>k?(P=T,T=null):P=T.sibling;var O=d(y,T,w[k],x);if(O===null){T===null&&(T=P);break}t&&T&&O.alternate===null&&e(y,T),v=i(O,v,k),_===null?S=O:_.sibling=O,_=O,T=P}if(k===w.length)return n(y,T),ze&&ho(y,k),S;if(T===null){for(;k<w.length;k++)T=f(y,w[k],x),T!==null&&(v=i(T,v,k),_===null?S=T:_.sibling=T,_=T);return ze&&ho(y,k),S}for(T=r(y,T);k<w.length;k++)P=h(T,y,k,w[k],x),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?k:P.key),v=i(P,v,k),_===null?S=P:_.sibling=P,_=P);return t&&T.forEach(function(D){return e(y,D)}),ze&&ho(y,k),S}function p(y,v,w,x){var S=hu(w);if(typeof S!="function")throw Error(U(150));if(w=S.call(w),w==null)throw Error(U(151));for(var _=S=null,T=v,k=v=0,P=null,O=w.next();T!==null&&!O.done;k++,O=w.next()){T.index>k?(P=T,T=null):P=T.sibling;var D=d(y,T,O.value,x);if(D===null){T===null&&(T=P);break}t&&T&&D.alternate===null&&e(y,T),v=i(D,v,k),_===null?S=D:_.sibling=D,_=D,T=P}if(O.done)return n(y,T),ze&&ho(y,k),S;if(T===null){for(;!O.done;k++,O=w.next())O=f(y,O.value,x),O!==null&&(v=i(O,v,k),_===null?S=O:_.sibling=O,_=O);return ze&&ho(y,k),S}for(T=r(y,T);!O.done;k++,O=w.next())O=h(T,y,k,O.value,x),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?k:O.key),v=i(O,v,k),_===null?S=O:_.sibling=O,_=O);return t&&T.forEach(function(F){return e(y,F)}),ze&&ho(y,k),S}function g(y,v,w,x){if(typeof w=="object"&&w!==null&&w.type===Ca&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Vf:e:{for(var S=w.key,_=v;_!==null;){if(_.key===S){if(S=w.type,S===Ca){if(_.tag===7){n(y,_.sibling),v=s(_,w.props.children),v.return=y,y=v;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ri&&qx(S)===_.type){n(y,_.sibling),v=s(_,w.props),v.ref=vu(y,_,w),v.return=y,y=v;break e}n(y,_);break}else e(y,_);_=_.sibling}w.type===Ca?(v=Mo(w.props.children,y.mode,x,w.key),v.return=y,y=v):(x=Bd(w.type,w.key,w.props,null,y.mode,x),x.ref=vu(y,v,w),x.return=y,y=x)}return o(y);case Aa:e:{for(_=w.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=s(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Xm(w,y.mode,x),v.return=y,y=v}return o(y);case ri:return _=w._init,g(y,v,_(w._payload),x)}if(Au(w))return m(y,v,w,x);if(hu(w))return p(y,v,w,x);Jf(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,w),v.return=y,y=v):(n(y,v),v=Ym(w,y.mode,x),v.return=y,y=v),o(y)):n(y,v)}return g}var _l=fk(!0),dk=fk(!1),vh=Qi(null),wh=null,Ma=null,Hv=null;function Gv(){Hv=Ma=wh=null}function Kv(t){var e=vh.current;Me(vh),t._currentValue=e}function yy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ja(t,e){wh=t,Hv=Ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function ur(t){var e=t._currentValue;if(Hv!==t)if(t={context:t,memoizedValue:e,next:null},Ma===null){if(wh===null)throw Error(U(308));Ma=t,wh.dependencies={lanes:0,firstContext:t}}else Ma=Ma.next=t;return e}var So=null;function qv(t){So===null?So=[t]:So.push(t)}function hk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,qv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ds(t,r)}function Ds(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function Yv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function As(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ds(t,n)}return s=r.interleaved,s===null?(e.next=e,qv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ds(t,n)}function Od(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dv(t,n)}}function Yx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bh(t,e,n,r){var s=t.updateQueue;si=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,p=a;switch(d=e,h=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=Ye({},f,d);break e;case 2:si=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qo|=o,t.lanes=o,t.memoizedState=f}}function Xx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var ff={},rs=Qi(ff),vc=Qi(ff),wc=Qi(ff);function _o(t){if(t===ff)throw Error(U(174));return t}function Xv(t,e){switch(Pe(wc,e),Pe(vc,t),Pe(rs,ff),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qg(e,t)}Me(rs),Pe(rs,e)}function Tl(){Me(rs),Me(vc),Me(wc)}function mk(t){_o(wc.current);var e=_o(rs.current),n=Qg(e,t.type);e!==n&&(Pe(vc,t),Pe(rs,n))}function Qv(t){vc.current===t&&(Me(rs),Me(vc))}var We=Qi(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Um=[];function Zv(){for(var t=0;t<Um.length;t++)Um[t]._workInProgressVersionPrimary=null;Um.length=0}var Dd=Ws.ReactCurrentDispatcher,Wm=Ws.ReactCurrentBatchConfig,Xo=0,qe=null,ct=null,mt=null,Sh=!1,Wu=!1,bc=0,H4=0;function Ct(){throw Error(U(321))}function Jv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function e1(t,e,n,r,s,i){if(Xo=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dd.current=t===null||t.memoizedState===null?Y4:X4,t=n(r,s),Wu){i=0;do{if(Wu=!1,bc=0,25<=i)throw Error(U(301));i+=1,mt=ct=null,e.updateQueue=null,Dd.current=Q4,t=n(r,s)}while(Wu)}if(Dd.current=_h,e=ct!==null&&ct.next!==null,Xo=0,mt=ct=qe=null,Sh=!1,e)throw Error(U(300));return t}function t1(){var t=bc!==0;return bc=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?qe.memoizedState=mt=t:mt=mt.next=t,mt}function cr(){if(ct===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=mt===null?qe.memoizedState:mt.next;if(e!==null)mt=e,ct=t;else{if(t===null)throw Error(U(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},mt===null?qe.memoizedState=mt=t:mt=mt.next=t}return mt}function xc(t,e){return typeof e=="function"?e(t):e}function Hm(t){var e=cr(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Xo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,qe.lanes|=c,Qo|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Or(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,qe.lanes|=i,Qo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gm(t){var e=cr(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Or(i,e.memoizedState)||(sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function gk(){}function yk(t,e){var n=qe,r=cr(),s=e(),i=!Or(r.memoizedState,s);if(i&&(r.memoizedState=s,sn=!0),r=r.queue,n1(bk.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,Sc(9,wk.bind(null,n,r,s,e),void 0,null),vt===null)throw Error(U(349));Xo&30||vk(n,e,s)}return s}function vk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wk(t,e,n,r){e.value=n,e.getSnapshot=r,xk(e)&&Sk(t)}function bk(t,e,n){return n(function(){xk(e)&&Sk(t)})}function xk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function Sk(t){var e=Ds(t,1);e!==null&&Pr(e,t,1,-1)}function Qx(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:t},e.queue=t,t=t.dispatch=q4.bind(null,qe,t),[e.memoizedState,t]}function Sc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _k(){return cr().memoizedState}function Rd(t,e,n,r){var s=zr();qe.flags|=t,s.memoizedState=Sc(1|e,n,void 0,r===void 0?null:r)}function bp(t,e,n,r){var s=cr();r=r===void 0?null:r;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,r!==null&&Jv(r,o.deps)){s.memoizedState=Sc(e,n,i,r);return}}qe.flags|=t,s.memoizedState=Sc(1|e,n,i,r)}function Zx(t,e){return Rd(8390656,8,t,e)}function n1(t,e){return bp(2048,8,t,e)}function Tk(t,e){return bp(4,2,t,e)}function Ek(t,e){return bp(4,4,t,e)}function Nk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kk(t,e,n){return n=n!=null?n.concat([t]):null,bp(4,4,Nk.bind(null,e,t),n)}function r1(){}function Ak(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ck(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pk(t,e,n){return Xo&21?(Or(n,e)||(n=RN(),qe.lanes|=n,Qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function G4(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=Wm.transition;Wm.transition={};try{t(!1),e()}finally{be=n,Wm.transition=r}}function $k(){return cr().memoizedState}function K4(t,e,n){var r=Ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ik(t))Ok(e,n);else if(n=hk(t,e,n,r),n!==null){var s=qt();Pr(n,t,r,s),Dk(n,e,r)}}function q4(t,e,n){var r=Ci(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ik(t))Ok(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Or(a,o)){var l=e.interleaved;l===null?(s.next=s,qv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=hk(t,e,s,r),n!==null&&(s=qt(),Pr(n,t,r,s),Dk(n,e,r))}}function Ik(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function Ok(t,e){Wu=Sh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dv(t,n)}}var _h={readContext:ur,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Y4={readContext:ur,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:ur,useEffect:Zx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4194308,4,Nk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rd(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K4.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:Qx,useDebugValue:r1,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=Qx(!1),e=t[0];return t=G4.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,s=zr();if(ze){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),vt===null)throw Error(U(349));Xo&30||vk(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Zx(bk.bind(null,r,i,t),[t]),r.flags|=2048,Sc(9,wk.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zr(),e=vt.identifierPrefix;if(ze){var n=ks,r=Ns;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=H4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X4={readContext:ur,useCallback:Ak,useContext:ur,useEffect:n1,useImperativeHandle:kk,useInsertionEffect:Tk,useLayoutEffect:Ek,useMemo:Ck,useReducer:Hm,useRef:_k,useState:function(){return Hm(xc)},useDebugValue:r1,useDeferredValue:function(t){var e=cr();return Pk(e,ct.memoizedState,t)},useTransition:function(){var t=Hm(xc)[0],e=cr().memoizedState;return[t,e]},useMutableSource:gk,useSyncExternalStore:yk,useId:$k,unstable_isNewReconciler:!1},Q4={readContext:ur,useCallback:Ak,useContext:ur,useEffect:n1,useImperativeHandle:kk,useInsertionEffect:Tk,useLayoutEffect:Ek,useMemo:Ck,useReducer:Gm,useRef:_k,useState:function(){return Gm(xc)},useDebugValue:r1,useDeferredValue:function(t){var e=cr();return ct===null?e.memoizedState=t:Pk(e,ct.memoizedState,t)},useTransition:function(){var t=Gm(xc)[0],e=cr().memoizedState;return[t,e]},useMutableSource:gk,useSyncExternalStore:yk,useId:$k,unstable_isNewReconciler:!1};function br(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xp={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Ci(t),i=As(r,s);i.payload=e,n!=null&&(i.callback=n),e=ki(t,i,s),e!==null&&(Pr(e,t,s,r),Od(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),s=Ci(t),i=As(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ki(t,i,s),e!==null&&(Pr(e,t,s,r),Od(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=Ci(t),s=As(n,r);s.tag=2,e!=null&&(s.callback=e),e=ki(t,s,r),e!==null&&(Pr(e,t,r,n),Od(e,t,r))}};function Jx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!pc(n,r)||!pc(s,i):!0}function Rk(t,e,n){var r=!1,s=Ri,i=e.contextType;return typeof i=="object"&&i!==null?i=ur(i):(s=cn(e)?qo:jt.current,r=e.contextTypes,i=(r=r!=null)?xl(t,s):Ri),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function eS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xp.enqueueReplaceState(e,e.state,null)}function wy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Yv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ur(i):(i=cn(e)?qo:jt.current,s.context=xl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xp.enqueueReplaceState(s,s.state,null),bh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function El(t,e){try{var n="",r=e;do n+=EL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function by(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z4=typeof WeakMap=="function"?WeakMap:Map;function Fk(t,e,n){n=As(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Eh||(Eh=!0,Py=r),by(t,e)},n}function Mk(t,e,n){n=As(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){by(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){by(t,e),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=dB.bind(null,t,e,n),e.then(t,t))}function nS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=As(-1,1),e.tag=2,ki(n,e,1))),n.lanes|=1),t)}var J4=Ws.ReactCurrentOwner,sn=!1;function Wt(t,e,n,r){e.child=t===null?dk(e,null,n,r):_l(e,t.child,n,r)}function sS(t,e,n,r,s){n=n.render;var i=e.ref;return Ja(e,s),r=e1(t,e,n,r,i,s),n=t1(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rs(t,e,s)):(ze&&n&&Vv(e),e.flags|=1,Wt(t,e,r,s),e.child)}function iS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!f1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Lk(t,e,i,r,s)):(t=Bd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pc,n(o,r)&&t.ref===e.ref)return Rs(t,e,s)}return e.flags|=1,t=Pi(i,r),t.ref=e.ref,t.return=e,e.child=t}function Lk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(pc(i,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Rs(t,e,s)}return xy(t,e,n,r,s)}function Bk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Ba,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Ba,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pe(Ba,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Pe(Ba,En),En|=r;return Wt(t,e,s,n),e.child}function jk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xy(t,e,n,r,s){var i=cn(n)?qo:jt.current;return i=xl(e,i),Ja(e,s),n=e1(t,e,n,r,i,s),r=t1(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rs(t,e,s)):(ze&&r&&Vv(e),e.flags|=1,Wt(t,e,n,s),e.child)}function oS(t,e,n,r,s){if(cn(n)){var i=!0;mh(e)}else i=!1;if(Ja(e,s),e.stateNode===null)Fd(t,e),Rk(e,n,r),wy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ur(u):(u=cn(n)?qo:jt.current,u=xl(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&eS(e,o,r,u),si=!1;var d=e.memoizedState;o.state=d,bh(e,r,o,s),l=e.memoizedState,a!==r||d!==l||un.current||si?(typeof c=="function"&&(vy(e,n,c,r),l=e.memoizedState),(a=si||Jx(e,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:br(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=cn(n)?qo:jt.current,l=xl(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&eS(e,o,r,l),si=!1,d=e.memoizedState,o.state=d,bh(e,r,o,s);var m=e.memoizedState;a!==f||d!==m||un.current||si?(typeof h=="function"&&(vy(e,n,h,r),m=e.memoizedState),(u=si||Jx(e,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Sy(t,e,n,r,i,s)}function Sy(t,e,n,r,s,i){jk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Hx(e,n,!1),Rs(t,e,i);r=e.stateNode,J4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_l(e,t.child,null,i),e.child=_l(e,null,a,i)):Wt(t,e,a,i),e.memoizedState=r.state,s&&Hx(e,n,!0),e.child}function zk(t){var e=t.stateNode;e.pendingContext?Wx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wx(t,e.context,!1),Xv(t,e.containerInfo)}function aS(t,e,n,r,s){return Sl(),Wv(s),e.flags|=256,Wt(t,e,n,r),e.child}var _y={dehydrated:null,treeContext:null,retryLane:0};function Ty(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vk(t,e,n){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pe(We,s&1),t===null)return gy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Tp(o,r,0,null),t=Mo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ty(n),e.memoizedState=_y,t):s1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eB(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Pi(a,i):(i=Mo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ty(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=_y,r}return i=t.child,t=i.sibling,r=Pi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function s1(t,e){return e=Tp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ed(t,e,n,r){return r!==null&&Wv(r),_l(e,t.child,null,n),t=s1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eB(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Km(Error(U(422))),ed(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Tp({mode:"visible",children:r.children},s,0,null),i=Mo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&_l(e,t.child,null,o),e.child.memoizedState=Ty(o),e.memoizedState=_y,i);if(!(e.mode&1))return ed(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Km(i,r,void 0),ed(t,e,o,r)}if(a=(o&t.childLanes)!==0,sn||a){if(r=vt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ds(t,s),Pr(r,t,s,-1))}return c1(),r=Km(Error(U(421))),ed(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=hB.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pn=Ni(s.nextSibling),On=e,ze=!0,Er=null,t!==null&&(Yn[Xn++]=Ns,Yn[Xn++]=ks,Yn[Xn++]=Yo,Ns=t.id,ks=t.overflow,Yo=e),e=s1(e,r.children),e.flags|=4096,e)}function lS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yy(t.return,e,n)}function qm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Uk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Wt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lS(t,n,e);else if(t.tag===19)lS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qm(e,!0,n,null,i);break;case"together":qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tB(t,e,n){switch(e.tag){case 3:zk(e),Sl();break;case 5:mk(e);break;case 1:cn(e.type)&&mh(e);break;case 4:Xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pe(vh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?Vk(t,e,n):(Pe(We,We.current&1),t=Rs(t,e,n),t!==null?t.sibling:null);Pe(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Uk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,Bk(t,e,n)}return Rs(t,e,n)}var Wk,Ey,Hk,Gk;Wk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ey=function(){};Hk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,_o(rs.current);var i=null;switch(n){case"input":s=Kg(t,s),r=Kg(t,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=Xg(t,s),r=Xg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hh)}Zg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ac.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ac.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Gk=function(t,e,n,r){n!==r&&(e.flags|=4)};function wu(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nB(t,e,n){var r=e.pendingProps;switch(Uv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return cn(e.type)&&ph(),Pt(e),null;case 3:return r=e.stateNode,Tl(),Me(un),Me(jt),Zv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(Oy(Er),Er=null))),Ey(t,e),Pt(e),null;case 5:Qv(e);var s=_o(wc.current);if(n=e.type,t!==null&&e.stateNode!=null)Hk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Pt(e),null}if(t=_o(rs.current),Zf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Yr]=e,r[yc]=i,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<Pu.length;s++)De(Pu[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":yx(r,i),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},De("invalid",r);break;case"textarea":wx(r,i),De("invalid",r)}Zg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qf(r.textContent,a,t),s=["children",""+a]):ac.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":Uf(r),vx(r,i,!0);break;case"textarea":Uf(r),bx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Yr]=e,t[yc]=r,Wk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Jg(n,r),n){case"dialog":De("cancel",t),De("close",t),s=r;break;case"iframe":case"object":case"embed":De("load",t),s=r;break;case"video":case"audio":for(s=0;s<Pu.length;s++)De(Pu[s],t);s=r;break;case"source":De("error",t),s=r;break;case"img":case"image":case"link":De("error",t),De("load",t),s=r;break;case"details":De("toggle",t),s=r;break;case"input":yx(t,r),s=Kg(t,r),De("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),De("invalid",t);break;case"textarea":wx(t,r),s=Xg(t,r),De("invalid",t);break;default:s=r}Zg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?_N(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xN(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&lc(t,l):typeof l=="number"&&lc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ac.hasOwnProperty(i)?l!=null&&i==="onScroll"&&De("scroll",t):l!=null&&Av(t,i,l,o))}switch(n){case"input":Uf(t),vx(t,r,!1);break;case"textarea":Uf(t),bx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ya(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ya(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)Gk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=_o(wc.current),_o(rs.current),Zf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,(i=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:Qf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yr]=e,e.stateNode=r}return Pt(e),null;case 13:if(Me(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&Pn!==null&&e.mode&1&&!(e.flags&128))ck(),Sl(),e.flags|=98560,i=!1;else if(i=Zf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Yr]=e}else Sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else Er!==null&&(Oy(Er),Er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?pt===0&&(pt=3):c1())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Tl(),Ey(t,e),t===null&&mc(e.stateNode.containerInfo),Pt(e),null;case 10:return Kv(e.type._context),Pt(e),null;case 17:return cn(e.type)&&ph(),Pt(e),null;case 19:if(Me(We),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)wu(i,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xh(t),o!==null){for(e.flags|=128,wu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&rt()>Nl&&(e.flags|=128,r=!0,wu(i,!1),e.lanes=4194304)}else{if(!r)if(t=xh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return Pt(e),null}else 2*rt()-i.renderingStartTime>Nl&&n!==1073741824&&(e.flags|=128,r=!0,wu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=We.current,Pe(We,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return u1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function rB(t,e){switch(Uv(e),e.tag){case 1:return cn(e.type)&&ph(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tl(),Me(un),Me(jt),Zv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qv(e),null;case 13:if(Me(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(We),null;case 4:return Tl(),null;case 10:return Kv(e.type._context),null;case 22:case 23:return u1(),null;case 24:return null;default:return null}}var td=!1,Ot=!1,sB=typeof WeakSet=="function"?WeakSet:Set,Q=null;function La(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Ny(t,e,n){try{n()}catch(r){Je(t,e,r)}}var uS=!1;function iB(t,e){if(uy=ch,t=QN(),zv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cy={focusedElem:t,selectionRange:n},ch=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,g=m.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:br(e.type,p),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(x){Je(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return m=uS,uS=!1,m}function Hu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ny(e,n,i)}s=s.next}while(s!==r)}}function Sp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ky(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kk(t){var e=t.alternate;e!==null&&(t.alternate=null,Kk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yr],delete e[yc],delete e[hy],delete e[z4],delete e[V4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qk(t){return t.tag===5||t.tag===3||t.tag===4}function cS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ay(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hh));else if(r!==4&&(t=t.child,t!==null))for(Ay(t,e,n),t=t.sibling;t!==null;)Ay(t,e,n),t=t.sibling}function Cy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cy(t,e,n),t=t.sibling;t!==null;)Cy(t,e,n),t=t.sibling}var xt=null,Tr=!1;function Qs(t,e,n){for(n=n.child;n!==null;)Yk(t,e,n),n=n.sibling}function Yk(t,e,n){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(pp,n)}catch{}switch(n.tag){case 5:Ot||La(n,e);case 6:var r=xt,s=Tr;xt=null,Qs(t,e,n),xt=r,Tr=s,xt!==null&&(Tr?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(Tr?(t=xt,n=n.stateNode,t.nodeType===8?zm(t.parentNode,n):t.nodeType===1&&zm(t,n),dc(t)):zm(xt,n.stateNode));break;case 4:r=xt,s=Tr,xt=n.stateNode.containerInfo,Tr=!0,Qs(t,e,n),xt=r,Tr=s;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ny(n,e,o),s=s.next}while(s!==r)}Qs(t,e,n);break;case 1:if(!Ot&&(La(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}Qs(t,e,n);break;case 21:Qs(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,Qs(t,e,n),Ot=r):Qs(t,e,n);break;default:Qs(t,e,n)}}function fS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sB),e.forEach(function(r){var s=pB.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,Tr=!1;break e;case 3:xt=a.stateNode.containerInfo,Tr=!0;break e;case 4:xt=a.stateNode.containerInfo,Tr=!0;break e}a=a.return}if(xt===null)throw Error(U(160));Yk(i,o,s),xt=null,Tr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xk(e,t),e=e.sibling}function Xk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yr(e,t),jr(t),r&4){try{Hu(3,t,t.return),Sp(3,t)}catch(p){Je(t,t.return,p)}try{Hu(5,t,t.return)}catch(p){Je(t,t.return,p)}}break;case 1:yr(e,t),jr(t),r&512&&n!==null&&La(n,n.return);break;case 5:if(yr(e,t),jr(t),r&512&&n!==null&&La(n,n.return),t.flags&32){var s=t.stateNode;try{lc(s,"")}catch(p){Je(t,t.return,p)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vN(s,i),Jg(a,o);var u=Jg(a,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?_N(s,f):c==="dangerouslySetInnerHTML"?xN(s,f):c==="children"?lc(s,f):Av(s,c,f,u)}switch(a){case"input":qg(s,i);break;case"textarea":wN(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Ya(s,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?Ya(s,!!i.multiple,i.defaultValue,!0):Ya(s,!!i.multiple,i.multiple?[]:"",!1))}s[yc]=i}catch(p){Je(t,t.return,p)}}break;case 6:if(yr(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){Je(t,t.return,p)}}break;case 3:if(yr(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dc(e.containerInfo)}catch(p){Je(t,t.return,p)}break;case 4:yr(e,t),jr(t);break;case 13:yr(e,t),jr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(a1=rt())),r&4&&fS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(u=Ot)||c,yr(e,t),Ot=u):yr(e,t),jr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(f=Q=c;Q!==null;){switch(d=Q,h=d.child,d.tag){case 0:case 11:case 14:case 15:Hu(4,d,d.return);break;case 1:La(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Je(r,n,p)}}break;case 5:La(d,d.return);break;case 22:if(d.memoizedState!==null){hS(f);continue}}h!==null?(h.return=d,Q=h):hS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SN("display",o))}catch(p){Je(t,t.return,p)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Je(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yr(e,t),jr(t),r&4&&fS(t);break;case 21:break;default:yr(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qk(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(lc(s,""),r.flags&=-33);var i=cS(t);Cy(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cS(t);Ay(t,a,o);break;default:throw Error(U(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oB(t,e,n){Q=t,Qk(t)}function Qk(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||td;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=td;var u=Ot;if(td=o,(Ot=l)&&!u)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?pS(s):l!==null?(l.return=o,Q=l):pS(s);for(;i!==null;)Q=i,Qk(i),i=i.sibling;Q=s,td=a,Ot=u}dS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):dS(t)}}function dS(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Sp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Xx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&dc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ot||e.flags&512&&ky(e)}catch(d){Je(e,e.return,d)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function hS(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function pS(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sp(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Je(e,s,l)}}var i=e.return;try{ky(e)}catch(l){Je(e,i,l)}break;case 5:var o=e.return;try{ky(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var aB=Math.ceil,Th=Ws.ReactCurrentDispatcher,i1=Ws.ReactCurrentOwner,ir=Ws.ReactCurrentBatchConfig,ge=0,vt=null,ut=null,_t=0,En=0,Ba=Qi(0),pt=0,_c=null,Qo=0,_p=0,o1=0,Gu=null,rn=null,a1=0,Nl=1/0,ys=null,Eh=!1,Py=null,Ai=null,nd=!1,mi=null,Nh=0,Ku=0,$y=null,Md=-1,Ld=0;function qt(){return ge&6?rt():Md!==-1?Md:Md=rt()}function Ci(t){return t.mode&1?ge&2&&_t!==0?_t&-_t:W4.transition!==null?(Ld===0&&(Ld=RN()),Ld):(t=be,t!==0||(t=window.event,t=t===void 0?16:VN(t.type)),t):1}function Pr(t,e,n,r){if(50<Ku)throw Ku=0,$y=null,Error(U(185));lf(t,n,r),(!(ge&2)||t!==vt)&&(t===vt&&(!(ge&2)&&(_p|=n),pt===4&&oi(t,_t)),fn(t,r),n===1&&ge===0&&!(e.mode&1)&&(Nl=rt()+500,wp&&Zi()))}function fn(t,e){var n=t.callbackNode;WL(t,e);var r=uh(t,t===vt?_t:0);if(r===0)n!==null&&_x(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_x(n),e===1)t.tag===0?U4(mS.bind(null,t)):ak(mS.bind(null,t)),B4(function(){!(ge&6)&&Zi()}),n=null;else{switch(FN(r)){case 1:n=Ov;break;case 4:n=ON;break;case 16:n=lh;break;case 536870912:n=DN;break;default:n=lh}n=i2(n,Zk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zk(t,e){if(Md=-1,Ld=0,ge&6)throw Error(U(327));var n=t.callbackNode;if(el()&&t.callbackNode!==n)return null;var r=uh(t,t===vt?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kh(t,r);else{e=r;var s=ge;ge|=2;var i=e2();(vt!==t||_t!==e)&&(ys=null,Nl=rt()+500,Fo(t,e));do try{cB();break}catch(a){Jk(t,a)}while(!0);Gv(),Th.current=i,ge=s,ut!==null?e=0:(vt=null,_t=0,e=pt)}if(e!==0){if(e===2&&(s=sy(t),s!==0&&(r=s,e=Iy(t,s))),e===1)throw n=_c,Fo(t,0),oi(t,r),fn(t,rt()),n;if(e===6)oi(t,r);else{if(s=t.current.alternate,!(r&30)&&!lB(s)&&(e=kh(t,r),e===2&&(i=sy(t),i!==0&&(r=i,e=Iy(t,i))),e===1))throw n=_c,Fo(t,0),oi(t,r),fn(t,rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:po(t,rn,ys);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=a1+500-rt(),10<e)){if(uh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=dy(po.bind(null,t,rn,ys),e);break}po(t,rn,ys);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Cr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aB(r/1960))-r,10<r){t.timeoutHandle=dy(po.bind(null,t,rn,ys),r);break}po(t,rn,ys);break;case 5:po(t,rn,ys);break;default:throw Error(U(329))}}}return fn(t,rt()),t.callbackNode===n?Zk.bind(null,t):null}function Iy(t,e){var n=Gu;return t.current.memoizedState.isDehydrated&&(Fo(t,e).flags|=256),t=kh(t,e),t!==2&&(e=rn,rn=n,e!==null&&Oy(e)),t}function Oy(t){rn===null?rn=t:rn.push.apply(rn,t)}function lB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Or(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~o1,e&=~_p,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cr(e),r=1<<n;t[n]=-1,e&=~r}}function mS(t){if(ge&6)throw Error(U(327));el();var e=uh(t,0);if(!(e&1))return fn(t,rt()),null;var n=kh(t,e);if(t.tag!==0&&n===2){var r=sy(t);r!==0&&(e=r,n=Iy(t,r))}if(n===1)throw n=_c,Fo(t,0),oi(t,e),fn(t,rt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,po(t,rn,ys),fn(t,rt()),null}function l1(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Nl=rt()+500,wp&&Zi())}}function Zo(t){mi!==null&&mi.tag===0&&!(ge&6)&&el();var e=ge;ge|=1;var n=ir.transition,r=be;try{if(ir.transition=null,be=1,t)return t()}finally{be=r,ir.transition=n,ge=e,!(ge&6)&&Zi()}}function u1(){En=Ba.current,Me(Ba)}function Fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,L4(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ph();break;case 3:Tl(),Me(un),Me(jt),Zv();break;case 5:Qv(r);break;case 4:Tl();break;case 13:Me(We);break;case 19:Me(We);break;case 10:Kv(r.type._context);break;case 22:case 23:u1()}n=n.return}if(vt=t,ut=t=Pi(t.current,null),_t=En=e,pt=0,_c=null,o1=_p=Qo=0,rn=Gu=null,So!==null){for(e=0;e<So.length;e++)if(n=So[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}So=null}return t}function Jk(t,e){do{var n=ut;try{if(Gv(),Dd.current=_h,Sh){for(var r=qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sh=!1}if(Xo=0,mt=ct=qe=null,Wu=!1,bc=0,i1.current=null,n===null||n.return===null){pt=1,_c=e,ut=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=nS(o);if(h!==null){h.flags&=-257,rS(h,o,a,i,e),h.mode&1&&tS(i,u,e),e=h,l=u;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){tS(i,u,e),c1();break e}l=Error(U(426))}}else if(ze&&a.mode&1){var g=nS(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),rS(g,o,a,i,e),Wv(El(l,a));break e}}i=l=El(l,a),pt!==4&&(pt=2),Gu===null?Gu=[i]:Gu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Fk(i,l,e);Yx(i,y);break e;case 1:a=l;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ai===null||!Ai.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Mk(i,a,e);Yx(i,x);break e}}i=i.return}while(i!==null)}n2(n)}catch(S){e=S,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function e2(){var t=Th.current;return Th.current=_h,t===null?_h:t}function c1(){(pt===0||pt===3||pt===2)&&(pt=4),vt===null||!(Qo&268435455)&&!(_p&268435455)||oi(vt,_t)}function kh(t,e){var n=ge;ge|=2;var r=e2();(vt!==t||_t!==e)&&(ys=null,Fo(t,e));do try{uB();break}catch(s){Jk(t,s)}while(!0);if(Gv(),ge=n,Th.current=r,ut!==null)throw Error(U(261));return vt=null,_t=0,pt}function uB(){for(;ut!==null;)t2(ut)}function cB(){for(;ut!==null&&!RL();)t2(ut)}function t2(t){var e=s2(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?n2(t):ut=e,i1.current=null}function n2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rB(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ut=null;return}}else if(n=nB(n,e,En),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);pt===0&&(pt=5)}function po(t,e,n){var r=be,s=ir.transition;try{ir.transition=null,be=1,fB(t,e,n,r)}finally{ir.transition=s,be=r}return null}function fB(t,e,n,r){do el();while(mi!==null);if(ge&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(HL(t,i),t===vt&&(ut=vt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nd||(nd=!0,i2(lh,function(){return el(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ir.transition,ir.transition=null;var o=be;be=1;var a=ge;ge|=4,i1.current=null,iB(t,n),Xk(n,t),$4(cy),ch=!!uy,cy=uy=null,t.current=n,oB(n),FL(),ge=a,be=o,ir.transition=i}else t.current=n;if(nd&&(nd=!1,mi=t,Nh=s),i=t.pendingLanes,i===0&&(Ai=null),BL(n.stateNode),fn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Eh)throw Eh=!1,t=Py,Py=null,t;return Nh&1&&t.tag!==0&&el(),i=t.pendingLanes,i&1?t===$y?Ku++:(Ku=0,$y=t):Ku=0,Zi(),null}function el(){if(mi!==null){var t=FN(Nh),e=ir.transition,n=be;try{if(ir.transition=null,be=16>t?16:t,mi===null)var r=!1;else{if(t=mi,mi=null,Nh=0,ge&6)throw Error(U(331));var s=ge;for(ge|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:Hu(8,c,i)}var f=c.child;if(f!==null)f.return=c,Q=f;else for(;Q!==null;){c=Q;var d=c.sibling,h=c.return;if(Kk(c),c===u){Q=null;break}if(d!==null){d.return=h,Q=d;break}Q=h}}}var m=i.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hu(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Q=y;break e}Q=i.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sp(9,a)}}catch(S){Je(a,a.return,S)}if(a===o){Q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Q=x;break e}Q=a.return}}if(ge=s,Zi(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(pp,t)}catch{}r=!0}return r}finally{be=n,ir.transition=e}}return!1}function gS(t,e,n){e=El(n,e),e=Fk(t,e,1),t=ki(t,e,1),e=qt(),t!==null&&(lf(t,1,e),fn(t,e))}function Je(t,e,n){if(t.tag===3)gS(t,t,n);else for(;e!==null;){if(e.tag===3){gS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=El(n,t),t=Mk(e,t,1),e=ki(e,t,1),t=qt(),e!==null&&(lf(e,1,t),fn(e,t));break}}e=e.return}}function dB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(_t&n)===n&&(pt===4||pt===3&&(_t&130023424)===_t&&500>rt()-a1?Fo(t,0):o1|=n),fn(t,e)}function r2(t,e){e===0&&(t.mode&1?(e=Gf,Gf<<=1,!(Gf&130023424)&&(Gf=4194304)):e=1);var n=qt();t=Ds(t,e),t!==null&&(lf(t,e,n),fn(t,n))}function hB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),r2(t,n)}function pB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),r2(t,n)}var s2;s2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,tB(t,e,n);sn=!!(t.flags&131072)}else sn=!1,ze&&e.flags&1048576&&lk(e,yh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fd(t,e),t=e.pendingProps;var s=xl(e,jt.current);Ja(e,n),s=e1(null,e,r,t,s,n);var i=t1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(i=!0,mh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yv(e),s.updater=xp,e.stateNode=s,s._reactInternals=e,wy(e,r,t,n),e=Sy(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&Vv(e),Wt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gB(r),t=br(r,t),s){case 0:e=xy(null,e,r,t,n);break e;case 1:e=oS(null,e,r,t,n);break e;case 11:e=sS(null,e,r,t,n);break e;case 14:e=iS(null,e,r,br(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:br(r,s),xy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:br(r,s),oS(t,e,r,s,n);case 3:e:{if(zk(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pk(t,e),bh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=El(Error(U(423)),e),e=aS(t,e,r,n,s);break e}else if(r!==s){s=El(Error(U(424)),e),e=aS(t,e,r,n,s);break e}else for(Pn=Ni(e.stateNode.containerInfo.firstChild),On=e,ze=!0,Er=null,n=dk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),r===s){e=Rs(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return mk(e),t===null&&gy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,fy(r,s)?o=null:i!==null&&fy(r,i)&&(e.flags|=32),jk(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&gy(e),null;case 13:return Vk(t,e,n);case 4:return Xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_l(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:br(r,s),sS(t,e,r,s,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Pe(vh,r._currentValue),r._currentValue=o,i!==null)if(Or(i.value,o)){if(i.children===s.children&&!un.current){e=Rs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=As(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),yy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Wt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ja(e,n),s=ur(s),r=r(s),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,s=br(r,e.pendingProps),s=br(r.type,s),iS(t,e,r,s,n);case 15:return Lk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:br(r,s),Fd(t,e),e.tag=1,cn(r)?(t=!0,mh(e)):t=!1,Ja(e,n),Rk(e,r,s),wy(e,r,s,n),Sy(null,e,r,!0,t,n);case 19:return Uk(t,e,n);case 22:return Bk(t,e,n)}throw Error(U(156,e.tag))};function i2(t,e){return IN(t,e)}function mB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new mB(t,e,n,r)}function f1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gB(t){if(typeof t=="function")return f1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pv)return 11;if(t===$v)return 14}return 2}function Pi(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")f1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ca:return Mo(n.children,s,i,e);case Cv:o=8,s|=8;break;case Ug:return t=Qn(12,n,e,s|2),t.elementType=Ug,t.lanes=i,t;case Wg:return t=Qn(13,n,e,s),t.elementType=Wg,t.lanes=i,t;case Hg:return t=Qn(19,n,e,s),t.elementType=Hg,t.lanes=i,t;case mN:return Tp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hN:o=10;break e;case pN:o=9;break e;case Pv:o=11;break e;case $v:o=14;break e;case ri:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Qn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Mo(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function Tp(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=mN,t.lanes=n,t.stateNode={isHidden:!1},t}function Ym(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function Xm(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yB(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pm(0),this.expirationTimes=Pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function d1(t,e,n,r,s,i,o,a,l){return t=new yB(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Qn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(i),t}function vB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function o2(t){if(!t)return Ri;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(cn(n))return ok(t,n,e)}return e}function a2(t,e,n,r,s,i,o,a,l){return t=d1(n,r,!0,t,s,i,o,a,l),t.context=o2(null),n=t.current,r=qt(),s=Ci(n),i=As(r,s),i.callback=e??null,ki(n,i,s),t.current.lanes=s,lf(t,s,r),fn(t,r),t}function Ep(t,e,n,r){var s=e.current,i=qt(),o=Ci(s);return n=o2(n),e.context===null?e.context=n:e.pendingContext=n,e=As(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ki(s,e,o),t!==null&&(Pr(t,s,o,i),Od(t,s,o)),o}function Ah(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function h1(t,e){yS(t,e),(t=t.alternate)&&yS(t,e)}function wB(){return null}var l2=typeof reportError=="function"?reportError:function(t){console.error(t)};function p1(t){this._internalRoot=t}Np.prototype.render=p1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ep(t,e,null,null)};Np.prototype.unmount=p1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zo(function(){Ep(null,t,null,null)}),e[Os]=null}};function Np(t){this._internalRoot=t}Np.prototype.unstable_scheduleHydration=function(t){if(t){var e=BN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&zN(t)}};function m1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vS(){}function bB(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ah(o);i.call(u)}}var o=a2(e,r,t,0,null,!1,!1,"",vS);return t._reactRootContainer=o,t[Os]=o.current,mc(t.nodeType===8?t.parentNode:t),Zo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ah(l);a.call(u)}}var l=d1(t,0,!1,null,null,!1,!1,"",vS);return t._reactRootContainer=l,t[Os]=l.current,mc(t.nodeType===8?t.parentNode:t),Zo(function(){Ep(e,l,n,r)}),l}function Ap(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ah(o);a.call(l)}}Ep(e,o,t,s)}else o=bB(n,e,t,s,r);return Ah(o)}MN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cu(e.pendingLanes);n!==0&&(Dv(e,n|1),fn(e,rt()),!(ge&6)&&(Nl=rt()+500,Zi()))}break;case 13:Zo(function(){var r=Ds(t,1);if(r!==null){var s=qt();Pr(r,t,1,s)}}),h1(t,1)}};Rv=function(t){if(t.tag===13){var e=Ds(t,134217728);if(e!==null){var n=qt();Pr(e,t,134217728,n)}h1(t,134217728)}};LN=function(t){if(t.tag===13){var e=Ci(t),n=Ds(t,e);if(n!==null){var r=qt();Pr(n,t,e,r)}h1(t,e)}};BN=function(){return be};jN=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};ty=function(t,e,n){switch(e){case"input":if(qg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vp(r);if(!s)throw Error(U(90));yN(r),qg(r,s)}}}break;case"textarea":wN(t,n);break;case"select":e=n.value,e!=null&&Ya(t,!!n.multiple,e,!1)}};NN=l1;kN=Zo;var xB={usingClientEntryPoint:!1,Events:[cf,Oa,vp,TN,EN,l1]},bu={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SB={bundleType:bu.bundleType,version:bu.version,rendererPackageName:bu.rendererPackageName,rendererConfig:bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PN(t),t===null?null:t.stateNode},findFiberByHostInstance:bu.findFiberByHostInstance||wB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{pp=rd.inject(SB),ns=rd}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xB;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m1(e))throw Error(U(200));return vB(t,e,null,n)};Bn.createRoot=function(t,e){if(!m1(t))throw Error(U(299));var n=!1,r="",s=l2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=d1(t,1,!1,null,null,n,!1,r,s),t[Os]=e.current,mc(t.nodeType===8?t.parentNode:t),new p1(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=PN(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Zo(t)};Bn.hydrate=function(t,e,n){if(!kp(e))throw Error(U(200));return Ap(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!m1(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=l2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=a2(e,null,t,1,n??null,s,!1,i,o),t[Os]=e.current,mc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Np(e)};Bn.render=function(t,e,n){if(!kp(e))throw Error(U(200));return Ap(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!kp(t))throw Error(U(40));return t._reactRootContainer?(Zo(function(){Ap(null,null,t,!1,function(){t._reactRootContainer=null,t[Os]=null})}),!0):!1};Bn.unstable_batchedUpdates=l1;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kp(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Ap(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function u2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u2)}catch(t){console.error(t)}}u2(),uN.exports=Bn;var df=uN.exports;const c2=xv(df);var f2,wS=df;f2=wS.createRoot,wS.hydrateRoot;const _B=1,TB=1e6;let Qm=0;function EB(){return Qm=(Qm+1)%Number.MAX_SAFE_INTEGER,Qm.toString()}const Zm=new Map,bS=t=>{if(Zm.has(t))return;const e=setTimeout(()=>{Zm.delete(t),qu({type:"REMOVE_TOAST",toastId:t})},TB);Zm.set(t,e)},NB=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,_B)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?bS(n):t.toasts.forEach(r=>{bS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},jd=[];let zd={toasts:[]};function qu(t){zd=NB(zd,t),jd.forEach(e=>{e(zd)})}function kB({...t}){const e=EB(),n=s=>qu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>qu({type:"DISMISS_TOAST",toastId:e});return qu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function AB(){const[t,e]=N.useState(zd);return N.useEffect(()=>(jd.push(e),()=>{const n=jd.indexOf(e);n>-1&&jd.splice(n,1)}),[t]),{...t,toast:kB,dismiss:n=>qu({type:"DISMISS_TOAST",toastId:n})}}function ft(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function xS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function d2(...t){return e=>{let n=!1;const r=t.map(s=>{const i=xS(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():xS(t[s],null)}}}}function Dr(...t){return N.useCallback(d2(...t),t)}function Cp(t,e=[]){let n=[];function r(i,o){const a=N.createContext(o),l=n.length;n=[...n,o];const u=f=>{var y;const{scope:d,children:h,...m}=f,p=((y=d==null?void 0:d[t])==null?void 0:y[l])||a,g=N.useMemo(()=>m,Object.values(m));return C.jsx(p.Provider,{value:g,children:h})};u.displayName=i+"Provider";function c(f,d){var p;const h=((p=d==null?void 0:d[t])==null?void 0:p[l])||a,m=N.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,c]}const s=()=>{const i=n.map(o=>N.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,CB(s,...e)]}function CB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ch(t){const e=$B(t),n=N.forwardRef((r,s)=>{const{children:i,...o}=r,a=N.Children.toArray(i),l=a.find(OB);if(l){const u=l.props.children,c=a.map(f=>f===l?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return C.jsx(e,{...o,ref:s,children:N.isValidElement(u)?N.cloneElement(u,void 0,c):null})}return C.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var PB=Ch("Slot");function $B(t){const e=N.forwardRef((n,r)=>{const{children:s,...i}=n;if(N.isValidElement(s)){const o=RB(s),a=DB(i,s.props);return s.type!==N.Fragment&&(a.ref=r?d2(r,o):o),N.cloneElement(s,a)}return N.Children.count(s)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var h2=Symbol("radix.slottable");function IB(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=h2,e}function OB(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===h2}function DB(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function RB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function FB(t){const e=t+"CollectionProvider",[n,r]=Cp(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:y}=p,v=K.useRef(null),w=K.useRef(new Map).current;return C.jsx(s,{scope:g,itemMap:w,collectionRef:v,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Ch(a),u=K.forwardRef((p,g)=>{const{scope:y,children:v}=p,w=i(a,y),x=Dr(g,w.collectionRef);return C.jsx(l,{ref:x,children:v})});u.displayName=a;const c=t+"CollectionItemSlot",f="data-radix-collection-item",d=Ch(c),h=K.forwardRef((p,g)=>{const{scope:y,children:v,...w}=p,x=K.useRef(null),S=Dr(g,x),_=i(c,y);return K.useEffect(()=>(_.itemMap.set(x,{ref:x,...w}),()=>void _.itemMap.delete(x))),C.jsx(d,{[f]:"",ref:S,children:v})});h.displayName=c;function m(p){const g=i(t+"CollectionConsumer",p);return K.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((_,T)=>w.indexOf(_.ref.current)-w.indexOf(T.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},m,r]}var MB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wn=MB.reduce((t,e)=>{const n=Ch(`Primitive.${e}`),r=N.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function p2(t,e){t&&df.flushSync(()=>t.dispatchEvent(e))}function Fi(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function LB(t,e=globalThis==null?void 0:globalThis.document){const n=Fi(t);N.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var BB="DismissableLayer",Dy="dismissableLayer.update",jB="dismissableLayer.pointerDownOutside",zB="dismissableLayer.focusOutside",SS,m2=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),g1=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=N.useContext(m2),[c,f]=N.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=N.useState({}),m=Dr(e,T=>f(T)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),v=c?p.indexOf(c):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,x=v>=y,S=UB(T=>{const k=T.target,P=[...u.branches].some(O=>O.contains(k));!x||P||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},d),_=WB(T=>{const k=T.target;[...u.branches].some(O=>O.contains(k))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},d);return LB(T=>{v===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},d),N.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(SS=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),_S(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=SS)}},[c,d,n,u]),N.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),_S())},[c,u]),N.useEffect(()=>{const T=()=>h({});return document.addEventListener(Dy,T),()=>document.removeEventListener(Dy,T)},[]),C.jsx(wn.div,{...l,ref:m,style:{pointerEvents:w?x?"auto":"none":void 0,...t.style},onFocusCapture:ft(t.onFocusCapture,_.onFocusCapture),onBlurCapture:ft(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ft(t.onPointerDownCapture,S.onPointerDownCapture)})});g1.displayName=BB;var VB="DismissableLayerBranch",g2=N.forwardRef((t,e)=>{const n=N.useContext(m2),r=N.useRef(null),s=Dr(e,r);return N.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),C.jsx(wn.div,{...t,ref:s})});g2.displayName=VB;function UB(t,e=globalThis==null?void 0:globalThis.document){const n=Fi(t),r=N.useRef(!1),s=N.useRef(()=>{});return N.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){y2(jB,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function WB(t,e=globalThis==null?void 0:globalThis.document){const n=Fi(t),r=N.useRef(!1);return N.useEffect(()=>{const s=i=>{i.target&&!r.current&&y2(zB,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _S(){const t=new CustomEvent(Dy);document.dispatchEvent(t)}function y2(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?p2(s,i):s.dispatchEvent(i)}var HB=g1,GB=g2,Mi=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},KB="Portal",v2=N.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=N.useState(!1);Mi(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?c2.createPortal(C.jsx(wn.div,{...r,ref:e}),o):null});v2.displayName=KB;function qB(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var y1=t=>{const{present:e,children:n}=t,r=YB(e),s=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),i=Dr(r.ref,XB(s));return typeof n=="function"||r.isPresent?N.cloneElement(s,{ref:i}):null};y1.displayName="Presence";function YB(t){const[e,n]=N.useState(),r=N.useRef(null),s=N.useRef(t),i=N.useRef("none"),o=t?"mounted":"unmounted",[a,l]=qB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=sd(r.current);i.current=a==="mounted"?u:"none"},[a]),Mi(()=>{const u=r.current,c=s.current;if(c!==t){const d=i.current,h=sd(u);t?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Mi(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,f=h=>{const p=sd(r.current).includes(h.animationName);if(h.target===e&&p&&(l("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},d=h=>{h.target===e&&(i.current=sd(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:N.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function sd(t){return(t==null?void 0:t.animationName)||"none"}function XB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var QB=aN[" useInsertionEffect ".trim().toString()]||Mi;function ZB({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=JB({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const c=N.useRef(t!==void 0);N.useEffect(()=>{const f=c.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,r])}const u=N.useCallback(c=>{var f;if(a){const d=e5(c)?c(t):c;d!==t&&((f=o.current)==null||f.call(o,d))}else i(c)},[a,t,i,o]);return[l,u]}function JB({defaultProp:t,onChange:e}){const[n,r]=N.useState(t),s=N.useRef(n),i=N.useRef(e);return QB(()=>{i.current=e},[e]),N.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function e5(t){return typeof t=="function"}var t5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),n5="VisuallyHidden",Pp=N.forwardRef((t,e)=>C.jsx(wn.span,{...t,ref:e,style:{...t5,...t.style}}));Pp.displayName=n5;var r5=Pp,v1="ToastProvider",[w1,s5,i5]=FB("Toast"),[w2,Jie]=Cp("Toast",[i5]),[o5,$p]=w2(v1),b2=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=N.useState(null),[u,c]=N.useState(0),f=N.useRef(!1),d=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${v1}\`. Expected non-empty \`string\`.`),C.jsx(w1.Provider,{scope:e,children:C.jsx(o5,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:N.useCallback(()=>c(h=>h+1),[]),onToastRemove:N.useCallback(()=>c(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:o})})};b2.displayName=v1;var x2="ToastViewport",a5=["F8"],Ry="toast.viewportPause",Fy="toast.viewportResume",S2=N.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=a5,label:s="Notifications ({hotkey})",...i}=t,o=$p(x2,n),a=s5(n),l=N.useRef(null),u=N.useRef(null),c=N.useRef(null),f=N.useRef(null),d=Dr(e,f,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;N.useEffect(()=>{const g=y=>{var w;r.length!==0&&r.every(x=>y[x]||y.code===x)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),N.useEffect(()=>{const g=l.current,y=f.current;if(m&&g&&y){const v=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(Ry);y.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(Fy);y.dispatchEvent(_),o.isClosePausedRef.current=!1}},x=_=>{!g.contains(_.relatedTarget)&&w()},S=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",v),g.addEventListener("focusout",x),g.addEventListener("pointermove",v),g.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",v),g.removeEventListener("focusout",x),g.removeEventListener("pointermove",v),g.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[m,o.isClosePausedRef]);const p=N.useCallback(({tabbingDirection:g})=>{const v=a().map(w=>{const x=w.ref.current,S=[x,...b5(x)];return g==="forwards"?S:S.reverse()});return(g==="forwards"?v.reverse():v).flat()},[a]);return N.useEffect(()=>{const g=f.current;if(g){const y=v=>{var S,_,T;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const k=document.activeElement,P=v.shiftKey;if(v.target===g&&P){(S=u.current)==null||S.focus();return}const F=p({tabbingDirection:P?"backwards":"forwards"}),z=F.findIndex(L=>L===k);Jm(F.slice(z+1))?v.preventDefault():P?(_=u.current)==null||_.focus():(T=c.current)==null||T.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[a,p]),C.jsxs(GB,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&C.jsx(My,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});Jm(g)}}),C.jsx(w1.Slot,{scope:n,children:C.jsx(wn.ol,{tabIndex:-1,...i,ref:d})}),m&&C.jsx(My,{ref:c,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});Jm(g)}})]})});S2.displayName=x2;var _2="ToastFocusProxy",My=N.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=$p(_2,n);return C.jsx(Pp,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});My.displayName=_2;var hf="Toast",l5="toast.swipeStart",u5="toast.swipeMove",c5="toast.swipeCancel",f5="toast.swipeEnd",T2=N.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=ZB({prop:r,defaultProp:s??!0,onChange:i,caller:hf});return C.jsx(y1,{present:n||a,children:C.jsx(p5,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Fi(t.onPause),onResume:Fi(t.onResume),onSwipeStart:ft(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ft(t.onSwipeMove,u=>{const{x:c,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ft(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ft(t.onSwipeEnd,u=>{const{x:c,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});T2.displayName=hf;var[d5,h5]=w2(hf,{onClose(){}}),p5=N.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...m}=t,p=$p(hf,n),[g,y]=N.useState(null),v=Dr(e,L=>y(L)),w=N.useRef(null),x=N.useRef(null),S=s||p.duration,_=N.useRef(0),T=N.useRef(S),k=N.useRef(0),{onToastAdd:P,onToastRemove:O}=p,D=Fi(()=>{var W;(g==null?void 0:g.contains(document.activeElement))&&((W=p.viewport)==null||W.focus()),o()}),F=N.useCallback(L=>{!L||L===1/0||(window.clearTimeout(k.current),_.current=new Date().getTime(),k.current=window.setTimeout(D,L))},[D]);N.useEffect(()=>{const L=p.viewport;if(L){const W=()=>{F(T.current),u==null||u()},G=()=>{const V=new Date().getTime()-_.current;T.current=T.current-V,window.clearTimeout(k.current),l==null||l()};return L.addEventListener(Ry,G),L.addEventListener(Fy,W),()=>{L.removeEventListener(Ry,G),L.removeEventListener(Fy,W)}}},[p.viewport,S,l,u,F]),N.useEffect(()=>{i&&!p.isClosePausedRef.current&&F(S)},[i,S,p.isClosePausedRef,F]),N.useEffect(()=>(P(),()=>O()),[P,O]);const z=N.useMemo(()=>g?$2(g):null,[g]);return p.viewport?C.jsxs(C.Fragment,{children:[z&&C.jsx(m5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),C.jsx(d5,{scope:n,onClose:D,children:df.createPortal(C.jsx(w1.ItemSlot,{scope:n,children:C.jsx(HB,{asChild:!0,onEscapeKeyDown:ft(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||D(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(wn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...m,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ft(t.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ft(t.onPointerDown,L=>{L.button===0&&(w.current={x:L.clientX,y:L.clientY})}),onPointerMove:ft(t.onPointerMove,L=>{if(!w.current)return;const W=L.clientX-w.current.x,G=L.clientY-w.current.y,V=!!x.current,R=["left","right"].includes(p.swipeDirection),M=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,H=R?M(0,W):0,Z=R?0:M(0,G),X=L.pointerType==="touch"?10:2,se={x:H,y:Z},ee={originalEvent:L,delta:se};V?(x.current=se,id(u5,f,ee,{discrete:!1})):TS(se,p.swipeDirection,X)?(x.current=se,id(l5,c,ee,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(W)>X||Math.abs(G)>X)&&(w.current=null)}),onPointerUp:ft(t.onPointerUp,L=>{const W=x.current,G=L.target;if(G.hasPointerCapture(L.pointerId)&&G.releasePointerCapture(L.pointerId),x.current=null,w.current=null,W){const V=L.currentTarget,R={originalEvent:L,delta:W};TS(W,p.swipeDirection,p.swipeThreshold)?id(f5,h,R,{discrete:!0}):id(c5,d,R,{discrete:!0}),V.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),m5=t=>{const{__scopeToast:e,children:n,...r}=t,s=$p(hf,e),[i,o]=N.useState(!1),[a,l]=N.useState(!1);return v5(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:C.jsx(v2,{asChild:!0,children:C.jsx(Pp,{...r,children:i&&C.jsxs(C.Fragment,{children:[s.label," ",n]})})})},g5="ToastTitle",E2=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(wn.div,{...r,ref:e})});E2.displayName=g5;var y5="ToastDescription",N2=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(wn.div,{...r,ref:e})});N2.displayName=y5;var k2="ToastAction",A2=N.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?C.jsx(P2,{altText:n,asChild:!0,children:C.jsx(b1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${k2}\`. Expected non-empty \`string\`.`),null)});A2.displayName=k2;var C2="ToastClose",b1=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=h5(C2,n);return C.jsx(P2,{asChild:!0,children:C.jsx(wn.button,{type:"button",...r,ref:e,onClick:ft(t.onClick,s.onClose)})})});b1.displayName=C2;var P2=N.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return C.jsx(wn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function $2(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),w5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$2(r))}}),e}function id(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?p2(s,i):s.dispatchEvent(i)}var TS=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function v5(t=()=>{}){const e=Fi(t);Mi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function w5(t){return t.nodeType===t.ELEMENT_NODE}function b5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Jm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var x5=b2,I2=S2,O2=T2,D2=E2,R2=N2,F2=A2,M2=b1;function L2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=L2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function B2(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=L2(t))&&(r&&(r+=" "),r+=e);return r}const ES=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,NS=B2,j2=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return NS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const c=n==null?void 0:n[u],f=i==null?void 0:i[u];if(c===null)return null;const d=ES(c)||ES(f);return s[u][d]}),a=n&&Object.entries(n).reduce((u,c)=>{let[f,d]=c;return d===void 0||(u[f]=d),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:f,className:d,...h}=c;return Object.entries(h).every(m=>{let[p,g]=m;return Array.isArray(g)?g.includes({...i,...a}[p]):{...i,...a}[p]===g})?[...u,f,d]:u},[]);return NS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>N.createElement("svg",{ref:l,..._5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:z2("lucide",s),...a},[...o.map(([u,c])=>N.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=(t,e)=>{const n=N.forwardRef(({className:r,...s},i)=>N.createElement(T5,{ref:i,iconNode:e,className:z2(`lucide-${S5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Zl("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=Zl("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Zl("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=Zl("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=Zl("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Zl("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),x1="-",A5=t=>{const e=P5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(x1);return a[0]===""&&a.length!==1&&a.shift(),W2(a,e)||C5(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},W2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?W2(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(x1);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},AS=/^\[(.+)\]$/,C5=t=>{if(AS.test(t)){const e=AS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},P5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return I5(Object.entries(t.classGroups),n).forEach(([i,o])=>{Ly(o,r,i,e)}),r},Ly=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:CS(e,s);i.classGroupId=n;return}if(typeof s=="function"){if($5(s)){Ly(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ly(o,CS(e,i),n,r)})})},CS=(t,e)=>{let n=t;return e.split(x1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$5=t=>t.isThemeGetter,I5=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,O5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},H2="!",D5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,c=0,f;for(let g=0;g<a.length;g++){let y=a[g];if(u===0){if(y===s&&(r||a.slice(g,g+i)===e)){l.push(a.slice(c,g)),c=g+i;continue}if(y==="/"){f=g;continue}}y==="["?u++:y==="]"&&u--}const d=l.length===0?a:a.substring(c),h=d.startsWith(H2),m=h?d.substring(1):d,p=f&&f>c?f-c:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},R5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},F5=t=>({cache:O5(t.cacheSize),parseClassName:D5(t),...A5(t)}),M5=/\s+/,L5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(M5);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=n(u);let m=!!h,p=r(m?d.substring(0,h):d);if(!p){if(!m){a=u+(a.length>0?" "+a:a);continue}if(p=r(d),!p){a=u+(a.length>0?" "+a:a);continue}m=!1}const g=R5(c).join(":"),y=f?g+H2:g,v=y+p;if(i.includes(v))continue;i.push(v);const w=s(p,m);for(let x=0;x<w.length;++x){const S=w[x];i.push(y+S)}a=u+(a.length>0?" "+a:a)}return a};function B5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=G2(e))&&(r&&(r+=" "),r+=n);return r}const G2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=G2(t[r]))&&(n&&(n+=" "),n+=e);return n};function j5(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((c,f)=>f(c),t());return n=F5(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=L5(l,n);return s(l,c),c}return function(){return i(B5.apply(null,arguments))}}const Oe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},K2=/^\[(?:([a-z-]+):)?(.+)\]$/i,z5=/^\d+\/\d+$/,V5=new Set(["px","full","screen"]),U5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,H5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,G5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,K5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ms=t=>tl(t)||V5.has(t)||z5.test(t),Zs=t=>Jl(t,"length",tj),tl=t=>!!t&&!Number.isNaN(Number(t)),eg=t=>Jl(t,"number",tl),xu=t=>!!t&&Number.isInteger(Number(t)),q5=t=>t.endsWith("%")&&tl(t.slice(0,-1)),le=t=>K2.test(t),Js=t=>U5.test(t),Y5=new Set(["length","size","percentage"]),X5=t=>Jl(t,Y5,q2),Q5=t=>Jl(t,"position",q2),Z5=new Set(["image","url"]),J5=t=>Jl(t,Z5,rj),ej=t=>Jl(t,"",nj),Su=()=>!0,Jl=(t,e,n)=>{const r=K2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},tj=t=>W5.test(t)&&!H5.test(t),q2=()=>!1,nj=t=>G5.test(t),rj=t=>K5.test(t),sj=()=>{const t=Oe("colors"),e=Oe("spacing"),n=Oe("blur"),r=Oe("brightness"),s=Oe("borderColor"),i=Oe("borderRadius"),o=Oe("borderSpacing"),a=Oe("borderWidth"),l=Oe("contrast"),u=Oe("grayscale"),c=Oe("hueRotate"),f=Oe("invert"),d=Oe("gap"),h=Oe("gradientColorStops"),m=Oe("gradientColorStopPositions"),p=Oe("inset"),g=Oe("margin"),y=Oe("opacity"),v=Oe("padding"),w=Oe("saturate"),x=Oe("scale"),S=Oe("sepia"),_=Oe("skew"),T=Oe("space"),k=Oe("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",le,e],F=()=>[le,e],z=()=>["",ms,Zs],L=()=>["auto",tl,le],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",le],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[tl,le];return{cacheSize:500,separator:":",theme:{colors:[Su],spacing:[ms,Zs],blur:["none","",Js,le],brightness:Z(),borderColor:[t],borderRadius:["none","","full",Js,le],borderSpacing:F(),borderWidth:z(),contrast:Z(),grayscale:M(),hueRotate:Z(),invert:M(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[q5,Zs],inset:D(),margin:D(),opacity:Z(),padding:F(),saturate:Z(),scale:Z(),sepia:M(),skew:Z(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[Js]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),le]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xu,le]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",xu,le]}],"grid-cols":[{"grid-cols":[Su]}],"col-start-end":[{col:["auto",{span:["full",xu,le]},le]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Su]}],"row-start-end":[{row:["auto",{span:[xu,le]},le]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,e]}],"min-w":[{"min-w":[le,e,"min","max","fit"]}],"max-w":[{"max-w":[le,e,"none","full","min","max","fit","prose",{screen:[Js]},Js]}],h:[{h:[le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Js,Zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eg]}],"font-family":[{font:[Su]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",tl,eg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ms,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ms,Zs]}],"underline-offset":[{"underline-offset":["auto",ms,le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),Q5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",X5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},J5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[ms,le]}],"outline-w":[{outline:[ms,Zs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ms,Zs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Js,ej]}],"shadow-color":[{shadow:[Su]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Js,le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[xu,le]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ms,Zs,eg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ij=j5(sj);function Ji(...t){return ij(B2(t))}const oj=x5,Y2=N.forwardRef(({className:t,...e},n)=>C.jsx(I2,{ref:n,className:Ji("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Y2.displayName=I2.displayName;const aj=j2("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),X2=N.forwardRef(({className:t,variant:e,...n},r)=>C.jsx(O2,{ref:r,className:Ji(aj({variant:e}),t),...n}));X2.displayName=O2.displayName;const lj=N.forwardRef(({className:t,...e},n)=>C.jsx(F2,{ref:n,className:Ji("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));lj.displayName=F2.displayName;const Q2=N.forwardRef(({className:t,...e},n)=>C.jsx(M2,{ref:n,className:Ji("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:C.jsx(U2,{className:"h-4 w-4"})}));Q2.displayName=M2.displayName;const Z2=N.forwardRef(({className:t,...e},n)=>C.jsx(D2,{ref:n,className:Ji("text-sm font-semibold",t),...e}));Z2.displayName=D2.displayName;const J2=N.forwardRef(({className:t,...e},n)=>C.jsx(R2,{ref:n,className:Ji("text-sm opacity-90",t),...e}));J2.displayName=R2.displayName;function uj(){const{toasts:t}=AB();return C.jsxs(oj,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return C.jsxs(X2,{...i,children:[C.jsxs("div",{className:"grid gap-1",children:[n&&C.jsx(Z2,{children:n}),r&&C.jsx(J2,{children:r})]}),s,C.jsx(Q2,{})]},e)}),C.jsx(Y2,{})]})}var PS=["light","dark"],cj="(prefers-color-scheme: dark)",fj=N.createContext(void 0),dj={setTheme:t=>{},themes:[]},hj=()=>{var t;return(t=N.useContext(fj))!=null?t:dj};N.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",c=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?PS.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(m,p=!1,g=!0)=>{let y=o?o[m]:m,v=p?m+"|| ''":`'${y}'`,w="";return s&&g&&!p&&PS.includes(m)&&(w+=`d.style.colorScheme = '${m}';`),n==="class"?p||y?w+=`c.add(${v})`:w+="null":y&&(w+=`d[s](n,${v})`),w},h=t?`!function(){${c}${d(t)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${cj}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${u?"":"else{"+d(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(i,!1,!1)};}${f}}catch(t){}}();`;return N.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var pj=t=>{switch(t){case"success":return yj;case"info":return wj;case"warning":return vj;case"error":return bj;default:return null}},mj=Array(12).fill(0),gj=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},mj.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),yj=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vj=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wj=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bj=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xj=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Sj=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},By=1,_j=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:By++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],K.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(Ej(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,c=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:c})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,c=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:c})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,c=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:c})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||By++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},en=new _j,Tj=(t,e)=>{let n=(e==null?void 0:e.id)||By++;return en.addToast({title:t,...e,id:n}),n},Ej=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Nj=Tj,kj=()=>en.toasts,Aj=()=>en.getActiveToasts();Object.assign(Nj,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:kj,getToasts:Aj});function Cj(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Cj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function od(t){return t.label!==void 0}var Pj=3,$j="32px",Ij="16px",$S=4e3,Oj=356,Dj=14,Rj=20,Fj=200;function vr(...t){return t.filter(Boolean).join(" ")}function Mj(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Lj=t=>{var e,n,r,s,i,o,a,l,u,c,f;let{invert:d,toast:h,unstyled:m,interacting:p,setHeights:g,visibleToasts:y,heights:v,index:w,toasts:x,expanded:S,removeToast:_,defaultRichColors:T,closeButton:k,style:P,cancelButtonStyle:O,actionButtonStyle:D,className:F="",descriptionClassName:z="",duration:L,position:W,gap:G,loadingIcon:V,expandByDefault:R,classNames:M,icons:H,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:X}=t,[se,ee]=K.useState(null),[pe,Xe]=K.useState(null),[de,Vn]=K.useState(!1),[kt,hr]=K.useState(!1),[Sn,Vt]=K.useState(!1),[Ks,Mf]=K.useState(!1),[bm,Lf]=K.useState(!1),[xm,fu]=K.useState(0),[ga,sx]=K.useState(0),du=K.useRef(h.duration||L||$S),ix=K.useRef(null),io=K.useRef(null),VM=w===0,UM=w+1<=y,Un=h.type,ya=h.dismissible!==!1,WM=h.className||"",HM=h.descriptionClassName||"",Bf=K.useMemo(()=>v.findIndex(ie=>ie.toastId===h.id)||0,[v,h.id]),GM=K.useMemo(()=>{var ie;return(ie=h.closeButton)!=null?ie:k},[h.closeButton,k]),ox=K.useMemo(()=>h.duration||L||$S,[h.duration,L]),Sm=K.useRef(0),va=K.useRef(0),ax=K.useRef(0),wa=K.useRef(null),[KM,qM]=W.split("-"),lx=K.useMemo(()=>v.reduce((ie,Se,Be)=>Be>=Bf?ie:ie+Se.height,0),[v,Bf]),ux=Sj(),YM=h.invert||d,_m=Un==="loading";va.current=K.useMemo(()=>Bf*G+lx,[Bf,lx]),K.useEffect(()=>{du.current=ox},[ox]),K.useEffect(()=>{Vn(!0)},[]),K.useEffect(()=>{let ie=io.current;if(ie){let Se=ie.getBoundingClientRect().height;return sx(Se),g(Be=>[{toastId:h.id,height:Se,position:h.position},...Be]),()=>g(Be=>Be.filter(pr=>pr.toastId!==h.id))}},[g,h.id]),K.useLayoutEffect(()=>{if(!de)return;let ie=io.current,Se=ie.style.height;ie.style.height="auto";let Be=ie.getBoundingClientRect().height;ie.style.height=Se,sx(Be),g(pr=>pr.find(mr=>mr.toastId===h.id)?pr.map(mr=>mr.toastId===h.id?{...mr,height:Be}:mr):[{toastId:h.id,height:Be,position:h.position},...pr])},[de,h.title,h.description,g,h.id]);let qs=K.useCallback(()=>{hr(!0),fu(va.current),g(ie=>ie.filter(Se=>Se.toastId!==h.id)),setTimeout(()=>{_(h)},Fj)},[h,_,g,va]);K.useEffect(()=>{if(h.promise&&Un==="loading"||h.duration===1/0||h.type==="loading")return;let ie;return S||p||X&&ux?(()=>{if(ax.current<Sm.current){let Se=new Date().getTime()-Sm.current;du.current=du.current-Se}ax.current=new Date().getTime()})():du.current!==1/0&&(Sm.current=new Date().getTime(),ie=setTimeout(()=>{var Se;(Se=h.onAutoClose)==null||Se.call(h,h),qs()},du.current)),()=>clearTimeout(ie)},[S,p,h,Un,X,ux,qs]),K.useEffect(()=>{h.delete&&qs()},[qs,h.delete]);function XM(){var ie,Se,Be;return H!=null&&H.loading?K.createElement("div",{className:vr(M==null?void 0:M.loader,(ie=h==null?void 0:h.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Un==="loading"},H.loading):V?K.createElement("div",{className:vr(M==null?void 0:M.loader,(Se=h==null?void 0:h.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":Un==="loading"},V):K.createElement(gj,{className:vr(M==null?void 0:M.loader,(Be=h==null?void 0:h.classNames)==null?void 0:Be.loader),visible:Un==="loading"})}return K.createElement("li",{tabIndex:0,ref:io,className:vr(F,WM,M==null?void 0:M.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[Un],(n=h==null?void 0:h.classNames)==null?void 0:n[Un]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:T,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":de,"data-promise":!!h.promise,"data-swiped":bm,"data-removed":kt,"data-visible":UM,"data-y-position":KM,"data-x-position":qM,"data-index":w,"data-front":VM,"data-swiping":Sn,"data-dismissible":ya,"data-type":Un,"data-invert":YM,"data-swipe-out":Ks,"data-swipe-direction":pe,"data-expanded":!!(S||R&&de),style:{"--index":w,"--toasts-before":w,"--z-index":x.length-w,"--offset":`${kt?xm:va.current}px`,"--initial-height":R?"auto":`${ga}px`,...P,...h.style},onDragEnd:()=>{Vt(!1),ee(null),wa.current=null},onPointerDown:ie=>{_m||!ya||(ix.current=new Date,fu(va.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(Vt(!0),wa.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Se,Be,pr;if(Ks||!ya)return;wa.current=null;let mr=Number(((ie=io.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ys=Number(((Se=io.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),oo=new Date().getTime()-((Be=ix.current)==null?void 0:Be.getTime()),gr=se==="x"?mr:Ys,Xs=Math.abs(gr)/oo;if(Math.abs(gr)>=Rj||Xs>.11){fu(va.current),(pr=h.onDismiss)==null||pr.call(h,h),Xe(se==="x"?mr>0?"right":"left":Ys>0?"down":"up"),qs(),Mf(!0),Lf(!1);return}Vt(!1),ee(null)},onPointerMove:ie=>{var Se,Be,pr,mr;if(!wa.current||!ya||((Se=window.getSelection())==null?void 0:Se.toString().length)>0)return;let Ys=ie.clientY-wa.current.y,oo=ie.clientX-wa.current.x,gr=(Be=t.swipeDirections)!=null?Be:Mj(W);!se&&(Math.abs(oo)>1||Math.abs(Ys)>1)&&ee(Math.abs(oo)>Math.abs(Ys)?"x":"y");let Xs={x:0,y:0};se==="y"?(gr.includes("top")||gr.includes("bottom"))&&(gr.includes("top")&&Ys<0||gr.includes("bottom")&&Ys>0)&&(Xs.y=Ys):se==="x"&&(gr.includes("left")||gr.includes("right"))&&(gr.includes("left")&&oo<0||gr.includes("right")&&oo>0)&&(Xs.x=oo),(Math.abs(Xs.x)>0||Math.abs(Xs.y)>0)&&Lf(!0),(pr=io.current)==null||pr.style.setProperty("--swipe-amount-x",`${Xs.x}px`),(mr=io.current)==null||mr.style.setProperty("--swipe-amount-y",`${Xs.y}px`)}},GM&&!h.jsx?K.createElement("button",{"aria-label":Z,"data-disabled":_m,"data-close-button":!0,onClick:_m||!ya?()=>{}:()=>{var ie;qs(),(ie=h.onDismiss)==null||ie.call(h,h)},className:vr(M==null?void 0:M.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:xj):null,h.jsx||N.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:K.createElement(K.Fragment,null,Un||h.icon||h.promise?K.createElement("div",{"data-icon":"",className:vr(M==null?void 0:M.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||XM():null,h.type!=="loading"?h.icon||(H==null?void 0:H[Un])||pj(Un):null):null,K.createElement("div",{"data-content":"",className:vr(M==null?void 0:M.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:vr(M==null?void 0:M.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?K.createElement("div",{"data-description":"",className:vr(z,HM,M==null?void 0:M.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),N.isValidElement(h.cancel)?h.cancel:h.cancel&&od(h.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:ie=>{var Se,Be;od(h.cancel)&&ya&&((Be=(Se=h.cancel).onClick)==null||Be.call(Se,ie),qs())},className:vr(M==null?void 0:M.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,N.isValidElement(h.action)?h.action:h.action&&od(h.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||D,onClick:ie=>{var Se,Be;od(h.action)&&((Be=(Se=h.action).onClick)==null||Be.call(Se,ie),!ie.defaultPrevented&&qs())},className:vr(M==null?void 0:M.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function IS(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Bj(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?Ij:$j;function l(u){["top","right","bottom","left"].forEach(c=>{n[`${o}-${c}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var jj=N.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:c="light",richColors:f,duration:d,style:h,visibleToasts:m=Pj,toastOptions:p,dir:g=IS(),gap:y=Dj,loadingIcon:v,icons:w,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:S}=t,[_,T]=K.useState([]),k=K.useMemo(()=>Array.from(new Set([r].concat(_.filter(X=>X.position).map(X=>X.position)))),[_,r]),[P,O]=K.useState([]),[D,F]=K.useState(!1),[z,L]=K.useState(!1),[W,G]=K.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=K.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=K.useRef(null),H=K.useRef(!1),Z=K.useCallback(X=>{T(se=>{var ee;return(ee=se.find(pe=>pe.id===X.id))!=null&&ee.delete||en.dismiss(X.id),se.filter(({id:pe})=>pe!==X.id)})},[]);return K.useEffect(()=>en.subscribe(X=>{if(X.dismiss){T(se=>se.map(ee=>ee.id===X.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{c2.flushSync(()=>{T(se=>{let ee=se.findIndex(pe=>pe.id===X.id);return ee!==-1?[...se.slice(0,ee),{...se[ee],...X},...se.slice(ee+1)]:[X,...se]})})})}),[]),K.useEffect(()=>{if(c!=="system"){G(c);return}if(c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:se})=>{G(se?"dark":"light")})}catch{X.addListener(({matches:ee})=>{try{G(ee?"dark":"light")}catch(pe){console.error(pe)}})}},[c]),K.useEffect(()=>{_.length<=1&&F(!1)},[_]),K.useEffect(()=>{let X=se=>{var ee,pe;s.every(Xe=>se[Xe]||se.code===Xe)&&(F(!0),(ee=V.current)==null||ee.focus()),se.code==="Escape"&&(document.activeElement===V.current||(pe=V.current)!=null&&pe.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),K.useEffect(()=>{if(V.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,H.current=!1)}},[V.current]),K.createElement("section",{ref:e,"aria-label":`${x} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((X,se)=>{var ee;let[pe,Xe]=X.split("-");return _.length?K.createElement("ol",{key:X,dir:g==="auto"?IS():g,tabIndex:-1,ref:V,className:a,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":pe,"data-lifted":D&&_.length>1&&!i,"data-x-position":Xe,style:{"--front-toast-height":`${((ee=P[0])==null?void 0:ee.height)||0}px`,"--width":`${Oj}px`,"--gap":`${y}px`,...h,...Bj(l,u)},onBlur:de=>{H.current&&!de.currentTarget.contains(de.relatedTarget)&&(H.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||H.current||(H.current=!0,M.current=de.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{z||F(!1)},onDragEnd:()=>F(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},_.filter(de=>!de.position&&se===0||de.position===X).map((de,Vn)=>{var kt,hr;return K.createElement(Lj,{key:de.id,icons:w,index:Vn,toast:de,defaultRichColors:f,duration:(kt=p==null?void 0:p.duration)!=null?kt:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:m,closeButton:(hr=p==null?void 0:p.closeButton)!=null?hr:o,interacting:z,position:X,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Z,toasts:_.filter(Sn=>Sn.position==de.position),heights:P.filter(Sn=>Sn.position==de.position),setHeights:O,expandByDefault:i,gap:y,loadingIcon:v,expanded:D,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const zj=({...t})=>{const{theme:e="system"}=hj();return C.jsx(jj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},Vj=["top","right","bottom","left"],Li=Math.min,kn=Math.max,Ph=Math.round,ad=Math.floor,ss=t=>({x:t,y:t}),Uj={left:"right",right:"left",bottom:"top",top:"bottom"},Wj={start:"end",end:"start"};function jy(t,e,n){return kn(t,Li(e,n))}function Fs(t,e){return typeof t=="function"?t(e):t}function Ms(t){return t.split("-")[0]}function eu(t){return t.split("-")[1]}function S1(t){return t==="x"?"y":"x"}function _1(t){return t==="y"?"height":"width"}const Hj=new Set(["top","bottom"]);function Qr(t){return Hj.has(Ms(t))?"y":"x"}function T1(t){return S1(Qr(t))}function Gj(t,e,n){n===void 0&&(n=!1);const r=eu(t),s=T1(t),i=_1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=$h(o)),[o,$h(o)]}function Kj(t){const e=$h(t);return[zy(t),e,zy(e)]}function zy(t){return t.replace(/start|end/g,e=>Wj[e])}const OS=["left","right"],DS=["right","left"],qj=["top","bottom"],Yj=["bottom","top"];function Xj(t,e,n){switch(t){case"top":case"bottom":return n?e?DS:OS:e?OS:DS;case"left":case"right":return e?qj:Yj;default:return[]}}function Qj(t,e,n,r){const s=eu(t);let i=Xj(Ms(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(zy)))),i}function $h(t){return t.replace(/left|right|bottom|top/g,e=>Uj[e])}function Zj(t){return{top:0,right:0,bottom:0,left:0,...t}}function eA(t){return typeof t!="number"?Zj(t):{top:t,right:t,bottom:t,left:t}}function Ih(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function RS(t,e,n){let{reference:r,floating:s}=t;const i=Qr(e),o=T1(e),a=_1(o),l=Ms(e),u=i==="y",c=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,d=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-s.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-s.width,y:f};break;default:h={x:r.x,y:r.y}}switch(eu(e)){case"start":h[o]-=d*(n&&u?-1:1);break;case"end":h[o]+=d*(n&&u?-1:1);break}return h}const Jj=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:c,y:f}=RS(u,r,l),d=r,h={},m=0;for(let p=0;p<a.length;p++){const{name:g,fn:y}=a[p],{x:v,y:w,data:x,reset:S}=await y({x:c,y:f,initialPlacement:r,placement:d,strategy:s,middlewareData:h,rects:u,platform:o,elements:{reference:t,floating:e}});c=v??c,f=w??f,h={...h,[g]:{...h[g],...x}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:c,y:f}=RS(u,d,l)),p=-1)}return{x:c,y:f,placement:d,strategy:s,middlewareData:h}};async function Tc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Fs(e,t),m=eA(h),g=a[d?f==="floating"?"reference":"floating":f],y=Ih(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Ih(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:w,strategy:l}):v);return{top:(y.top-S.top+m.top)/x.y,bottom:(S.bottom-y.bottom+m.bottom)/x.y,left:(y.left-S.left+m.left)/x.x,right:(S.right-y.right+m.right)/x.x}}const ez=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=Fs(t,e)||{};if(u==null)return{};const f=eA(c),d={x:n,y:r},h=T1(s),m=_1(h),p=await o.getDimensions(u),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",w=g?"clientHeight":"clientWidth",x=i.reference[m]+i.reference[h]-d[h]-i.floating[m],S=d[h]-i.reference[h],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=_?_[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(_)))&&(T=a.floating[w]||i.floating[m]);const k=x/2-S/2,P=T/2-p[m]/2-1,O=Li(f[y],P),D=Li(f[v],P),F=O,z=T-p[m]-D,L=T/2-p[m]/2+k,W=jy(F,L,z),G=!l.arrow&&eu(s)!=null&&L!==W&&i.reference[m]/2-(L<F?O:D)-p[m]/2<0,V=G?L<F?L-F:L-z:0;return{[h]:d[h]+V,data:{[h]:W,centerOffset:L-W-V,...G&&{alignmentOffset:V}},reset:G}}}),tz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=Fs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Ms(s),v=Qr(a),w=Ms(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=d||(w||!p?[$h(a)]:Kj(a)),_=m!=="none";!d&&_&&S.push(...Qj(a,p,m,x));const T=[a,...S],k=await Tc(e,g),P=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&P.push(k[y]),f){const L=Gj(s,o,x);P.push(k[L[0]],k[L[1]])}if(O=[...O,{placement:s,overflows:P}],!P.every(L=>L<=0)){var D,F;const L=(((D=i.flip)==null?void 0:D.index)||0)+1,W=T[L];if(W&&(!(f==="alignment"?v!==Qr(W):!1)||O.every(R=>R.overflows[0]>0&&Qr(R.placement)===v)))return{data:{index:L,overflows:O},reset:{placement:W}};let G=(F=O.filter(V=>V.overflows[0]<=0).sort((V,R)=>V.overflows[1]-R.overflows[1])[0])==null?void 0:F.placement;if(!G)switch(h){case"bestFit":{var z;const V=(z=O.filter(R=>{if(_){const M=Qr(R.placement);return M===v||M==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(M=>M>0).reduce((M,H)=>M+H,0)]).sort((R,M)=>R[1]-M[1])[0])==null?void 0:z[0];V&&(G=V);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function FS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function MS(t){return Vj.some(e=>t[e]>=0)}const nz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Fs(t,e);switch(r){case"referenceHidden":{const i=await Tc(e,{...s,elementContext:"reference"}),o=FS(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:MS(o)}}}case"escaped":{const i=await Tc(e,{...s,altBoundary:!0}),o=FS(i,n.floating);return{data:{escapedOffsets:o,escaped:MS(o)}}}default:return{}}}}},tA=new Set(["left","top"]);async function rz(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ms(n),a=eu(n),l=Qr(n)==="y",u=tA.has(o)?-1:1,c=i&&l?-1:1,f=Fs(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const sz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await rz(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},iz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...l}=Fs(t,e),u={x:n,y:r},c=await Tc(e,l),f=Qr(Ms(s)),d=S1(f);let h=u[d],m=u[f];if(i){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=h+c[g],w=h-c[y];h=jy(v,h,w)}if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=m+c[g],w=m-c[y];m=jy(v,m,w)}const p=a.fn({...e,[d]:h,[f]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[d]:i,[f]:o}}}}}},oz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Fs(t,e),c={x:n,y:r},f=Qr(s),d=S1(f);let h=c[d],m=c[f];const p=Fs(a,e),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=d==="y"?"height":"width",x=i.reference[d]-i.floating[w]+g.mainAxis,S=i.reference[d]+i.reference[w]-g.mainAxis;h<x?h=x:h>S&&(h=S)}if(u){var y,v;const w=d==="y"?"width":"height",x=tA.has(Ms(s)),S=i.reference[f]-i.floating[w]+(x&&((y=o.offset)==null?void 0:y[f])||0)+(x?0:g.crossAxis),_=i.reference[f]+i.reference[w]+(x?0:((v=o.offset)==null?void 0:v[f])||0)-(x?g.crossAxis:0);m<S?m=S:m>_&&(m=_)}return{[d]:h,[f]:m}}}},az=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Fs(t,e),c=await Tc(e,u),f=Ms(s),d=eu(s),h=Qr(s)==="y",{width:m,height:p}=i.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,g=d==="end"?"top":"bottom");const v=p-c.top-c.bottom,w=m-c.left-c.right,x=Li(p-c[g],v),S=Li(m-c[y],w),_=!e.middlewareData.shift;let T=x,k=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=v),_&&!d){const O=kn(c.left,0),D=kn(c.right,0),F=kn(c.top,0),z=kn(c.bottom,0);h?k=m-2*(O!==0||D!==0?O+D:kn(c.left,c.right)):T=p-2*(F!==0||z!==0?F+z:kn(c.top,c.bottom))}await l({...e,availableWidth:k,availableHeight:T});const P=await o.getDimensions(a.floating);return m!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function Ip(){return typeof window<"u"}function tu(t){return nA(t)?(t.nodeName||"").toLowerCase():"#document"}function Dn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ps(t){var e;return(e=(nA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nA(t){return Ip()?t instanceof Node||t instanceof Dn(t).Node:!1}function Rr(t){return Ip()?t instanceof Element||t instanceof Dn(t).Element:!1}function as(t){return Ip()?t instanceof HTMLElement||t instanceof Dn(t).HTMLElement:!1}function LS(t){return!Ip()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dn(t).ShadowRoot}const lz=new Set(["inline","contents"]);function pf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Fr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!lz.has(s)}const uz=new Set(["table","td","th"]);function cz(t){return uz.has(tu(t))}const fz=[":popover-open",":modal"];function Op(t){return fz.some(e=>{try{return t.matches(e)}catch{return!1}})}const dz=["transform","translate","scale","rotate","perspective"],hz=["transform","translate","scale","rotate","perspective","filter"],pz=["paint","layout","strict","content"];function E1(t){const e=N1(),n=Rr(t)?Fr(t):t;return dz.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||hz.some(r=>(n.willChange||"").includes(r))||pz.some(r=>(n.contain||"").includes(r))}function mz(t){let e=Bi(t);for(;as(e)&&!kl(e);){if(E1(e))return e;if(Op(e))return null;e=Bi(e)}return null}function N1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gz=new Set(["html","body","#document"]);function kl(t){return gz.has(tu(t))}function Fr(t){return Dn(t).getComputedStyle(t)}function Dp(t){return Rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bi(t){if(tu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||LS(t)&&t.host||ps(t);return LS(e)?e.host:e}function rA(t){const e=Bi(t);return kl(e)?t.ownerDocument?t.ownerDocument.body:t.body:as(e)&&pf(e)?e:rA(e)}function Ec(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=rA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Dn(s);if(i){const a=Vy(o);return e.concat(o,o.visualViewport||[],pf(s)?s:[],a&&n?Ec(a):[])}return e.concat(s,Ec(s,[],n))}function Vy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sA(t){const e=Fr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=as(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ph(n)!==i||Ph(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function k1(t){return Rr(t)?t:t.contextElement}function nl(t){const e=k1(t);if(!as(e))return ss(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=sA(e);let o=(i?Ph(n.width):n.width)/r,a=(i?Ph(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const yz=ss(0);function iA(t){const e=Dn(t);return!N1()||!e.visualViewport?yz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Dn(t)?!1:e}function Jo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=k1(t);let o=ss(1);e&&(r?Rr(r)&&(o=nl(r)):o=nl(t));const a=vz(i,n,r)?iA(i):ss(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,c=s.width/o.x,f=s.height/o.y;if(i){const d=Dn(i),h=r&&Rr(r)?Dn(r):r;let m=d,p=Vy(m);for(;p&&r&&h!==m;){const g=nl(p),y=p.getBoundingClientRect(),v=Fr(p),w=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*g.x,x=y.top+(p.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,f*=g.y,l+=w,u+=x,m=Dn(p),p=Vy(m)}}return Ih({width:c,height:f,x:l,y:u})}function A1(t,e){const n=Dp(t).scrollLeft;return e?e.left+n:Jo(ps(t)).left+n}function oA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:A1(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function wz(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ps(r),a=e?Op(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=ss(1);const c=ss(0),f=as(r);if((f||!f&&!i)&&((tu(r)!=="body"||pf(o))&&(l=Dp(r)),as(r))){const h=Jo(r);u=nl(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=o&&!f&&!i?oA(o,l,!0):ss(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function bz(t){return Array.from(t.getClientRects())}function xz(t){const e=ps(t),n=Dp(t),r=t.ownerDocument.body,s=kn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=kn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+A1(t);const a=-n.scrollTop;return Fr(r).direction==="rtl"&&(o+=kn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Sz(t,e){const n=Dn(t),r=ps(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=N1();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const _z=new Set(["absolute","fixed"]);function Tz(t,e){const n=Jo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=as(t)?nl(t):ss(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function BS(t,e,n){let r;if(e==="viewport")r=Sz(t,n);else if(e==="document")r=xz(ps(t));else if(Rr(e))r=Tz(e,n);else{const s=iA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ih(r)}function aA(t,e){const n=Bi(t);return n===e||!Rr(n)||kl(n)?!1:Fr(n).position==="fixed"||aA(n,e)}function Ez(t,e){const n=e.get(t);if(n)return n;let r=Ec(t,[],!1).filter(a=>Rr(a)&&tu(a)!=="body"),s=null;const i=Fr(t).position==="fixed";let o=i?Bi(t):t;for(;Rr(o)&&!kl(o);){const a=Fr(o),l=E1(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&_z.has(s.position)||pf(o)&&!l&&aA(t,o))?r=r.filter(c=>c!==o):s=a,o=Bi(o)}return e.set(t,r),r}function Nz(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Op(e)?[]:Ez(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const f=BS(e,c,s);return u.top=kn(f.top,u.top),u.right=Li(f.right,u.right),u.bottom=Li(f.bottom,u.bottom),u.left=kn(f.left,u.left),u},BS(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kz(t){const{width:e,height:n}=sA(t);return{width:e,height:n}}function Az(t,e,n){const r=as(e),s=ps(e),i=n==="fixed",o=Jo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ss(0);function u(){l.x=A1(s)}if(r||!r&&!i)if((tu(e)!=="body"||pf(s))&&(a=Dp(e)),r){const h=Jo(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&u();i&&!r&&s&&u();const c=s&&!r&&!i?oA(s,a):ss(0),f=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:f,y:d,width:o.width,height:o.height}}function tg(t){return Fr(t).position==="static"}function jS(t,e){if(!as(t)||Fr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ps(t)===n&&(n=n.ownerDocument.body),n}function lA(t,e){const n=Dn(t);if(Op(t))return n;if(!as(t)){let s=Bi(t);for(;s&&!kl(s);){if(Rr(s)&&!tg(s))return s;s=Bi(s)}return n}let r=jS(t,e);for(;r&&cz(r)&&tg(r);)r=jS(r,e);return r&&kl(r)&&tg(r)&&!E1(r)?n:r||mz(t)||n}const Cz=async function(t){const e=this.getOffsetParent||lA,n=this.getDimensions,r=await n(t.floating);return{reference:Az(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Pz(t){return Fr(t).direction==="rtl"}const $z={convertOffsetParentRelativeRectToViewportRelativeRect:wz,getDocumentElement:ps,getClippingRect:Nz,getOffsetParent:lA,getElementRects:Cz,getClientRects:bz,getDimensions:kz,getScale:nl,isElement:Rr,isRTL:Pz};function uA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Iz(t,e){let n=null,r;const s=ps(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:c,top:f,width:d,height:h}=u;if(a||e(),!d||!h)return;const m=ad(f),p=ad(s.clientWidth-(c+d)),g=ad(s.clientHeight-(f+h)),y=ad(c),w={rootMargin:-m+"px "+-p+"px "+-g+"px "+-y+"px",threshold:kn(0,Li(1,l))||1};let x=!0;function S(_){const T=_[0].intersectionRatio;if(T!==l){if(!x)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!uA(u,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(t)}return o(!0),i}function Oz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=k1(t),c=s||i?[...u?Ec(u):[],...Ec(e)]:[];c.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=u&&a?Iz(u,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),n()}),u&&!l&&h.observe(u),h.observe(e));let m,p=l?Jo(t):null;l&&g();function g(){const y=Jo(t);p&&!uA(p,y)&&n(),p=y,m=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const Dz=sz,Rz=iz,Fz=tz,Mz=az,Lz=nz,zS=ez,Bz=oz,jz=(t,e,n)=>{const r=new Map,s={platform:$z,...n},i={...s.platform,_c:r};return Jj(t,e,{...s,platform:i})};var zz=typeof document<"u",Vz=function(){},Vd=zz?N.useLayoutEffect:Vz;function Oh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Oh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Oh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function cA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function VS(t,e){const n=cA(t);return Math.round(e*n)/n}function ng(t){const e=N.useRef(t);return Vd(()=>{e.current=t}),e}function Uz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,f]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=N.useState(r);Oh(d,r)||h(r);const[m,p]=N.useState(null),[g,y]=N.useState(null),v=N.useCallback(R=>{R!==_.current&&(_.current=R,p(R))},[]),w=N.useCallback(R=>{R!==T.current&&(T.current=R,y(R))},[]),x=i||m,S=o||g,_=N.useRef(null),T=N.useRef(null),k=N.useRef(c),P=l!=null,O=ng(l),D=ng(s),F=ng(u),z=N.useCallback(()=>{if(!_.current||!T.current)return;const R={placement:e,strategy:n,middleware:d};D.current&&(R.platform=D.current),jz(_.current,T.current,R).then(M=>{const H={...M,isPositioned:F.current!==!1};L.current&&!Oh(k.current,H)&&(k.current=H,df.flushSync(()=>{f(H)}))})},[d,e,n,D,F]);Vd(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const L=N.useRef(!1);Vd(()=>(L.current=!0,()=>{L.current=!1}),[]),Vd(()=>{if(x&&(_.current=x),S&&(T.current=S),x&&S){if(O.current)return O.current(x,S,z);z()}},[x,S,z,O,P]);const W=N.useMemo(()=>({reference:_,floating:T,setReference:v,setFloating:w}),[v,w]),G=N.useMemo(()=>({reference:x,floating:S}),[x,S]),V=N.useMemo(()=>{const R={position:n,left:0,top:0};if(!G.floating)return R;const M=VS(G.floating,c.x),H=VS(G.floating,c.y);return a?{...R,transform:"translate("+M+"px, "+H+"px)",...cA(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:H}},[n,a,G.floating,c.x,c.y]);return N.useMemo(()=>({...c,update:z,refs:W,elements:G,floatingStyles:V}),[c,z,W,G,V])}const Wz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?zS({element:r.current,padding:s}).fn(n):{}:r?zS({element:r,padding:s}).fn(n):{}}}},Hz=(t,e)=>({...Dz(t),options:[t,e]}),Gz=(t,e)=>({...Rz(t),options:[t,e]}),Kz=(t,e)=>({...Bz(t),options:[t,e]}),qz=(t,e)=>({...Fz(t),options:[t,e]}),Yz=(t,e)=>({...Mz(t),options:[t,e]}),Xz=(t,e)=>({...Lz(t),options:[t,e]}),Qz=(t,e)=>({...Wz(t),options:[t,e]});var Zz="Arrow",fA=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return C.jsx(wn.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});fA.displayName=Zz;var Jz=fA;function eV(t){const[e,n]=N.useState(void 0);return Mi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var dA="Popper",[hA,pA]=Cp(dA),[eoe,mA]=hA(dA),gA="PopperAnchor",yA=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=mA(gA,n),o=N.useRef(null),a=Dr(e,o);return N.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:C.jsx(wn.div,{...s,ref:a})});yA.displayName=gA;var C1="PopperContent",[tV,nV]=hA(C1),vA=N.forwardRef((t,e)=>{var de,Vn,kt,hr,Sn,Vt;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:m,...p}=t,g=mA(C1,n),[y,v]=N.useState(null),w=Dr(e,Ks=>v(Ks)),[x,S]=N.useState(null),_=eV(x),T=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,P=r+(i!=="center"?"-"+i:""),O=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},D=Array.isArray(u)?u:[u],F=D.length>0,z={padding:O,boundary:D.filter(sV),altBoundary:F},{refs:L,floatingStyles:W,placement:G,isPositioned:V,middlewareData:R}=Uz({strategy:"fixed",placement:P,whileElementsMounted:(...Ks)=>Oz(...Ks,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[Hz({mainAxis:s+k,alignmentAxis:o}),l&&Gz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Kz():void 0,...z}),l&&qz({...z}),Yz({...z,apply:({elements:Ks,rects:Mf,availableWidth:bm,availableHeight:Lf})=>{const{width:xm,height:fu}=Mf.reference,ga=Ks.floating.style;ga.setProperty("--radix-popper-available-width",`${bm}px`),ga.setProperty("--radix-popper-available-height",`${Lf}px`),ga.setProperty("--radix-popper-anchor-width",`${xm}px`),ga.setProperty("--radix-popper-anchor-height",`${fu}px`)}}),x&&Qz({element:x,padding:a}),iV({arrowWidth:T,arrowHeight:k}),d&&Xz({strategy:"referenceHidden",...z})]}),[M,H]=xA(G),Z=Fi(m);Mi(()=>{V&&(Z==null||Z())},[V,Z]);const X=(de=R.arrow)==null?void 0:de.x,se=(Vn=R.arrow)==null?void 0:Vn.y,ee=((kt=R.arrow)==null?void 0:kt.centerOffset)!==0,[pe,Xe]=N.useState();return Mi(()=>{y&&Xe(window.getComputedStyle(y).zIndex)},[y]),C.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:V?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(hr=R.transformOrigin)==null?void 0:hr.x,(Sn=R.transformOrigin)==null?void 0:Sn.y].join(" "),...((Vt=R.hide)==null?void 0:Vt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(tV,{scope:n,placedSide:M,onArrowChange:S,arrowX:X,arrowY:se,shouldHideArrow:ee,children:C.jsx(wn.div,{"data-side":M,"data-align":H,...p,ref:w,style:{...p.style,animation:V?void 0:"none"}})})})});vA.displayName=C1;var wA="PopperArrow",rV={top:"bottom",right:"left",bottom:"top",left:"right"},bA=N.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=nV(wA,r),o=rV[i.placedSide];return C.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:C.jsx(Jz,{...s,ref:n,style:{...s.style,display:"block"}})})});bA.displayName=wA;function sV(t){return t!==null}var iV=t=>({name:"transformOrigin",options:t,fn(e){var g,y,v;const{placement:n,rects:r,middlewareData:s}=e,o=((g=s.arrow)==null?void 0:g.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,c]=xA(n),f={start:"0%",center:"50%",end:"100%"}[c],d=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,h=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let m="",p="";return u==="bottom"?(m=o?f:`${d}px`,p=`${-l}px`):u==="top"?(m=o?f:`${d}px`,p=`${r.floating.height+l}px`):u==="right"?(m=`${-l}px`,p=o?f:`${h}px`):u==="left"&&(m=`${r.floating.width+l}px`,p=o?f:`${h}px`),{data:{x:m,y:p}}}});function xA(t){const[e,n="center"]=t.split("-");return[e,n]}var oV=yA,aV=vA,lV=bA,[Rp,toe]=Cp("Tooltip",[pA]),P1=pA(),SA="TooltipProvider",uV=700,US="tooltip.open",[cV,_A]=Rp(SA),TA=t=>{const{__scopeTooltip:e,delayDuration:n=uV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=N.useRef(!0),a=N.useRef(!1),l=N.useRef(0);return N.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),C.jsx(cV,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:N.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};TA.displayName=SA;var EA="Tooltip",[noe,Fp]=Rp(EA),Uy="TooltipTrigger",fV=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Fp(Uy,n),i=_A(Uy,n),o=P1(n),a=N.useRef(null),l=Dr(e,a,s.onTriggerChange),u=N.useRef(!1),c=N.useRef(!1),f=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),C.jsx(oV,{asChild:!0,...o,children:C.jsx(wn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ft(t.onPointerMove,d=>{d.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),c.current=!0)}),onPointerLeave:ft(t.onPointerLeave,()=>{s.onTriggerLeave(),c.current=!1}),onPointerDown:ft(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ft(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ft(t.onBlur,s.onClose),onClick:ft(t.onClick,s.onClose)})})});fV.displayName=Uy;var dV="TooltipPortal",[roe,hV]=Rp(dV,{forceMount:void 0}),Al="TooltipContent",NA=N.forwardRef((t,e)=>{const n=hV(Al,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Fp(Al,t.__scopeTooltip);return C.jsx(y1,{present:r||o.open,children:o.disableHoverableContent?C.jsx(kA,{side:s,...i,ref:e}):C.jsx(pV,{side:s,...i,ref:e})})}),pV=N.forwardRef((t,e)=>{const n=Fp(Al,t.__scopeTooltip),r=_A(Al,t.__scopeTooltip),s=N.useRef(null),i=Dr(e,s),[o,a]=N.useState(null),{trigger:l,onClose:u}=n,c=s.current,{onPointerInTransitChange:f}=r,d=N.useCallback(()=>{a(null),f(!1)},[f]),h=N.useCallback((m,p)=>{const g=m.currentTarget,y={x:m.clientX,y:m.clientY},v=wV(y,g.getBoundingClientRect()),w=bV(y,v),x=xV(p.getBoundingClientRect()),S=_V([...w,...x]);a(S),f(!0)},[f]);return N.useEffect(()=>()=>d(),[d]),N.useEffect(()=>{if(l&&c){const m=g=>h(g,c),p=g=>h(g,l);return l.addEventListener("pointerleave",m),c.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",m),c.removeEventListener("pointerleave",p)}}},[l,c,h,d]),N.useEffect(()=>{if(o){const m=p=>{const g=p.target,y={x:p.clientX,y:p.clientY},v=(l==null?void 0:l.contains(g))||(c==null?void 0:c.contains(g)),w=!SV(y,o);v?d():w&&(d(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,c,o,u,d]),C.jsx(kA,{...t,ref:i})}),[mV,gV]=Rp(EA,{isInside:!1}),yV=IB("TooltipContent"),kA=N.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Fp(Al,n),u=P1(n),{onClose:c}=l;return N.useEffect(()=>(document.addEventListener(US,c),()=>document.removeEventListener(US,c)),[c]),N.useEffect(()=>{if(l.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,c]),C.jsx(g1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:C.jsxs(aV,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(yV,{children:r}),C.jsx(mV,{scope:n,isInside:!0,children:C.jsx(r5,{id:l.contentId,role:"tooltip",children:s||r})})]})})});NA.displayName=Al;var AA="TooltipArrow",vV=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=P1(n);return gV(AA,n).isInside?null:C.jsx(lV,{...s,...r,ref:e})});vV.displayName=AA;function wV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function xV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function SV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,c=a.y,f=l.x,d=l.y;c>r!=d>r&&n<(f-u)*(r-c)/(d-c)+u&&(s=!s)}return s}function _V(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),TV(e)}function TV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var EV=TA,CA=NA;const NV=EV,kV=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>C.jsx(CA,{ref:r,sideOffset:e,className:Ji("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));kV.displayName=CA.displayName;var Mp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lp=typeof window>"u"||"Deno"in globalThis;function xr(){}function AV(t,e){return typeof t=="function"?t(e):t}function CV(t){return typeof t=="number"&&t>=0&&t!==1/0}function PV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wy(t,e){return typeof t=="function"?t(e):t}function $V(t,e){return typeof t=="function"?t(e):t}function WS(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==$1(o,e.options))return!1}else if(!kc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function HS(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Nc(e.options.mutationKey)!==Nc(i))return!1}else if(!kc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function $1(t,e){return((e==null?void 0:e.queryKeyHashFn)||Nc)(t)}function Nc(t){return JSON.stringify(t,(e,n)=>Hy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function kc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>kc(t[n],e[n])):!1}function PA(t,e){if(t===e)return t;const n=GS(t)&&GS(e);if(n||Hy(t)&&Hy(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let u=0;for(let c=0;c<o;c++){const f=n?c:i[c];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=PA(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function GS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hy(t){if(!KS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!KS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function KS(t){return Object.prototype.toString.call(t)==="[object Object]"}function IV(t){return new Promise(e=>{setTimeout(e,t)})}function OV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?PA(t,e):e}function DV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function RV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var I1=Symbol();function $A(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===I1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Po,ui,dl,VE,FV=(VE=class extends Mp{constructor(){super();ve(this,Po);ve(this,ui);ve(this,dl);oe(this,dl,e=>{if(!Lp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,ui)||this.setEventListener(j(this,dl))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,ui))==null||e.call(this),oe(this,ui,void 0))}setEventListener(e){var n;oe(this,dl,e),(n=j(this,ui))==null||n.call(this),oe(this,ui,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,Po)!==e&&(oe(this,Po,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof j(this,Po)=="boolean"?j(this,Po):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Po=new WeakMap,ui=new WeakMap,dl=new WeakMap,VE),IA=new FV,hl,ci,pl,UE,MV=(UE=class extends Mp{constructor(){super();ve(this,hl,!0);ve(this,ci);ve(this,pl);oe(this,pl,e=>{if(!Lp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,ci)||this.setEventListener(j(this,pl))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,ci))==null||e.call(this),oe(this,ci,void 0))}setEventListener(e){var n;oe(this,pl,e),(n=j(this,ci))==null||n.call(this),oe(this,ci,e(this.setOnline.bind(this)))}setOnline(e){j(this,hl)!==e&&(oe(this,hl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,hl)}},hl=new WeakMap,ci=new WeakMap,pl=new WeakMap,UE),Dh=new MV;function LV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function BV(t){return Math.min(1e3*2**t,3e4)}function OA(t){return(t??"online")==="online"?Dh.isOnline():!0}var DA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function rg(t){return t instanceof DA}function RA(t){let e=!1,n=0,r=!1,s;const i=LV(),o=p=>{var g;r||(d(new DA(p)),(g=t.abort)==null||g.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>IA.isFocused()&&(t.networkMode==="always"||Dh.isOnline())&&t.canRun(),c=()=>OA(t.networkMode)&&t.canRun(),f=p=>{var g;r||(r=!0,(g=t.onSuccess)==null||g.call(t,p),s==null||s(),i.resolve(p))},d=p=>{var g;r||(r=!0,(g=t.onError)==null||g.call(t,p),s==null||s(),i.reject(p))},h=()=>new Promise(p=>{var g;s=y=>{(r||u())&&p(y)},(g=t.onPause)==null||g.call(t)}).then(()=>{var p;s=void 0,r||(p=t.onContinue)==null||p.call(t)}),m=()=>{if(r)return;let p;const g=n===0?t.initialPromise:void 0;try{p=g??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var _;if(r)return;const v=t.retry??(Lp?0:3),w=t.retryDelay??BV,x=typeof w=="function"?w(n,y):w,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(e||!S){d(y);return}n++,(_=t.onFail)==null||_.call(t,n,y),IV(x).then(()=>u()?void 0:h()).then(()=>{e?d(y):m()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?m():h().then(m),i)}}var jV=t=>setTimeout(t,0);function zV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=jV;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ht=zV(),$o,WE,FA=(WE=class{constructor(){ve(this,$o)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CV(this.gcTime)&&oe(this,$o,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lp?1/0:5*60*1e3))}clearGcTimeout(){j(this,$o)&&(clearTimeout(j(this,$o)),oe(this,$o,void 0))}},$o=new WeakMap,WE),ml,Io,Kn,Oo,$t,sf,Do,Sr,gs,HE,VV=(HE=class extends FA{constructor(e){super();ve(this,Sr);ve(this,ml);ve(this,Io);ve(this,Kn);ve(this,Oo);ve(this,$t);ve(this,sf);ve(this,Do);oe(this,Do,!1),oe(this,sf,e.defaultOptions),this.setOptions(e.options),this.observers=[],oe(this,Oo,e.client),oe(this,Kn,j(this,Oo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,oe(this,ml,WV(this.options)),this.state=e.state??j(this,ml),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=j(this,$t))==null?void 0:e.promise}setOptions(e){this.options={...j(this,sf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,Kn).remove(this)}setData(e,n){const r=OV(this.state.data,e,this.options);return At(this,Sr,gs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){At(this,Sr,gs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=j(this,$t))==null?void 0:r.promise;return(s=j(this,$t))==null||s.cancel(e),n?n.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,ml))}isActive(){return this.observers.some(e=>$V(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===I1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Wy(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!PV(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=j(this,$t))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=j(this,$t))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),j(this,Kn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(j(this,$t)&&(j(this,Do)?j(this,$t).cancel({revert:!0}):j(this,$t).cancelRetry()),this.scheduleGc()),j(this,Kn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,Sr,gs).call(this,{type:"invalidate"})}fetch(e,n){var u,c,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(j(this,$t))return j(this,$t).continueRetry(),j(this,$t).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(oe(this,Do,!0),r.signal)})},i=()=>{const d=$A(this.options,n),m=(()=>{const p={client:j(this,Oo),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return oe(this,Do,!1),this.options.persister?this.options.persister(d,m,this):d(m)},a=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:j(this,Oo),state:this.state,fetchFn:i};return s(d),d})();(u=this.options.behavior)==null||u.onFetch(a,this),oe(this,Io,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&At(this,Sr,gs).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,m,p,g;rg(d)&&d.silent||At(this,Sr,gs).call(this,{type:"error",error:d}),rg(d)||((m=(h=j(this,Kn).config).onError)==null||m.call(h,d,this),(g=(p=j(this,Kn).config).onSettled)==null||g.call(p,this.state.data,d,this)),this.scheduleGc()};return oe(this,$t,RA({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,m,p,g;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){l(y);return}(m=(h=j(this,Kn).config).onSuccess)==null||m.call(h,d,this),(g=(p=j(this,Kn).config).onSettled)==null||g.call(p,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{At(this,Sr,gs).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{At(this,Sr,gs).call(this,{type:"pause"})},onContinue:()=>{At(this,Sr,gs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),j(this,$t).start()}},ml=new WeakMap,Io=new WeakMap,Kn=new WeakMap,Oo=new WeakMap,$t=new WeakMap,sf=new WeakMap,Do=new WeakMap,Sr=new WeakSet,gs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...UV(r.data,this.options),fetchMeta:e.meta??null};case"success":return oe(this,Io,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return rg(s)&&s.revert&&j(this,Io)?{...j(this,Io),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ht.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,Kn).notify({query:this,type:"updated",action:e})})},HE);function UV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function WV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wr,GE,HV=(GE=class extends Mp{constructor(e={}){super();ve(this,Wr);this.config=e,oe(this,Wr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??$1(s,n);let o=this.get(i);return o||(o=new VV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){j(this,Wr).has(e.queryHash)||(j(this,Wr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=j(this,Wr).get(e.queryHash);n&&(e.destroy(),n===e&&j(this,Wr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,Wr).get(e)}getAll(){return[...j(this,Wr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>WS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>WS(e,r)):n}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wr=new WeakMap,GE),Hr,Ut,Ro,Gr,ei,KE,GV=(KE=class extends FA{constructor(e){super();ve(this,Gr);ve(this,Hr);ve(this,Ut);ve(this,Ro);this.mutationId=e.mutationId,oe(this,Ut,e.mutationCache),oe(this,Hr,[]),this.state=e.state||KV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){j(this,Hr).includes(e)||(j(this,Hr).push(e),this.clearGcTimeout(),j(this,Ut).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){oe(this,Hr,j(this,Hr).filter(n=>n!==e)),this.scheduleGc(),j(this,Ut).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){j(this,Hr).length||(this.state.status==="pending"?this.scheduleGc():j(this,Ut).remove(this))}continue(){var e;return((e=j(this,Ro))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,u,c,f,d,h,m,p,g,y,v,w,x,S,_,T,k;const n=()=>{At(this,Gr,ei).call(this,{type:"continue"})};oe(this,Ro,RA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{At(this,Gr,ei).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{At(this,Gr,ei).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Ut).canRun(this)}));const r=this.state.status==="pending",s=!j(this,Ro).canStart();try{if(r)n();else{At(this,Gr,ei).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=j(this,Ut).config).onMutate)==null?void 0:o.call(i,e,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));O!==this.state.context&&At(this,Gr,ei).call(this,{type:"pending",context:O,variables:e,isPaused:s})}const P=await j(this,Ro).start();return await((c=(u=j(this,Ut).config).onSuccess)==null?void 0:c.call(u,P,e,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,P,e,this.state.context)),await((m=(h=j(this,Ut).config).onSettled)==null?void 0:m.call(h,P,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,P,null,e,this.state.context)),At(this,Gr,ei).call(this,{type:"success",data:P}),P}catch(P){try{throw await((v=(y=j(this,Ut).config).onError)==null?void 0:v.call(y,P,e,this.state.context,this)),await((x=(w=this.options).onError)==null?void 0:x.call(w,P,e,this.state.context)),await((_=(S=j(this,Ut).config).onSettled)==null?void 0:_.call(S,void 0,P,this.state.variables,this.state.context,this)),await((k=(T=this.options).onSettled)==null?void 0:k.call(T,void 0,P,e,this.state.context)),P}finally{At(this,Gr,ei).call(this,{type:"error",error:P})}}finally{j(this,Ut).runNext(this)}}},Hr=new WeakMap,Ut=new WeakMap,Ro=new WeakMap,Gr=new WeakSet,ei=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ht.batch(()=>{j(this,Hr).forEach(r=>{r.onMutationUpdate(e)}),j(this,Ut).notify({mutation:this,type:"updated",action:e})})},KE);function KV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ts,_r,of,qE,qV=(qE=class extends Mp{constructor(e={}){super();ve(this,Ts);ve(this,_r);ve(this,of);this.config=e,oe(this,Ts,new Set),oe(this,_r,new Map),oe(this,of,0)}build(e,n,r){const s=new GV({mutationCache:this,mutationId:++jf(this,of)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){j(this,Ts).add(e);const n=ld(e);if(typeof n=="string"){const r=j(this,_r).get(n);r?r.push(e):j(this,_r).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,Ts).delete(e)){const n=ld(e);if(typeof n=="string"){const r=j(this,_r).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&j(this,_r).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ld(e);if(typeof n=="string"){const r=j(this,_r).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ld(e);if(typeof n=="string"){const s=(r=j(this,_r).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ht.batch(()=>{j(this,Ts).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,Ts).clear(),j(this,_r).clear()})}getAll(){return Array.from(j(this,Ts))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>HS(n,r))}findAll(e={}){return this.getAll().filter(n=>HS(e,n))}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ht.batch(()=>Promise.all(e.map(n=>n.continue().catch(xr))))}},Ts=new WeakMap,_r=new WeakMap,of=new WeakMap,qE);function ld(t){var e;return(e=t.options.scope)==null?void 0:e.id}function qS(t){return{onFetch:(e,n)=>{var c,f,d,h,m;const r=e.options,s=(d=(f=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=$A(e.options,e.fetchOptions),v=async(w,x,S)=>{if(p)return Promise.reject();if(x==null&&w.pages.length)return Promise.resolve(w);const T=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};return g(D),D})(),k=await y(T),{maxPages:P}=e.options,O=S?RV:DV;return{pages:O(w.pages,k,P),pageParams:O(w.pageParams,x,P)}};if(s&&i.length){const w=s==="backward",x=w?YV:YS,S={pages:i,pageParams:o},_=x(r,S);a=await v(S,_,w)}else{const w=t??i.length;do{const x=l===0?o[0]??r.initialPageParam:YS(r,a);if(l>0&&x==null)break;a=await v(a,x),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var p,g;return(g=(p=e.options).persister)==null?void 0:g.call(p,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function YS(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function YV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Qe,fi,di,gl,yl,hi,vl,wl,YE,XV=(YE=class{constructor(t={}){ve(this,Qe);ve(this,fi);ve(this,di);ve(this,gl);ve(this,yl);ve(this,hi);ve(this,vl);ve(this,wl);oe(this,Qe,t.queryCache||new HV),oe(this,fi,t.mutationCache||new qV),oe(this,di,t.defaultOptions||{}),oe(this,gl,new Map),oe(this,yl,new Map),oe(this,hi,0)}mount(){jf(this,hi)._++,j(this,hi)===1&&(oe(this,vl,IA.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Qe).onFocus())})),oe(this,wl,Dh.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Qe).onOnline())})))}unmount(){var t,e;jf(this,hi)._--,j(this,hi)===0&&((t=j(this,vl))==null||t.call(this),oe(this,vl,void 0),(e=j(this,wl))==null||e.call(this),oe(this,wl,void 0))}isFetching(t){return j(this,Qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,fi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,Qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=j(this,Qe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Wy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return j(this,Qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=j(this,Qe).get(r.queryHash),i=s==null?void 0:s.state.data,o=AV(e,i);if(o!==void 0)return j(this,Qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ht.batch(()=>j(this,Qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,Qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=j(this,Qe);Ht.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=j(this,Qe);return Ht.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ht.batch(()=>j(this,Qe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(xr).catch(xr)}invalidateQueries(t,e={}){return Ht.batch(()=>(j(this,Qe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ht.batch(()=>j(this,Qe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(xr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=j(this,Qe).build(this,e);return n.isStaleByTime(Wy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xr).catch(xr)}fetchInfiniteQuery(t){return t.behavior=qS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xr).catch(xr)}ensureInfiniteQueryData(t){return t.behavior=qS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Dh.isOnline()?j(this,fi).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Qe)}getMutationCache(){return j(this,fi)}getDefaultOptions(){return j(this,di)}setDefaultOptions(t){oe(this,di,t)}setQueryDefaults(t,e){j(this,gl).set(Nc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,gl).values()],n={};return e.forEach(r=>{kc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){j(this,yl).set(Nc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,yl).values()],n={};return e.forEach(r=>{kc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,di).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===I1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,di).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,Qe).clear(),j(this,fi).clear()}},Qe=new WeakMap,fi=new WeakMap,di=new WeakMap,gl=new WeakMap,yl=new WeakMap,hi=new WeakMap,vl=new WeakMap,wl=new WeakMap,YE),QV=N.createContext(void 0),ZV=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(QV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}var gi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gi||(gi={}));const XS="popstate";function JV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Gy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:LA(s)}return t6(e,n,null,t)}function yn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e6(){return Math.random().toString(36).substr(2,8)}function QS(t,e){return{usr:t.state,key:t.key,idx:e}}function Gy(t,e,n,r){return n===void 0&&(n=null),Rh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bp(e):e,{state:n,key:e&&e.key||r||e6()})}function LA(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function t6(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=gi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Rh({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=gi.Pop;let g=c(),y=g==null?null:g-u;u=g,l&&l({action:a,location:p.location,delta:y})}function d(g,y){a=gi.Push;let v=Gy(p.location,g,y);u=c()+1;let w=QS(v,u),x=p.createHref(v);try{o.pushState(w,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&l&&l({action:a,location:p.location,delta:1})}function h(g,y){a=gi.Replace;let v=Gy(p.location,g,y);u=c();let w=QS(v,u),x=p.createHref(v);o.replaceState(w,"",x),i&&l&&l({action:a,location:p.location,delta:0})}function m(g){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof g=="string"?g:LA(g);return v=v.replace(/ $/,"%20"),yn(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let p={get action(){return a},get location(){return t(s,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(XS,f),l=g,()=>{s.removeEventListener(XS,f),l=null}},createHref(g){return e(s,g)},createURL:m,encodeLocation(g){let y=m(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(g){return o.go(g)}};return p}var ZS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ZS||(ZS={}));function n6(t,e,n){return n===void 0&&(n="/"),r6(t,e,n,!1)}function r6(t,e,n,r){let s=typeof e=="string"?Bp(e):e,i=zA(s.pathname||"/",n);if(i==null)return null;let o=BA(t);s6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=m6(i);a=h6(o[l],u,r)}return a}function BA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(yn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=rl([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(yn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),BA(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:f6(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of jA(i.path))s(i,o,l)}),e}function jA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=jA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function s6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i6=/^:[\w-]+$/,o6=3,a6=2,l6=1,u6=10,c6=-2,JS=t=>t==="*";function f6(t,e){let n=t.split("/"),r=n.length;return n.some(JS)&&(r+=c6),e&&(r+=a6),n.filter(s=>!JS(s)).reduce((s,i)=>s+(i6.test(i)?o6:i===""?l6:u6),r)}function d6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function h6(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",f=e_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=e_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:rl([i,f.pathname]),pathnameBase:g6(rl([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=rl([i,f.pathnameBase]))}return o}function e_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p6(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let p=a[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function p6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),MA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function m6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const rl=t=>t.join("/").replace(/\/\/+/g,"/"),g6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function y6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VA=["post","put","patch","delete"];new Set(VA);const v6=["get",...VA];new Set(v6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}const w6=N.createContext(null),b6=N.createContext(null),UA=N.createContext(null),jp=N.createContext(null),zp=N.createContext({outlet:null,matches:[],isDataRoute:!1}),WA=N.createContext(null);function O1(){return N.useContext(jp)!=null}function HA(){return O1()||yn(!1),N.useContext(jp).location}function x6(t,e){return S6(t,e)}function S6(t,e,n,r){O1()||yn(!1);let{navigator:s}=N.useContext(UA),{matches:i}=N.useContext(zp),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=HA(),c;if(e){var f;let g=typeof e=="string"?Bp(e):e;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||yn(!1),c=g}else c=u;let d=c.pathname||"/",h=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let m=n6(t,{pathname:h}),p=k6(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:rl([l,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:rl([l,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n,r);return e&&p?N.createElement(jp.Provider,{value:{location:Fh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:gi.Pop}},p):p}function _6(){let t=$6(),e=y6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,null)}const T6=N.createElement(_6,null);class E6 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(zp.Provider,{value:this.props.routeContext},N.createElement(WA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N6(t){let{routeContext:e,match:n,children:r}=t,s=N.useContext(w6);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(zp.Provider,{value:e},r)}function k6(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||yn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,m=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let h,m=!1,p=null,g=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,p=f.route.errorElement||T6,l&&(u<0&&d===0?(m=!0,g=null):u===d&&(m=!0,g=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,d+1)),v=()=>{let w;return h?w=p:m?w=g:f.route.Component?w=N.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=c,N.createElement(N6,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?N.createElement(E6,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Ky=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ky||{});function A6(t){let e=N.useContext(b6);return e||yn(!1),e}function C6(t){let e=N.useContext(zp);return e||yn(!1),e}function P6(t){let e=C6(),n=e.matches[e.matches.length-1];return n.route.id||yn(!1),n.route.id}function $6(){var t;let e=N.useContext(WA),n=A6(Ky.UseRouteError),r=P6(Ky.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function I6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function qy(t){yn(!1)}function O6(t){let{basename:e="/",children:n=null,location:r,navigationType:s=gi.Pop,navigator:i,static:o=!1,future:a}=t;O1()&&yn(!1);let l=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:i,static:o,future:Fh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Bp(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:m="default"}=r,p=N.useMemo(()=>{let g=zA(c,l);return g==null?null:{location:{pathname:g,search:f,hash:d,state:h,key:m},navigationType:s}},[l,c,f,d,h,m,s]);return p==null?null:N.createElement(UA.Provider,{value:u},N.createElement(jp.Provider,{children:n,value:p}))}function D6(t){let{children:e,location:n}=t;return x6(Yy(e),n)}new Promise(()=>{});function Yy(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let i=[...e,s];if(r.type===N.Fragment){n.push.apply(n,Yy(r.props.children,i));return}r.type!==qy&&yn(!1),!r.props.index||!r.props.children||yn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Yy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const R6="6";try{window.__reactRouterVersion=R6}catch{}const F6="startTransition",t_=aN[F6];function M6(t){let{basename:e,children:n,future:r,window:s}=t,i=N.useRef();i.current==null&&(i.current=JV({window:s,v5Compat:!0}));let o=i.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=N.useCallback(f=>{u&&t_?t_(()=>l(f)):l(f)},[l,u]);return N.useLayoutEffect(()=>o.listen(c),[o,c]),N.useEffect(()=>I6(r),[r]),N.createElement(O6,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var n_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(n_||(n_={}));var r_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(r_||(r_={}));const L6=({onProximity:t})=>{const[e,n]=N.useState(!1);return N.useEffect(()=>{const r=setTimeout(()=>{n(!0)},2e3);return()=>clearTimeout(r)},[]),C.jsxs("div",{className:"relative w-full h-full flex flex-col items-center justify-center cursor-pointer overflow-hidden",onClick:t,children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-card via-background to-card",children:C.jsxs("div",{className:"absolute inset-0 opacity-30",children:[C.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full bg-gradient-to-br from-[hsl(var(--aura-glow))] to-[hsl(var(--aura-shimmer))] blur-3xl animate-ripple"}),C.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full bg-gradient-to-br from-[hsl(var(--aura-shimmer))] to-[hsl(var(--aura-glow))] blur-3xl animate-ripple",style:{animationDelay:"1s"}}),C.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-gradient-to-br from-primary/20 to-transparent blur-3xl animate-ripple",style:{animationDelay:"2s"}})]})}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent"}),C.jsx("div",{className:"absolute top-8 left-8 w-16 h-16 border-l-2 border-t-2 border-[hsl(var(--aura-glow))]/40"}),C.jsx("div",{className:"absolute top-8 right-8 w-16 h-16 border-r-2 border-t-2 border-[hsl(var(--aura-glow))]/40"}),C.jsx("div",{className:"absolute bottom-8 left-8 w-16 h-16 border-l-2 border-b-2 border-[hsl(var(--aura-glow))]/40"}),C.jsx("div",{className:"absolute bottom-8 right-8 w-16 h-16 border-r-2 border-b-2 border-[hsl(var(--aura-glow))]/40"}),C.jsx("div",{className:"absolute top-1/4 left-1/4 animate-float opacity-20",children:C.jsx(kS,{className:"w-12 h-12 text-[hsl(var(--aura-shimmer))]",strokeWidth:1})}),C.jsx("div",{className:"absolute top-1/3 right-1/4 animate-float opacity-30",style:{animationDelay:"1s"},children:C.jsx(N5,{className:"w-16 h-16 text-[hsl(var(--aura-glow))]",strokeWidth:1})}),C.jsx("div",{className:"absolute bottom-1/3 left-1/3 animate-float opacity-25",style:{animationDelay:"2s"},children:C.jsx(k5,{className:"w-10 h-10 text-primary",strokeWidth:1})}),C.jsx("div",{className:"absolute bottom-1/4 right-1/3 animate-float opacity-20",style:{animationDelay:"1.5s"},children:C.jsx(kS,{className:"w-14 h-14 text-[hsl(var(--aura-shimmer))]",strokeWidth:1})}),C.jsxs("div",{className:"relative z-10 text-center space-y-8 animate-in fade-in duration-1500",children:[C.jsxs("div",{className:"relative",children:[C.jsx("h1",{className:"text-9xl font-bold tracking-wider relative",children:C.jsx("span",{className:"bg-gradient-to-r from-[hsl(280_60%_60%)] via-[hsl(320_90%_60%)] to-[hsl(180_100%_70%)] bg-clip-text text-transparent animate-shimmer",style:{backgroundSize:"200% 100%",animation:"shimmer 4s linear infinite"},children:"AURA"})}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[hsl(var(--aura-glow))]/10 to-transparent blur-xl"})]}),C.jsxs("div",{className:"flex items-center justify-center gap-6",children:[C.jsx("div",{className:"h-[1px] w-16 bg-gradient-to-r from-transparent to-[hsl(var(--aura-glow))]/60"}),C.jsx("h2",{className:"text-2xl tracking-[0.5em] font-light text-foreground/80",children:"SYNAPSE MIRROR"}),C.jsx("div",{className:"h-[1px] w-16 bg-gradient-to-l from-transparent to-[hsl(var(--aura-glow))]/60"})]}),C.jsx("p",{className:"text-lg tracking-[0.3em] text-foreground/60 font-light",children:"Discover Your Style DNA"})]}),e&&C.jsx("div",{className:"absolute bottom-20 left-1/2 -translate-x-1/2 z-10 text-center space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-1000",children:C.jsxs("div",{className:"flex items-center justify-center gap-3",children:[C.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--aura-glow))] animate-glow-pulse"}),C.jsx("div",{className:"text-foreground/60 text-sm tracking-[0.3em] uppercase font-light",children:"Approach to begin"}),C.jsx("div",{className:"w-2 h-2 rounded-full bg-[hsl(var(--aura-glow))] animate-glow-pulse",style:{animationDelay:"0.5s"}})]})}),[...Array(12)].map((r,s)=>C.jsx("div",{className:"absolute w-1 h-1 rounded-full bg-[hsl(var(--aura-shimmer))] opacity-40 animate-float",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${5+Math.random()*5}s`}},s))]})},D1=N.createContext({});function mf(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const R1=typeof window<"u",F1=R1?N.useLayoutEffect:N.useEffect,Vp=N.createContext(null);function M1(t,e){t.indexOf(e)===-1&&t.push(e)}function L1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ls=(t,e,n)=>n>e?e:n<t?t:n;let Mh=()=>{};const Bs={},GA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function KA(t){return typeof t=="object"&&t!==null}const qA=t=>/^0[^.\s]+$/u.test(t);function B1(t){let e;return()=>(e===void 0&&(e=t()),e)}const or=t=>t,B6=(t,e)=>n=>e(t(n)),gf=(...t)=>t.reduce(B6),Ac=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class j1{constructor(){this.subscriptions=[]}add(e){return M1(this.subscriptions,e),()=>L1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const is=t=>t*1e3,Zn=t=>t/1e3;function YA(t,e){return e?t*(1e3/e):0}const XA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,j6=1e-7,z6=12;function V6(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=XA(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>j6&&++a<z6);return o}function yf(t,e,n,r){if(t===e&&n===r)return or;const s=i=>V6(i,0,1,t,n);return i=>i===0||i===1?i:XA(s(i),e,r)}const QA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZA=t=>e=>1-t(1-e),JA=yf(.33,1.53,.69,.99),z1=ZA(JA),eC=QA(z1),tC=t=>(t*=2)<1?.5*z1(t):.5*(2-Math.pow(2,-10*(t-1))),V1=t=>1-Math.sin(Math.acos(t)),nC=ZA(V1),rC=QA(V1),U6=yf(.42,0,1,1),W6=yf(0,0,.58,1),sC=yf(.42,0,.58,1),H6=t=>Array.isArray(t)&&typeof t[0]!="number",iC=t=>Array.isArray(t)&&typeof t[0]=="number",s_={linear:or,easeIn:U6,easeInOut:sC,easeOut:W6,circIn:V1,circInOut:rC,circOut:nC,backIn:z1,backInOut:eC,backOut:JA,anticipate:tC},G6=t=>typeof t=="string",i_=t=>{if(iC(t)){Mh(t.length===4);const[e,n,r,s]=t;return yf(e,n,r,s)}else if(G6(t))return Mh(s_[t]!==void 0),s_[t];return t},ud=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],o_={value:null,addProjectionMetrics:null};function K6(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(f){o.has(f)&&(c.schedule(f),t()),l++,f(a)}const c={schedule:(f,d=!1,h=!1)=>{const p=h&&s?n:r;return d&&o.add(f),p.has(f)||p.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&o_.value&&o_.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,c.process(f))}};return c}const q6=40;function oC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ud.reduce((w,x)=>(w[x]=K6(i,e?x:void 0),w),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:d,render:h,postRender:m}=o,p=()=>{const w=Bs.useManualTiming?s.timestamp:performance.now();n=!1,Bs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,q6),1)),s.timestamp=w,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),f.process(s),d.process(s),h.process(s),m.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},g=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:ud.reduce((w,x)=>{const S=o[x];return w[x]=(_,T=!1,k=!1)=>(n||g(),S.schedule(_,T,k)),w},{}),cancel:w=>{for(let x=0;x<ud.length;x++)o[ud[x]].cancel(w)},state:s,steps:o}}const{schedule:Le,cancel:js,state:St,steps:sg}=oC(typeof requestAnimationFrame<"u"?requestAnimationFrame:or,!0);let Ud;function Y6(){Ud=void 0}const on={now:()=>(Ud===void 0&&on.set(St.isProcessing||Bs.useManualTiming?St.timestamp:performance.now()),Ud),set:t=>{Ud=t,queueMicrotask(Y6)}},aC=t=>e=>typeof e=="string"&&e.startsWith(t),U1=aC("--"),X6=aC("var(--"),W1=t=>X6(t)?Q6.test(t.split("/*")[0].trim()):!1,Q6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cc={...nu,transform:t=>Ls(0,1,t)},cd={...nu,default:1},Yu=t=>Math.round(t*1e5)/1e5,H1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z6(t){return t==null}const J6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G1=(t,e)=>n=>!!(typeof n=="string"&&J6.test(n)&&n.startsWith(t)||e&&!Z6(n)&&Object.prototype.hasOwnProperty.call(n,e)),lC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(H1);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},e8=t=>Ls(0,255,t),ig={...nu,transform:t=>Math.round(e8(t))},To={test:G1("rgb","red"),parse:lC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ig.transform(t)+", "+ig.transform(e)+", "+ig.transform(n)+", "+Yu(Cc.transform(r))+")"};function t8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Xy={test:G1("#"),parse:t8,transform:To.transform},vf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ti=vf("deg"),os=vf("%"),ne=vf("px"),n8=vf("vh"),r8=vf("vw"),a_={...os,parse:t=>os.parse(t)/100,transform:t=>os.transform(t*100)},ja={test:G1("hsl","hue"),parse:lC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+os.transform(Yu(e))+", "+os.transform(Yu(n))+", "+Yu(Cc.transform(r))+")"},it={test:t=>To.test(t)||Xy.test(t)||ja.test(t),parse:t=>To.test(t)?To.parse(t):ja.test(t)?ja.parse(t):Xy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?To.transform(t):ja.transform(t),getAnimatableNone:t=>{const e=it.parse(t);return e.alpha=0,it.transform(e)}},s8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(H1))==null?void 0:e.length)||0)+(((n=t.match(s8))==null?void 0:n.length)||0)>0}const uC="number",cC="color",o8="var",a8="var(",l_="${}",l8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(l8,l=>(it.test(l)?(r.color.push(i),s.push(cC),n.push(it.parse(l))):l.startsWith(a8)?(r.var.push(i),s.push(o8),n.push(l)):(r.number.push(i),s.push(uC),n.push(parseFloat(l))),++i,l_)).split(l_);return{values:n,split:a,indexes:r,types:s}}function fC(t){return Pc(t).values}function dC(t){const{split:e,types:n}=Pc(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===uC?i+=Yu(s[o]):a===cC?i+=it.transform(s[o]):i+=s[o]}return i}}const u8=t=>typeof t=="number"?0:it.test(t)?it.getAnimatableNone(t):t;function c8(t){const e=fC(t);return dC(t)(e.map(u8))}const ji={test:i8,parse:fC,createTransformer:dC,getAnimatableNone:c8};function og(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=og(l,a,t+1/3),i=og(l,a,t),o=og(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Lh(t,e){return n=>n>0?e:t}const Ge=(t,e,n)=>t+(e-t)*n,ag=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},d8=[Xy,To,ja],h8=t=>d8.find(e=>e.test(t));function u_(t){const e=h8(t);if(!e)return!1;let n=e.parse(t);return e===ja&&(n=f8(n)),n}const c_=(t,e)=>{const n=u_(t),r=u_(e);if(!n||!r)return Lh(t,e);const s={...n};return i=>(s.red=ag(n.red,r.red,i),s.green=ag(n.green,r.green,i),s.blue=ag(n.blue,r.blue,i),s.alpha=Ge(n.alpha,r.alpha,i),To.transform(s))},Qy=new Set(["none","hidden"]);function p8(t,e){return Qy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function m8(t,e){return n=>Ge(t,e,n)}function K1(t){return typeof t=="number"?m8:typeof t=="string"?W1(t)?Lh:it.test(t)?c_:v8:Array.isArray(t)?hC:typeof t=="object"?it.test(t)?c_:g8:Lh}function hC(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>K1(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function g8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=K1(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function y8(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const v8=(t,e)=>{const n=ji.createTransformer(e),r=Pc(t),s=Pc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Qy.has(t)&&!s.values.length||Qy.has(e)&&!r.values.length?p8(t,e):gf(hC(y8(r,s),s.values),n):Lh(t,e)};function pC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ge(t,e,n):K1(t)(t,e)}const w8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Le.update(e,n),stop:()=>js(e),now:()=>St.isProcessing?St.timestamp:on.now()}},mC=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Bh=2e4;function q1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Bh;)e+=n,r=t.next(e);return e>=Bh?1/0:e}function b8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(q1(r),Bh);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Zn(s)}}const x8=5;function gC(t,e,n){const r=Math.max(e-x8,0);return YA(n-t(r),e-r)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lg=.001;function S8({duration:t=Ze.duration,bounce:e=Ze.bounce,velocity:n=Ze.velocity,mass:r=Ze.mass}){let s,i,o=1-e;o=Ls(Ze.minDamping,Ze.maxDamping,o),t=Ls(Ze.minDuration,Ze.maxDuration,Zn(t)),o<1?(s=u=>{const c=u*o,f=c*t,d=c-n,h=Zy(u,o),m=Math.exp(-f);return lg-d/h*m},i=u=>{const f=u*o*t,d=f*n+n,h=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-f),p=Zy(Math.pow(u,2),o);return(-s(u)+lg>0?-1:1)*((d-h)*m)/p}):(s=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-lg+c*f},i=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=T8(s,i,a);if(t=is(t),isNaN(l))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const _8=12;function T8(t,e,n){let r=n;for(let s=1;s<_8;s++)r=r-t(r)/e(r);return r}function Zy(t,e){return t*Math.sqrt(1-e*e)}const E8=["duration","bounce"],N8=["stiffness","damping","mass"];function f_(t,e){return e.some(n=>t[n]!==void 0)}function k8(t){let e={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!f_(t,N8)&&f_(t,E8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ls(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ze.mass,stiffness:s,damping:i}}else{const n=S8(t);e={...e,...n,mass:Ze.mass},e.isResolvedFromDuration=!0}return e}function jh(t=Ze.visualDuration,e=Ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:h}=k8({...n,velocity:-Zn(n.velocity||0)}),m=d||0,p=u/(2*Math.sqrt(l*c)),g=o-i,y=Zn(Math.sqrt(l/c)),v=Math.abs(g)<5;r||(r=v?Ze.restSpeed.granular:Ze.restSpeed.default),s||(s=v?Ze.restDelta.granular:Ze.restDelta.default);let w;if(p<1){const S=Zy(y,p);w=_=>{const T=Math.exp(-p*y*_);return o-T*((m+p*y*g)/S*Math.sin(S*_)+g*Math.cos(S*_))}}else if(p===1)w=S=>o-Math.exp(-y*S)*(g+(m+y*g)*S);else{const S=y*Math.sqrt(p*p-1);w=_=>{const T=Math.exp(-p*y*_),k=Math.min(S*_,300);return o-T*((m+p*y*g)*Math.sinh(k)+S*g*Math.cosh(k))/S}}const x={calculatedDuration:h&&f||null,next:S=>{const _=w(S);if(h)a.done=S>=f;else{let T=S===0?m:0;p<1&&(T=S===0?is(m):gC(w,S,_));const k=Math.abs(T)<=r,P=Math.abs(o-_)<=s;a.done=k&&P}return a.value=a.done?o:_,a},toString:()=>{const S=Math.min(q1(x),Bh),_=mC(T=>x.next(S*T).value,S,30);return S+"ms "+_},toTransition:()=>{}};return x}jh.applyToOptions=t=>{const e=b8(t,100,jh);return t.ease=e.ease,t.duration=is(e.duration),t.type="keyframes",t};function Jy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},h=k=>a!==void 0&&k<a||l!==void 0&&k>l,m=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let p=n*e;const g=f+p,y=o===void 0?g:o(g);y!==g&&(p=y-f);const v=k=>-p*Math.exp(-k/r),w=k=>y+v(k),x=k=>{const P=v(k),O=w(k);d.done=Math.abs(P)<=u,d.value=d.done?y:O};let S,_;const T=k=>{h(d.value)&&(S=k,_=jh({keyframes:[d.value,m(d.value)],velocity:gC(w,k,d.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:k=>{let P=!1;return!_&&S===void 0&&(P=!0,x(k),T(k)),S!==void 0&&k>=S?_.next(k-S):(!P&&x(k),d)}}}function A8(t,e,n){const r=[],s=n||Bs.mix||pC,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||or:e;a=gf(l,a)}r.push(a)}return r}function yC(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Mh(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=A8(e,r,s),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const d=Ac(t[f],t[f+1],c);return a[f](d)};return n?c=>u(Ls(t[0],t[i-1],c)):u}function C8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ac(0,e,r);t.push(Ge(n,1,s))}}function P8(t){const e=[0];return C8(e,t.length-1),e}function $8(t,e){return t.map(n=>n*e)}function I8(t,e){return t.map(()=>e||sC).splice(0,t.length-1)}function Xu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=H6(r)?r.map(i_):i_(r),i={done:!1,value:e[0]},o=$8(n&&n.length===e.length?n:P8(e),t),a=yC(o,e,{ease:Array.isArray(s)?s:I8(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const O8=t=>t!==null;function Y1(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(O8),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const D8={decay:Jy,inertia:Jy,tween:Xu,keyframes:Xu,spring:jh};function vC(t){typeof t.type=="string"&&(t.type=D8[t.type])}class X1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const R8=t=>t/100;class Q1 extends X1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==on.now()&&this.tick(on.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;vC(e);const{type:n=Xu,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Xu;l!==Xu&&typeof a[0]!="number"&&(this.mixKeyframes=gf(R8,pC(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=q1(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:d,repeatDelay:h,type:m,onUpdate:p,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,x=r;if(f){const k=Math.min(this.currentTime,s)/a;let P=Math.floor(k),O=k%1;!O&&k>=1&&(O=1),O===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(d==="reverse"?(O=1-O,h&&(O-=h/a)):d==="mirror"&&(x=o)),w=Ls(0,1,O)*a}const S=v?{done:!1,value:c[0]}:x.next(w);i&&(S.value=i(S.value));let{done:_}=S;!v&&l!==null&&(_=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return T&&m!==Jy&&(S.value=Y1(c,this.options,g,this.speed)),p&&p(S.value),T&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return Zn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zn(e)}get time(){return Zn(this.currentTime)}set time(e){var n;e=is(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(on.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=w8,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(on.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function F8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Eo=t=>t*180/Math.PI,e0=t=>{const e=Eo(Math.atan2(t[1],t[0]));return t0(e)},M8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:e0,rotateZ:e0,skewX:t=>Eo(Math.atan(t[1])),skewY:t=>Eo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},t0=t=>(t=t%360,t<0&&(t+=360),t),d_=e0,h_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),p_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),L8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:h_,scaleY:p_,scale:t=>(h_(t)+p_(t))/2,rotateX:t=>t0(Eo(Math.atan2(t[6],t[5]))),rotateY:t=>t0(Eo(Math.atan2(-t[2],t[0]))),rotateZ:d_,rotate:d_,skewX:t=>Eo(Math.atan(t[4])),skewY:t=>Eo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function n0(t){return t.includes("scale")?1:0}function r0(t,e){if(!t||t==="none")return n0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=L8,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=M8,s=a}if(!s)return n0(e);const i=r[e],o=s[1].split(",").map(j8);return typeof i=="function"?i(o):o[i]}const B8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return r0(n,e)};function j8(t){return parseFloat(t.trim())}const ru=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],su=new Set(ru),m_=t=>t===nu||t===ne,z8=new Set(["x","y","z"]),V8=ru.filter(t=>!z8.has(t));function U8(t){const e=[];return V8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>r0(e,"x"),y:(t,{transform:e})=>r0(e,"y")};Lo.translateX=Lo.x;Lo.translateY=Lo.y;const Bo=new Set;let s0=!1,i0=!1,o0=!1;function wC(){if(i0){const t=Array.from(Bo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=U8(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}i0=!1,s0=!1,Bo.forEach(t=>t.complete(o0)),Bo.clear()}function bC(){Bo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(i0=!0)})}function W8(){o0=!0,bC(),wC(),o0=!1}class Z1{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Bo.add(this),s0||(s0=!0,Le.read(bC),Le.resolveKeyframes(wC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}F8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bo.delete(this)}cancel(){this.state==="scheduled"&&(Bo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const H8=t=>t.startsWith("--");function G8(t,e,n){H8(e)?t.style.setProperty(e,n):t.style[e]=n}const K8=B1(()=>window.ScrollTimeline!==void 0),q8={};function Y8(t,e){const n=B1(t);return()=>q8[e]??n()}const xC=Y8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$u=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,g_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$u([0,.65,.55,1]),circOut:$u([.55,0,1,.45]),backIn:$u([.31,.01,.66,-.59]),backOut:$u([.33,1.53,.69,.99])};function SC(t,e){if(t)return typeof t=="function"?xC()?mC(t,e):"ease-out":iC(t)?$u(t):Array.isArray(t)?t.map(n=>SC(n,e)||g_.easeOut):g_[t]}function X8(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const f=SC(a,s);Array.isArray(f)&&(c.easing=f);const d={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),t.animate(c,d)}function _C(t){return typeof t=="function"&&"applyToOptions"in t}function Q8({type:t,...e}){return _C(t)&&xC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Z8 extends X1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Mh(typeof e.type!="string");const u=Q8(e);this.animation=X8(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=Y1(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):G8(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Zn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zn(e)}get time(){return Zn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=is(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&K8()?(this.animation.timeline=e,or):n(this)}}const TC={anticipate:tC,backInOut:eC,circInOut:rC};function J8(t){return t in TC}function eU(t){typeof t.ease=="string"&&J8(t.ease)&&(t.ease=TC[t.ease])}const y_=10;class tU extends Z8{constructor(e){eU(e),vC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Q1({...o,autoplay:!1}),l=is(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-y_).value,a.sample(l).value,y_),a.stop()}}const v_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ji.test(t)||t==="0")&&!t.startsWith("url("));function nU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function rU(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=v_(s,e),a=v_(i,e);return!o||!a?!1:nU(t)||(n==="spring"||_C(n))&&r}function a0(t){t.duration=0,t.type="keyframes"}const sU=new Set(["opacity","clipPath","filter","transform"]),iU=B1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oU(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return iU()&&n&&sU.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const aU=40;class lU extends X1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...f}){var m;super(),this.stop=()=>{var p,g;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=on.now();const d={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:c,...f},h=(c==null?void 0:c.KeyframeResolver)||Z1;this.keyframeResolver=new h(a,(p,g,y)=>this.onKeyframesResolved(p,g,d,!y),l,u,c),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=on.now(),rU(e,i,o,a)||((Bs.instantAnimations||!l)&&(c==null||c(Y1(e,r,n))),e[0]=e[e.length-1],a0(r),r.repeat=0);const d={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>aU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!u&&oU(d)?new tU({...d,element:d.motionValue.owner.current}):new Q1(d);h.finished.then(()=>this.notifyFinished()).catch(or),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),W8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const uU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cU(t){const e=uU.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function EC(t,e,n=1){const[r,s]=cU(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return GA(o)?parseFloat(o):o}return W1(s)?EC(s,e,n+1):s}function J1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const NC=new Set(["width","height","top","left","right","bottom",...ru]),fU={test:t=>t==="auto",parse:t=>t},kC=t=>e=>e.test(t),AC=[nu,ne,os,ti,r8,n8,fU],w_=t=>AC.find(kC(t));function dU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||qA(t):!0}const hU=new Set(["brightness","contrast","saturate","opacity"]);function pU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(H1)||[];if(!r)return t;const s=n.replace(r,"");let i=hU.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const mU=/\b([a-z-]*)\(.*?\)/gu,l0={...ji,getAnimatableNone:t=>{const e=t.match(mU);return e?e.map(pU).join(" "):t}},b_={...nu,transform:Math.round},gU={rotate:ti,rotateX:ti,rotateY:ti,rotateZ:ti,scale:cd,scaleX:cd,scaleY:cd,scaleZ:cd,skew:ti,skewX:ti,skewY:ti,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:Cc,originX:a_,originY:a_,originZ:ne},ew={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne,...gU,zIndex:b_,fillOpacity:Cc,strokeOpacity:Cc,numOctaves:b_},yU={...ew,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:l0,WebkitFilter:l0},CC=t=>yU[t];function PC(t,e){let n=CC(t);return n!==l0&&(n=ji),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vU=new Set(["auto","none","0"]);function wU(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!vU.has(i)&&Pc(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=PC(n,s)}class bU extends Z1{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),W1(u))){const c=EC(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!NC.has(r)||e.length!==2)return;const[s,i]=e,o=w_(s),a=w_(i);if(o!==a)if(m_(o)&&m_(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Lo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||dU(e[s]))&&r.push(s);r.length&&wU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Lo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function xU(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const $C=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function IC(t){return KA(t)&&"offsetHeight"in t}const x_=30,SU=t=>!isNaN(parseFloat(t)),Qu={current:void 0};class _U{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=on.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=on.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new j1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Qu.current&&Qu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=on.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>x_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,x_);return YA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ea(t,e){return new _U(t,e)}const{schedule:tw,cancel:soe}=oC(queueMicrotask,!1),wr={x:!1,y:!1};function OC(){return wr.x||wr.y}function TU(t){return t==="x"||t==="y"?wr[t]?null:(wr[t]=!0,()=>{wr[t]=!1}):wr.x||wr.y?null:(wr.x=wr.y=!0,()=>{wr.x=wr.y=!1})}function DC(t,e){const n=xU(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function S_(t){return!(t.pointerType==="touch"||OC())}function EU(t,e,n={}){const[r,s,i]=DC(t,n),o=a=>{if(!S_(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=f=>{S_(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const RC=(t,e)=>e?t===e?!0:RC(t,e.parentElement):!1,nw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,NU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kU(t){return NU.has(t.tagName)||t.tabIndex!==-1}const Wd=new WeakSet;function __(t){return e=>{e.key==="Enter"&&t(e)}}function ug(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=__(()=>{if(Wd.has(n))return;ug(n,"down");const s=__(()=>{ug(n,"up")}),i=()=>ug(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function T_(t){return nw(t)&&!OC()}function CU(t,e,n={}){const[r,s,i]=DC(t,n),o=a=>{const l=a.currentTarget;if(!T_(a))return;Wd.add(l);const u=e(l,a),c=(h,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),Wd.has(l)&&Wd.delete(l),T_(h)&&typeof u=="function"&&u(h,{success:m})},f=h=>{c(h,l===window||l===document||n.useGlobalTarget||RC(l,h.target))},d=h=>{c(h,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",d,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),IC(a)&&(a.addEventListener("focus",u=>AU(u,s)),!kU(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function FC(t){return KA(t)&&"ownerSVGElement"in t}function PU(t){return FC(t)&&t.tagName==="svg"}function $U(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],a=yC(s,i,o);return e?a(r):a}const Mt=t=>!!(t&&t.getVelocity),IU=[...AC,it,ji],OU=t=>IU.find(kC(t)),Up=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function E_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function DU(...t){return e=>{let n=!1;const r=t.map(s=>{const i=E_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():E_(t[s],null)}}}}function RU(...t){return N.useCallback(DU(...t),t)}class FU extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=IC(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function MU({children:t,isPresent:e,anchorX:n,root:r}){const s=N.useId(),i=N.useRef(null),o=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=N.useContext(Up),l=RU(i,t==null?void 0:t.ref);return N.useInsertionEffect(()=>{const{width:u,height:c,top:f,left:d,right:h}=o.current;if(e||!i.current||!u||!c)return;const m=n==="left"?`left: ${d}`:`right: ${h}`;i.current.dataset.motionPopId=s;const p=document.createElement("style");a&&(p.nonce=a);const g=r??document.head;return g.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${f}px !important;
          }
        `),()=>{g.contains(p)&&g.removeChild(p)}},[e]),C.jsx(FU,{isPresent:e,childRef:i,sizeRef:o,children:N.cloneElement(t,{ref:l})})}const LU=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=mf(BU),c=N.useId();let f=!0,d=N.useMemo(()=>(f=!1,{id:c,initial:e,isPresent:n,custom:s,onExitComplete:h=>{u.set(h,!0);for(const m of u.values())if(!m)return;r&&r()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[n,u,r]);return i&&f&&(d={...d}),N.useMemo(()=>{u.forEach((h,m)=>u.set(m,!1))},[n]),N.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=C.jsx(MU,{isPresent:n,anchorX:a,root:l,children:t})),C.jsx(Vp.Provider,{value:d,children:t})};function BU(){return new Map}function MC(t=!0){const e=N.useContext(Vp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=N.useId();N.useEffect(()=>{if(t)return s(i)},[t]);const o=N.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const fd=t=>t.key||"";function N_(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const LC=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=MC(o),f=N.useMemo(()=>N_(t),[t]),d=o&&!u?[]:f.map(fd),h=N.useRef(!0),m=N.useRef(f),p=mf(()=>new Map),[g,y]=N.useState(f),[v,w]=N.useState(f);F1(()=>{h.current=!1,m.current=f;for(let _=0;_<v.length;_++){const T=fd(v[_]);d.includes(T)?p.delete(T):p.get(T)!==!0&&p.set(T,!1)}},[v,d.length,d.join("-")]);const x=[];if(f!==g){let _=[...f];for(let T=0;T<v.length;T++){const k=v[T],P=fd(k);d.includes(P)||(_.splice(T,0,k),x.push(k))}return i==="wait"&&x.length&&(_=x),w(N_(_)),y(f),null}const{forceRender:S}=N.useContext(D1);return C.jsx(C.Fragment,{children:v.map(_=>{const T=fd(_),k=o&&!u?!1:f===v||d.includes(T),P=()=>{if(p.has(T))p.set(T,!0);else return;let O=!0;p.forEach(D=>{D||(O=!1)}),O&&(S==null||S(),w(m.current),o&&(c==null||c()),r&&r())};return C.jsx(LU,{isPresent:k,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:k?void 0:P,anchorX:a,children:_},T)})})},BC=N.createContext({strict:!1}),k_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cl={};for(const t in k_)Cl[t]={isEnabled:e=>k_[t].some(n=>!!e[n])};function jU(t){for(const e in t)Cl[e]={...Cl[e],...t[e]}}const zU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zU.has(t)}let jC=t=>!zh(t);function VU(t){typeof t=="function"&&(jC=e=>e.startsWith("on")?!zh(e):t(e))}try{VU(require("@emotion/is-prop-valid").default)}catch{}function UU(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(jC(s)||n===!0&&zh(s)||!e&&!zh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Wp=N.createContext({});function Hp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $c(t){return typeof t=="string"||Array.isArray(t)}const rw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sw=["initial",...rw];function Gp(t){return Hp(t.animate)||sw.some(e=>$c(t[e]))}function zC(t){return!!(Gp(t)||t.variants)}function WU(t,e){if(Gp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$c(n)?n:void 0,animate:$c(r)?r:void 0}}return t.inherit!==!1?e:{}}function HU(t){const{initial:e,animate:n}=WU(t,N.useContext(Wp));return N.useMemo(()=>({initial:e,animate:n}),[A_(e),A_(n)])}function A_(t){return Array.isArray(t)?t.join(" "):t}const Ic={};function GU(t){for(const e in t)Ic[e]=t[e],U1(e)&&(Ic[e].isCSSVariable=!0)}function VC(t,{layout:e,layoutId:n}){return su.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ic[t]||t==="opacity")}const KU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qU=ru.length;function YU(t,e,n){let r="",s=!0;for(let i=0;i<qU;i++){const o=ru[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=$C(a,ew[o]);if(!l){s=!1;const c=KU[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function iw(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(su.has(l)){o=!0;continue}else if(U1(l)){s[l]=u;continue}else{const c=$C(u,ew[l]);l.startsWith("origin")?(a=!0,i[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=YU(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const ow=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function UC(t,e,n){for(const r in e)!Mt(e[r])&&!VC(r,n)&&(t[r]=e[r])}function XU({transformTemplate:t},e){return N.useMemo(()=>{const n=ow();return iw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function QU(t,e){const n=t.style||{},r={};return UC(r,n,t),Object.assign(r,XU(t,e)),r}function ZU(t,e){const n={},r=QU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const JU={offset:"stroke-dashoffset",array:"stroke-dasharray"},eW={offset:"strokeDashoffset",array:"strokeDasharray"};function tW(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?JU:eW;t[i.offset]=ne.transform(-r);const o=ne.transform(e),a=ne.transform(n);t[i.array]=`${o} ${a}`}function WC(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,c){if(iw(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&tW(f,s,i,o,!1)}const HC=()=>({...ow(),attrs:{}}),GC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nW(t,e,n,r){const s=N.useMemo(()=>{const i=HC();return WC(i,e,GC(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};UC(i,t.style,t),s.style={...i,...s.style}}return s}const rW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function aw(t){return typeof t!="string"||t.includes("-")?!1:!!(rW.indexOf(t)>-1||/[A-Z]/u.test(t))}function sW(t,e,n,{latestValues:r},s,i=!1){const a=(aw(t)?nW:ZU)(e,r,s,t),l=UU(e,typeof t=="string",i),u=t!==N.Fragment?{...l,...a,ref:n}:{},{children:c}=e,f=N.useMemo(()=>Mt(c)?c.get():c,[c]);return N.createElement(t,{...u,children:f})}function C_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function lw(t,e,n,r){if(typeof e=="function"){const[s,i]=C_(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=C_(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Hd(t){return Mt(t)?t.get():t}function iW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:oW(n,r,s,t),renderState:e()}}function oW(t,e,n,r){const s={},i=r(t,{});for(const d in i)s[d]=Hd(i[d]);let{initial:o,animate:a}=t;const l=Gp(t),u=zC(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!Hp(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const m=lw(t,d[h]);if(m){const{transitionEnd:p,transition:g,...y}=m;for(const v in y){let w=y[v];if(Array.isArray(w)){const x=c?w.length-1:0;w=w[x]}w!==null&&(s[v]=w)}for(const v in p)s[v]=p[v]}}}return s}const KC=t=>(e,n)=>{const r=N.useContext(Wp),s=N.useContext(Vp),i=()=>iW(t,e,r,s);return n?i():mf(i)};function uw(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Mt(r[o])||e.style&&Mt(e.style[o])||VC(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const aW=KC({scrapeMotionValuesFromProps:uw,createRenderState:ow});function qC(t,e,n){const r=uw(t,e,n);for(const s in t)if(Mt(t[s])||Mt(e[s])){const i=ru.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const lW=KC({scrapeMotionValuesFromProps:qC,createRenderState:HC}),uW=Symbol.for("motionComponentSymbol");function za(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cW(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):za(n)&&(n.current=r))},[e])}const cw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fW="framerAppearId",YC="data-"+cw(fW),XC=N.createContext({});function dW(t,e,n,r,s){var p,g;const{visualElement:i}=N.useContext(Wp),o=N.useContext(BC),a=N.useContext(Vp),l=N.useContext(Up).reducedMotion,u=N.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=N.useContext(XC);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&hW(u.current,n,s,f);const d=N.useRef(!1);N.useInsertionEffect(()=>{c&&d.current&&c.update(n,a)});const h=n[YC],m=N.useRef(!!h&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,h))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,h)));return F1(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),m.current&&c.animationState&&c.animationState.animateChanges())}),N.useEffect(()=>{c&&(!m.current&&c.animationState&&c.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,h)}),m.current=!1),c.enteringChildren=void 0)}),c}function hW(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QC(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&za(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function QC(t){if(t)return t.options.allowProjection!==!1?t.projection:QC(t.parent)}function cg(t,{forwardMotionProps:e=!1}={},n,r){n&&jU(n);const s=aw(t)?lW:aW;function i(a,l){let u;const c={...N.useContext(Up),...a,layoutId:pW(a)},{isStatic:f}=c,d=HU(a),h=s(a,f);if(!f&&R1){mW();const m=gW(c);u=m.MeasureLayout,d.visualElement=dW(t,h,c,r,m.ProjectionNode)}return C.jsxs(Wp.Provider,{value:d,children:[u&&d.visualElement?C.jsx(u,{visualElement:d.visualElement,...c}):null,sW(t,a,cW(h,d.visualElement,l),h,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=N.forwardRef(i);return o[uW]=t,o}function pW({layoutId:t}){const e=N.useContext(D1).id;return e&&t!==void 0?e+"-"+t:t}function mW(t,e){N.useContext(BC).strict}function gW(t){const{drag:e,layout:n}=Cl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function yW(t,e){if(typeof Proxy>"u")return cg;const n=new Map,r=(i,o)=>cg(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,cg(o,void 0,t,e)),n.get(o))})}function ZC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fg(t){return t===void 0||t===1}function u0({scale:t,scaleX:e,scaleY:n}){return!fg(t)||!fg(e)||!fg(n)}function mo(t){return u0(t)||JC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function JC(t){return P_(t.x)||P_(t.y)}function P_(t){return t&&t!=="0%"}function Vh(t,e,n){const r=t-n,s=e*r;return n+s}function $_(t,e,n,r,s){return s!==void 0&&(t=Vh(t,s,r)),Vh(t,n,r)+e}function c0(t,e=0,n=1,r,s){t.min=$_(t.min,e,n,r,s),t.max=$_(t.max,e,n,r,s)}function eP(t,{x:e,y:n}){c0(t.x,e.translate,e.scale,e.originPoint),c0(t.y,n.translate,n.scale,n.originPoint)}const I_=.999999999999,O_=1.0000000000001;function bW(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ua(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,eP(t,o)),r&&mo(i.latestValues)&&Ua(t,i.latestValues))}e.x<O_&&e.x>I_&&(e.x=1),e.y<O_&&e.y>I_&&(e.y=1)}function Va(t,e){t.min=t.min+e,t.max=t.max+e}function D_(t,e,n,r,s=.5){const i=Ge(t.min,t.max,s);c0(t,e,n,i,r)}function Ua(t,e){D_(t.x,e.x,e.scaleX,e.scale,e.originX),D_(t.y,e.y,e.scaleY,e.scale,e.originY)}function tP(t,e){return ZC(wW(t.getBoundingClientRect(),e))}function xW(t,e,n){const r=tP(t,n),{scroll:s}=e;return s&&(Va(r.x,s.offset.x),Va(r.y,s.offset.y)),r}const R_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wa=()=>({x:R_(),y:R_()}),F_=()=>({min:0,max:0}),tt=()=>({x:F_(),y:F_()}),f0={current:null},nP={current:!1};function SW(){if(nP.current=!0,!!R1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>f0.current=t.matches;t.addEventListener("change",e),e()}else f0.current=!1}const _W=new WeakMap;function TW(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Mt(s))t.addValue(r,s);else if(Mt(i))t.addValue(r,ea(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ea(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const M_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EW{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Z1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=on.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Le.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Gp(n),this.isVariantNode=zC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const h=f[d];l[d]!==void 0&&Mt(h)&&h.set(l[d])}}mount(e){var n;this.current=e,_W.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),nP.current||SW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:f0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),js(this.notifyUpdate),js(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=su.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Cl){const n=Cl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<M_.length;r++){const s=M_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=TW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ea(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(GA(r)||qA(r))?r=parseFloat(r):!OU(r)&&ji.test(n)&&(r=PC(e,n)),this.setBaseTarget(e,Mt(r)?r.get():r)),Mt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=lw(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Mt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new j1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){tw.render(this.render)}}class rP extends EW{constructor(){super(...arguments),this.KeyframeResolver=bU}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function sP(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function NW(t){return window.getComputedStyle(t)}class kW extends rP{constructor(){super(...arguments),this.type="html",this.renderInstance=sP}readValueFromInstance(e,n){var r;if(su.has(n))return(r=this.projection)!=null&&r.isProjecting?n0(n):B8(e,n);{const s=NW(e),i=(U1(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tP(e,n)}build(e,n,r){iw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return uw(e,n,r)}}const iP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AW(t,e,n,r){sP(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(iP.has(s)?s:cw(s),e.attrs[s])}class CW extends rP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(su.has(n)){const r=CC(n);return r&&r.default||0}return n=iP.has(n)?n:cw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return qC(e,n,r)}build(e,n,r){WC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){AW(e,n,r,s)}mount(e){this.isSVGTag=GC(e.tagName),super.mount(e)}}const PW=(t,e)=>aw(t)?new CW(e):new kW(e,{allowProjection:t!==N.Fragment});function sl(t,e,n){const r=t.getProps();return lw(r,e,n!==void 0?n:r.custom,t)}const d0=t=>Array.isArray(t);function $W(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ea(n))}function IW(t){return d0(t)?t[t.length-1]||0:t}function OW(t,e){const n=sl(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=IW(i[o]);$W(t,o,a)}}function DW(t){return!!(Mt(t)&&t.add)}function h0(t,e){const n=t.getValue("willChange");if(DW(n))return n.add(e);if(!n&&Bs.WillChange){const r=new Bs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function oP(t){return t.props[YC]}const RW=t=>t!==null;function FW(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(RW),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const MW={type:"spring",stiffness:500,damping:25,restSpeed:10},LW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),BW={type:"keyframes",duration:.8},jW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zW=(t,{keyframes:e})=>e.length>2?BW:su.has(t)?t.startsWith("scale")?LW(e[1]):MW:jW;function VW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const fw=(t,e,n,r={},s,i)=>o=>{const a=J1(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-is(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};VW(a)||Object.assign(c,zW(t,c)),c.duration&&(c.duration=is(c.duration)),c.repeatDelay&&(c.repeatDelay=is(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(a0(c),c.delay===0&&(f=!0)),(Bs.instantAnimations||Bs.skipAnimations)&&(f=!0,a0(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const d=FW(c.keyframes,a);if(d!==void 0){Le.update(()=>{c.onUpdate(d),c.onComplete()});return}}return a.isSync?new Q1(c):new lU(c)};function UW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aP(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const c in a){const f=t.getValue(c,t.latestValues[c]??null),d=a[c];if(d===void 0||u&&UW(u,c))continue;const h={delay:n,...J1(i||{},c)},m=f.get();if(m!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===m&&!h.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=oP(t);if(y){const v=window.MotionHandoffAnimation(y,c,Le);v!==null&&(h.startTime=v,p=!0)}}h0(t,c),f.start(fw(c,f,d,t.shouldReduceMotion&&NC.has(c)?{type:!1}:h,t,p));const g=f.animation;g&&l.push(g)}return o&&Promise.all(l).then(()=>{Le.update(()=>{o&&OW(t,o)})}),l}function lP(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function p0(t,e,n={}){var l;const r=sl(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(aP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=s;return WW(t,e,u,c,f,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function WW(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(p0(l,e,{...o,delay:n+(typeof r=="function"?0:r)+lP(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function HW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>p0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=p0(t,e,n);else{const s=typeof e=="function"?sl(t,e,n.custom):e;r=Promise.all(aP(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function uP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const GW=sw.length;function cP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<GW;n++){const r=sw[n],s=t.props[r];($c(s)||s===!1)&&(e[r]=s)}return e}const KW=[...rw].reverse(),qW=rw.length;function YW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>HW(t,n,r)))}function XW(t){let e=YW(t),n=L_(),r=!0;const s=l=>(u,c)=>{var d;const f=sl(t,c,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:m,...p}=f;u={...u,...p,...m}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,c=cP(t.parent)||{},f=[],d=new Set;let h={},m=1/0;for(let g=0;g<qW;g++){const y=KW[g],v=n[y],w=u[y]!==void 0?u[y]:c[y],x=$c(w),S=y===l?v.isActive:null;S===!1&&(m=g);let _=w===c[y]&&w!==u[y]&&x;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),v.protectedKeys={...h},!v.isActive&&S===null||!w&&!v.prevProp||Hp(w)||typeof w=="boolean")continue;const T=QW(v.prevProp,w);let k=T||y===l&&v.isActive&&!_&&x||g>m&&x,P=!1;const O=Array.isArray(w)?w:[w];let D=O.reduce(s(y),{});S===!1&&(D={});const{prevResolvedValues:F={}}=v,z={...F,...D},L=V=>{k=!0,d.has(V)&&(P=!0,d.delete(V)),v.needsAnimating[V]=!0;const R=t.getValue(V);R&&(R.liveStyle=!1)};for(const V in z){const R=D[V],M=F[V];if(h.hasOwnProperty(V))continue;let H=!1;d0(R)&&d0(M)?H=!uP(R,M):H=R!==M,H?R!=null?L(V):d.add(V):R!==void 0&&d.has(V)?L(V):v.protectedKeys[V]=!0}v.prevProp=w,v.prevResolvedValues=D,v.isActive&&(h={...h,...D}),r&&t.blockInitialAnimation&&(k=!1);const W=_&&T;k&&(!W||P)&&f.push(...O.map(V=>{const R={type:y};if(typeof V=="string"&&r&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:M}=t,H=sl(M,V);if(M.enteringChildren&&H){const{delayChildren:Z}=H.transition||{};R.delay=lP(M.enteringChildren,t,Z)}}return{animation:V,options:R}}))}if(d.size){const g={};if(typeof u.initial!="boolean"){const y=sl(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(g.transition=y.transition)}d.forEach(y=>{const v=t.getBaseTarget(y),w=t.getValue(y);w&&(w.liveStyle=!0),g[y]=v??null}),f.push({animation:g})}let p=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),r=!1,p?e(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const d in n)n[d].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=L_()}}}function QW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uP(e,t):!1}function ao(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function L_(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}class eo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ZW extends eo{constructor(e){super(e),e.animationState||(e.animationState=XW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let JW=0;class eH extends eo{constructor(){super(...arguments),this.id=JW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const tH={animation:{Feature:ZW},exit:{Feature:eH}};function Oc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wf(t){return{point:{x:t.pageX,y:t.pageY}}}const nH=t=>e=>nw(e)&&t(e,wf(e));function Zu(t,e,n,r){return Oc(t,e,nH(n),r)}const fP=1e-4,rH=1-fP,sH=1+fP,dP=.01,iH=0-dP,oH=0+dP;function Kt(t){return t.max-t.min}function aH(t,e,n){return Math.abs(t-e)<=n}function B_(t,e,n,r=.5){t.origin=r,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=Kt(n)/Kt(e),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rH&&t.scale<=sH||isNaN(t.scale))&&(t.scale=1),(t.translate>=iH&&t.translate<=oH||isNaN(t.translate))&&(t.translate=0)}function Ju(t,e,n,r){B_(t.x,e.x,n.x,r?r.originX:void 0),B_(t.y,e.y,n.y,r?r.originY:void 0)}function j_(t,e,n){t.min=n.min+e.min,t.max=t.min+Kt(e)}function lH(t,e,n){j_(t.x,e.x,n.x),j_(t.y,e.y,n.y)}function z_(t,e,n){t.min=e.min-n.min,t.max=t.min+Kt(e)}function ec(t,e,n){z_(t.x,e.x,n.x),z_(t.y,e.y,n.y)}function Hn(t){return[t("x"),t("y")]}const hP=({current:t})=>t?t.ownerDocument.defaultView:null,V_=(t,e)=>Math.abs(t-e);function uH(t,e){const n=V_(t.x,e.x),r=V_(t.y,e.y);return Math.sqrt(n**2+r**2)}class pP{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=hg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=uH(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!m)return;const{point:p}=d,{timestamp:g}=St;this.history.push({...p,timestamp:g});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=dg(h,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=hg(d.type==="pointercancel"?this.lastMoveEventInfo:dg(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,y),p&&p(d,y)},!nw(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=wf(e),l=dg(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=St;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(e,hg(l,this.history)),this.removeListeners=gf(Zu(this.contextWindow,"pointermove",this.handlePointerMove),Zu(this.contextWindow,"pointerup",this.handlePointerUp),Zu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),js(this.updatePoint)}}function dg(t,e){return e?{point:e(t.point)}:t}function U_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hg({point:t},e){return{point:t,delta:U_(t,mP(e)),offset:U_(t,cH(e)),velocity:fH(e,.1)}}function cH(t){return t[0]}function mP(t){return t[t.length-1]}function fH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=mP(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>is(e)));)n--;if(!r)return{x:0,y:0};const i=Zn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ge(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ge(n,t,r.max):Math.min(t,n)),t}function W_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hH(t,{top:e,left:n,bottom:r,right:s}){return{x:W_(t.x,n,s),y:W_(t.y,e,r)}}function H_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function pH(t,e){return{x:H_(t.x,e.x),y:H_(t.y,e.y)}}function mH(t,e){let n=.5;const r=Kt(t),s=Kt(e);return s>r?n=Ac(e.min,e.max-r,t.min):r>s&&(n=Ac(t.min,t.max-s,e.min)),Ls(0,1,n)}function gH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const m0=.35;function yH(t=m0){return t===!1?t=0:t===!0&&(t=m0),{x:G_(t,"left","right"),y:G_(t,"top","bottom")}}function G_(t,e,n){return{min:K_(t,e),max:K_(t,n)}}function K_(t,e){return typeof t=="number"?t:t[e]||0}const vH=new WeakMap;class wH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wf(f).point)},o=(f,d)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TU(h),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(y=>{let v=this.getAxisMotionValue(y).get()||0;if(os.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const x=w.layout.layoutBox[y];x&&(v=Kt(x)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&Le.postRender(()=>p(f,d)),h0(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=d;if(m&&this.currentDirection===null){this.currentDirection=bH(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),g&&g(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Hn(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new pP(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:hP(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Le.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!dd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=dH(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&za(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=hH(r.layoutBox,e):this.constraints=!1,this.elastic=yH(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!za(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=xW(r,s.root,this.visualElement.getTransformPagePoint());let o=pH(s.layout.layoutBox,i);if(n){const a=n(vW(o));this.hasMutatedConstraints=!!a,a&&(o=ZC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Hn(c=>{if(!dd(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const d=s?200:1e6,h=s?40:1e7,m={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return h0(this.visualElement,e),r.start(fw(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!dd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ge(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!za(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=mH({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(o=>{if(!dd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ge(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;vH.set(this.visualElement,this);const e=this.visualElement.current,n=Zu(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();za(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Le.read(r);const o=Oc(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hn(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=m0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function dd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function bH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xH extends eo{constructor(e){super(e),this.removeGroupControls=or,this.removeListeners=or,this.controls=new wH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||or}unmount(){this.removeGroupControls(),this.removeListeners()}}const q_=t=>(e,n)=>{t&&Le.postRender(()=>t(e,n))};class SH extends eo{constructor(){super(...arguments),this.removePointerDownListener=or}onPointerDown(e){this.session=new pP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:q_(e),onStart:q_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Le.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Zu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Y_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _u={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=Y_(t,e.target.x),r=Y_(t,e.target.y);return`${n}% ${r}%`}},_H={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ji.parse(t);if(s.length>5)return r;const i=ji.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=Ge(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let pg=!1;class TH extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;GU(EH),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),pg&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Gd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,pg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Le.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;pg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gP(t){const[e,n]=MC(),r=N.useContext(D1);return C.jsx(TH,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(XC),isPresent:e,safeToRemove:n})}const EH={borderRadius:{..._u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_u,borderTopRightRadius:_u,borderBottomLeftRadius:_u,borderBottomRightRadius:_u,boxShadow:_H};function NH(t,e,n){const r=Mt(t)?t:ea(t);return r.start(fw("",r,e,n)),r.animation}const kH=(t,e)=>t.depth-e.depth;class AH{constructor(){this.children=[],this.isDirty=!1}add(e){M1(this.children,e),this.isDirty=!0}remove(e){L1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kH),this.isDirty=!1,this.children.forEach(e)}}function CH(t,e){const n=on.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(js(r),t(i-e))};return Le.setup(r,!0),()=>js(r)}const yP=["TopLeft","TopRight","BottomLeft","BottomRight"],PH=yP.length,X_=t=>typeof t=="string"?parseFloat(t):t,Q_=t=>typeof t=="number"||ne.test(t);function $H(t,e,n,r,s,i){s?(t.opacity=Ge(0,n.opacity??1,IH(r)),t.opacityExit=Ge(e.opacity??1,0,OH(r))):i&&(t.opacity=Ge(e.opacity??1,n.opacity??1,r));for(let o=0;o<PH;o++){const a=`border${yP[o]}Radius`;let l=Z_(e,a),u=Z_(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Q_(l)===Q_(u)?(t[a]=Math.max(Ge(X_(l),X_(u),r),0),(os.test(u)||os.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,r))}function Z_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const IH=vP(0,.5,nC),OH=vP(.5,.95,or);function vP(t,e,n){return r=>r<t?0:r>e?1:n(Ac(t,e,r))}function J_(t,e){t.min=e.min,t.max=e.max}function Wn(t,e){J_(t.x,e.x),J_(t.y,e.y)}function eT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tT(t,e,n,r,s){return t-=e,t=Vh(t,1/n,r),s!==void 0&&(t=Vh(t,1/s,r)),t}function DH(t,e=0,n=1,r=.5,s,i=t,o=t){if(os.test(e)&&(e=parseFloat(e),e=Ge(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ge(i.min,i.max,r);t===i&&(a-=e),t.min=tT(t.min,e,n,a,s),t.max=tT(t.max,e,n,a,s)}function nT(t,e,[n,r,s],i,o){DH(t,e[n],e[r],e[s],e.scale,i,o)}const RH=["x","scaleX","originX"],FH=["y","scaleY","originY"];function rT(t,e,n,r){nT(t.x,e,RH,n?n.x:void 0,r?r.x:void 0),nT(t.y,e,FH,n?n.y:void 0,r?r.y:void 0)}function sT(t){return t.translate===0&&t.scale===1}function wP(t){return sT(t.x)&&sT(t.y)}function iT(t,e){return t.min===e.min&&t.max===e.max}function MH(t,e){return iT(t.x,e.x)&&iT(t.y,e.y)}function oT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bP(t,e){return oT(t.x,e.x)&&oT(t.y,e.y)}function aT(t){return Kt(t.x)/Kt(t.y)}function lT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class LH{constructor(){this.members=[]}add(e){M1(this.members,e),e.scheduleRender()}remove(e){if(L1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BH(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:h,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const mg=["","X","Y","Z"],jH=1e3;let zH=0;function gg(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function xP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&xP(r)}function SP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=zH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WH),this.nodes.forEach(qH),this.nodes.forEach(YH),this.nodes.forEach(HH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new AH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new j1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=FC(o)&&!PU(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,f=0;const d=()=>this.root.updateBlockedByResize=!1;Le.read(()=>{f=window.innerWidth}),t(o,()=>{const h=window.innerWidth;h!==f&&(f=h,this.root.updateBlockedByResize=!0,c&&c(),c=CH(d,250),Gd.hasAnimatedSinceResize&&(Gd.hasAnimatedSinceResize=!1,this.nodes.forEach(fT)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||eG,{onLayoutAnimationStart:p,onLayoutAnimationComplete:g}=u.getProps(),y=!this.targetLayout||!bP(this.targetLayout,h),v=!f&&d;if(this.options.layoutRoot||this.resumeFrom||v||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...J1(m,"layout"),onPlay:p,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(c,v)}else f||fT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KH),this.nodes.forEach(VH),this.nodes.forEach(UH)):this.nodes.forEach(cT),this.clearAllSnapshots();const a=on.now();St.delta=Ls(0,1e3/60,a-St.timestamp),St.timestamp=a,St.isProcessing=!0,sg.update.process(St),sg.preRender.process(St),sg.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GH),this.sharedNodes.forEach(QH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kt(this.snapshot.measuredBox.x)&&!Kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!wP(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||mo(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),tG(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return tt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(nG))){const{scroll:c}=this.root;c&&(Va(a.x,c.offset.x),Va(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=tt();if(Wn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&Wn(a,o),Va(a.x,f.offset.x),Va(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=tt();Wn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ua(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),mo(c.latestValues)&&Ua(l,c.latestValues)}return mo(this.latestValues)&&Ua(l,this.latestValues),l}removeTransform(o){const a=tt();Wn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!mo(u.latestValues))continue;u0(u.latestValues)&&u.updateSnapshot();const c=tt(),f=u.measurePageBox();Wn(c,f),rT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return mo(this.latestValues)&&rT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var d;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),ec(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tt(),this.targetWithTransforms=tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),eP(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),ec(this.relativeTargetOrigin,this.target,h.target),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||u0(this.parent.latestValues)||JC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===St.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Wn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;bW(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=tt());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eT(this.prevProjectionDelta.x,this.projectionDelta.x),eT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ju(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!lT(this.projectionDelta.x,this.prevProjectionDelta.x)||!lT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wa(),this.projectionDelta=Wa(),this.projectionDeltaWithTransform=Wa()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Wa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=tt(),h=l?l.source:void 0,m=this.layout?this.layout.source:void 0,p=h!==m,g=this.getStack(),y=!g||g.members.length<=1,v=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(JH));this.animationProgress=0;let w;this.mixTargetDelta=x=>{const S=x/1e3;dT(f.x,o.x,S),dT(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ec(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZH(this.relativeTarget,this.relativeTargetOrigin,d,S),w&&MH(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=tt()),Wn(w,this.relativeTarget)),p&&(this.animationValues=c,$H(c,u,this.latestValues,S,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{Gd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ea(0)),this.currentAnimation=NH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&_P(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||tt();const f=Kt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Kt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Wn(a,l),Ua(a,c),Ju(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new LH),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&gg("z",o,u,this.animationValues);for(let c=0;c<mg.length;c++)gg(`rotate${mg[c]}`,o,u,this.animationValues),gg(`skew${mg[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Hd(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Hd(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!mo(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=BH(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),o.transform=f;const{x:d,y:h}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const m in Ic){if(c[m]===void 0)continue;const{correct:p,applyTo:g,isCSSVariable:y}=Ic[m],v=f==="none"?c[m]:p(c[m],u);if(g){const w=g.length;for(let x=0;x<w;x++)o[g[x]]=v}else y?this.options.visualElement.renderState.vars[m]=v:o[m]=v}this.options.layoutId&&(o.pointerEvents=u===this?Hd(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(uT),this.root.sharedNodes.clear()}}}function VH(t){t.updateLayout()}function UH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Hn(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],h=Kt(d);d.min=r[f].min,d.max=d.min+h}):_P(i,e.layoutBox,r)&&Hn(f=>{const d=o?e.measuredBox[f]:e.layoutBox[f],h=Kt(r[f]);d.max=d.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const a=Wa();Ju(a,r,e.layoutBox);const l=Wa();o?Ju(l,t.applyTransform(s,!0),e.measuredBox):Ju(l,r,e.layoutBox);const u=!wP(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const m=tt();ec(m,e.layoutBox,d.layoutBox);const p=tt();ec(p,r,h.layoutBox),bP(m,p)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function WH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GH(t){t.clearSnapshot()}function uT(t){t.clearMeasurements()}function cT(t){t.isLayoutDirty=!1}function KH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qH(t){t.resolveTargetDelta()}function YH(t){t.calcProjection()}function XH(t){t.resetSkewAndRotation()}function QH(t){t.removeLeadSnapshot()}function dT(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hT(t,e,n,r){t.min=Ge(e.min,n.min,r),t.max=Ge(e.max,n.max,r)}function ZH(t,e,n,r){hT(t.x,e.x,n.x,r),hT(t.y,e.y,n.y,r)}function JH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eG={duration:.45,ease:[.4,0,.1,1]},pT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mT=pT("applewebkit/")&&!pT("chrome/")?Math.round:or;function gT(t){t.min=mT(t.min),t.max=mT(t.max)}function tG(t){gT(t.x),gT(t.y)}function _P(t,e,n){return t==="position"||t==="preserve-aspect"&&!aH(aT(e),aT(n),.2)}function nG(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const rG=SP({attachResizeListener:(t,e)=>Oc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yg={current:void 0},TP=SP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yg.current){const t=new rG({});t.mount(window),t.setOptions({layoutScroll:!0}),yg.current=t}return yg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sG={pan:{Feature:SH},drag:{Feature:xH,ProjectionNode:TP,MeasureLayout:gP}};function yT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Le.postRender(()=>i(e,wf(e)))}class iG extends eo{mount(){const{current:e}=this.node;e&&(this.unmount=EU(e,(n,r)=>(yT(this.node,r,"Start"),s=>yT(this.node,s,"End"))))}unmount(){}}class oG extends eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gf(Oc(this.node.current,"focus",()=>this.onFocus()),Oc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Le.postRender(()=>i(e,wf(e)))}class aG extends eo{mount(){const{current:e}=this.node;e&&(this.unmount=CU(e,(n,r)=>(vT(this.node,r,"Start"),(s,{success:i})=>vT(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const g0=new WeakMap,vg=new WeakMap,lG=t=>{const e=g0.get(t.target);e&&e(t)},uG=t=>{t.forEach(lG)};function cG({root:t,...e}){const n=t||document;vg.has(n)||vg.set(n,{});const r=vg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(uG,{root:t,...e})),r[s]}function fG(t,e,n){const r=cG(e);return g0.set(t,n),r.observe(t),()=>{g0.delete(t),r.unobserve(t)}}const dG={some:0,all:1};class hG extends eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:dG[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return fG(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pG(e,n))&&this.startObserver()}unmount(){}}function pG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mG={inView:{Feature:hG},tap:{Feature:aG},focus:{Feature:oG},hover:{Feature:iG}},gG={layout:{ProjectionNode:TP,MeasureLayout:gP}},yG={...tH,...mG,...sG,...gG},Ne=yW(yG,PW);function y0(t){const e=mf(()=>ea(t)),{isStatic:n}=N.useContext(Up);if(n){const[,r]=N.useState(t);N.useEffect(()=>e.on("change",r),[])}return e}function EP(t,e){const n=y0(e()),r=()=>n.set(e());return r(),F1(()=>{const s=()=>Le.preRender(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),js(r)}}),n}function vG(t){Qu.current=[],t();const e=EP(Qu.current,t);return Qu.current=void 0,e}function xa(t,e,n,r){if(typeof t=="function")return vG(t);const s=typeof e=="function"?e:$U(e,n,r);return Array.isArray(t)?wT(t,s):wT([t],([i])=>s(i))}function wT(t,e){const n=mf(()=>[]);return EP(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}const lo={hidden:{opacity:0,y:20},visible:(t=1)=>({opacity:1,y:0,transition:{duration:.8,delay:t*.1}})},wG={hidden:{opacity:0,rotate:0},visible:{opacity:1,rotate:-360,transition:{opacity:{duration:.8,delay:.6},rotate:{ease:"linear",duration:30,repeat:1/0}}}},bG=({onContinue:t})=>{const[e,n]=N.useState({width:0,height:0}),r=y0(0),s=y0(0);N.useEffect(()=>{const d=()=>{n({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",d),d(),()=>window.removeEventListener("resize",d)},[]);const i=d=>{r.set(d.clientX),s.set(d.clientY)},o=xa(r,[0,e.width],[15,-15]),a=xa(s,[0,e.height],[15,-15]),l=xa(r,[0,e.width],[-20,20]),u=xa(s,[0,e.height],[-20,20]),c=xa(r,[0,e.width],[-10,10]),f=xa(s,[0,e.height],[-10,10]);return C.jsxs(Ne.div,{className:"container",onClick:t,onMouseMove:i,children:[C.jsx("div",{className:"top-bar flex justify-center items-center gap-2 text-center",children:"Handcrafted Perfection | Free Worldwide Shipping"}),C.jsx("main",{className:"main-content",children:C.jsxs("div",{className:"grid-layout",children:[C.jsx(Ne.div,{className:"grid-item item-headline",style:{x:o,y:a},children:C.jsx("h1",{children:"AURA"})}),C.jsx(Ne.div,{className:"grid-item item-model-image",variants:lo,initial:"hidden",animate:"visible",custom:2,style:{x:c,y:f},children:C.jsx("img",{src:"https://images.unsplash.com/photo-1625503339883-6ddd78909177?q=80&w=687",alt:"Model wearing an elegant necklace"})}),C.jsxs(Ne.div,{className:"grid-item item-about-us",variants:lo,initial:"hidden",animate:"visible",custom:3,children:[C.jsx("h2",{children:"ABOUT US"}),C.jsx("p",{children:"Timeless pieces, crafted with intention. We believe in beauty that lasts beyond a single season. Discover our story."})]}),C.jsx(Ne.div,{className:"grid-item item-ring-image sticker",variants:lo,initial:"hidden",animate:"visible",custom:4,style:{x:l,y:u},children:C.jsx("img",{src:"https://images.unsplash.com/photo-1589674668791-4889d2bba4c6?q=80&w=2070",alt:"Close-up of a diamond ring"})}),C.jsx(Ne.div,{className:"grid-item item-cutout-ring-sticker sticker-cutout",variants:lo,initial:"hidden",animate:"visible",custom:4,style:{x:l,y:u},children:C.jsx("img",{src:"/image1.png",alt:"Close-up of a diamond ring"})}),C.jsx(Ne.div,{className:"grid-item item-brand-name",variants:lo,initial:"hidden",animate:"visible",custom:5,children:C.jsxs("h3",{children:["ELARA ",C.jsx("span",{children:"V"})]})}),C.jsx(Ne.div,{className:"grid-item item-rotating-graphic",variants:wG,initial:"hidden",animate:"visible",children:C.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{filter:"invert(1)",width:"100%",height:"100%"},children:[C.jsx("path",{id:"circlePath",fill:"none",d:"M10,50a40,40 0 1,0 80,0a40,40 0 1,0 -80,0"}),C.jsx("text",{fill:"#fff",style:{fontSize:"11px",fontFamily:"sans-serif",letterSpacing:"4px"},children:C.jsx("textPath",{href:"#circlePath",children:"HANDCRAFTED WITH PASSION  HANDCRAFTED WITH PASSION "})})]})}),C.jsx(Ne.div,{className:"grid-item item-text-sticker sticker",variants:lo,initial:"hidden",animate:"visible",custom:6,style:{x:c,y:f},children:C.jsx("p",{className:"sticker-text",children:"Limited Edition"})}),C.jsx(Ne.div,{className:"grid-item item-earring-sticker sticker",variants:lo,initial:"hidden",animate:"visible",custom:7,style:{x:l,y:u},children:C.jsx("img",{src:"https://images.unsplash.com/photo-1611591437281-460bfbe1220a?w=500",alt:"Close up of a gold earring"})})]})}),C.jsx("style",{children:`
        .container {
          background-color: #1a1a1a;
          color: #f3f4f6;
          min-height: 100vh;
          font-family: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
          overflow: hidden;
          cursor: pointer;
        }
        .main-content {
          padding: 2rem;
          position: relative;
          height: calc(100vh - 40px);
          pointer-events: none;
        }
        .grid-layout {
          display: grid;
          grid-template-columns: repeat(12, 1fr);
          grid-template-rows: repeat(12, 1fr);
          gap: 1rem;
          width: 100%;
          height: 100%;
        }
        .grid-item {
          position: relative;
          will-change: transform;
        }
        .grid-item img, .grid-item svg {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
        .sticker {
          padding: 0.75rem;
          background-color: white;
          border-radius: 0.5rem;
          box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.4), 0 8px 10px -6px rgb(0 0 0 / 0.4);
        }
        .sticker:hover {
          transform: scale(1.05);
        }
        .sticker img {
          border-radius: 0.25rem;
        }
        .sticker-text {
          color: #1a1a1a;
          font-family: ui-sans-serif, system-ui, sans-serif;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.1em;
          text-align: center;
          font-size: 1.25rem;
        }

        /* NEW: Style for cut-out stickers with no background */
        .sticker-cutout {
          filter: drop-shadow(8px 8px 10px rgba(0,0,0,0.4));
        }
        .sticker-cutout img {
          object-fit: contain; /* Prevents image from being cropped */
        }


        /* --- POLISHED GRID PLACEMENT & LAYERING --- */
        .item-headline {
          grid-column: 1 / span 6;
          grid-row: 2 / span 4;
          display: flex; align-items: center; justify-content: center;
          z-index: 5;
        }
        .item-headline h1 { font-size: 10rem; font-weight: 800; color: white; mix-blend-mode: overlay; }
        
        .item-model-image {
          grid-column: 5 / span 4;
          grid-row: 3 / span 6;
          border-radius: 0.375rem; overflow: hidden;
          z-index: 10;
        }
        
        .item-about-us {
          grid-column: 8 / span 5;
          grid-row: 10 / span 3;
          display: flex; flex-direction: column; justify-content: flex-end; align-items: flex-end; text-align: right;
          z-index: 20;
        }
        .item-about-us h2 { font-size: 5rem; font-weight: 700; }
        .item-about-us p { font-family: ui-sans-serif; font-size: 0.875rem; color: #9ca3af; max-width: 24rem; margin-top: 0.5rem; }
        
        /* This is the original framed sticker */
        .item-ring-image {
          grid-column: 10 / span 3;
          grid-row: 1 / span 4;
          transform: rotate(5deg);
          z-index: 30;
        }

        /* This is your image1.png, moved to a new empty place */
        .item-cutout-ring-sticker {
            grid-column: 1 / span 4;
            grid-row: 5 / span 4;
            transform: rotate(10deg);
            z-index: 28;
        }
        
        .item-brand-name {
          grid-column: 1 / span 5;
          grid-row: 10 / span 2;
          display: flex; align-items: center;
          z-index: 20;
        }
        .item-brand-name h3 { font-size: 6rem; font-weight: 700; color: #ca8a04; }
        .item-brand-name span { color: #4b5563; }
        
        .item-rotating-graphic {
          grid-column: 1 / span 4;
          grid-row: 6 / span 4;
          z-index: 15;
          opacity: 0.5; /* Made it more subtle */
        }

        .item-text-sticker {
          grid-column: 2 / span 3;
          grid-row: 1 / span 2;
          transform: rotate(-8deg);
          display: flex; align-items: center; justify-content: center;
          z-index: 25;
        }
        
        .item-earring-sticker {
          grid-column: 8 / span 3;
          grid-row: 6 / span 4;
          transform: rotate(3deg);
          z-index: 25;
        }
      `})]})};var an=function(){return an=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},an.apply(this,arguments)};function Dc(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Re="-ms-",tc="-moz-",we="-webkit-",NP="comm",Kp="rule",dw="decl",xG="@import",kP="@keyframes",SG="@layer",AP=Math.abs,hw=String.fromCharCode,v0=Object.assign;function _G(t,e){return gt(t,0)^45?(((e<<2^gt(t,0))<<2^gt(t,1))<<2^gt(t,2))<<2^gt(t,3):0}function CP(t){return t.trim()}function vs(t,e){return(t=e.exec(t))?t[0]:t}function ce(t,e,n){return t.replace(e,n)}function Kd(t,e,n){return t.indexOf(e,n)}function gt(t,e){return t.charCodeAt(e)|0}function Pl(t,e,n){return t.slice(e,n)}function Kr(t){return t.length}function PP(t){return t.length}function Iu(t,e){return e.push(t),t}function TG(t,e){return t.map(e).join("")}function bT(t,e){return t.filter(function(n){return!vs(n,e)})}var qp=1,$l=1,$P=0,fr=0,lt=0,iu="";function Yp(t,e,n,r,s,i,o,a){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:qp,column:$l,length:o,return:"",siblings:a}}function ni(t,e){return v0(Yp("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Sa(t){for(;t.root;)t=ni(t.root,{children:[t]});Iu(t,t.siblings)}function EG(){return lt}function NG(){return lt=fr>0?gt(iu,--fr):0,$l--,lt===10&&($l=1,qp--),lt}function $r(){return lt=fr<$P?gt(iu,fr++):0,$l++,lt===10&&($l=1,qp++),lt}function jo(){return gt(iu,fr)}function qd(){return fr}function Xp(t,e){return Pl(iu,t,e)}function w0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kG(t){return qp=$l=1,$P=Kr(iu=t),fr=0,[]}function AG(t){return iu="",t}function wg(t){return CP(Xp(fr-1,b0(t===91?t+2:t===40?t+1:t)))}function CG(t){for(;(lt=jo())&&lt<33;)$r();return w0(t)>2||w0(lt)>3?"":" "}function PG(t,e){for(;--e&&$r()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return Xp(t,qd()+(e<6&&jo()==32&&$r()==32))}function b0(t){for(;$r();)switch(lt){case t:return fr;case 34:case 39:t!==34&&t!==39&&b0(lt);break;case 40:t===41&&b0(t);break;case 92:$r();break}return fr}function $G(t,e){for(;$r()&&t+lt!==57;)if(t+lt===84&&jo()===47)break;return"/*"+Xp(e,fr-1)+"*"+hw(t===47?t:$r())}function IG(t){for(;!w0(jo());)$r();return Xp(t,fr)}function OG(t){return AG(Yd("",null,null,null,[""],t=kG(t),0,[0],t))}function Yd(t,e,n,r,s,i,o,a,l){for(var u=0,c=0,f=o,d=0,h=0,m=0,p=1,g=1,y=1,v=0,w="",x=s,S=i,_=r,T=w;g;)switch(m=v,v=$r()){case 40:if(m!=108&&gt(T,f-1)==58){Kd(T+=ce(wg(v),"&","&\f"),"&\f",AP(u?a[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:T+=wg(v);break;case 9:case 10:case 13:case 32:T+=CG(m);break;case 92:T+=PG(qd()-1,7);continue;case 47:switch(jo()){case 42:case 47:Iu(DG($G($r(),qd()),e,n,l),l);break;default:T+="/"}break;case 123*p:a[u++]=Kr(T)*y;case 125*p:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+c:y==-1&&(T=ce(T,/\f/g,"")),h>0&&Kr(T)-f&&Iu(h>32?ST(T+";",r,n,f-1,l):ST(ce(T," ","")+";",r,n,f-2,l),l);break;case 59:T+=";";default:if(Iu(_=xT(T,e,n,u,c,s,a,w,x=[],S=[],f,i),i),v===123)if(c===0)Yd(T,e,_,_,x,i,f,a,S);else switch(d===99&&gt(T,3)===110?100:d){case 100:case 108:case 109:case 115:Yd(t,_,_,r&&Iu(xT(t,_,_,0,0,s,a,w,s,x=[],f,S),S),s,S,f,a,r?x:S);break;default:Yd(T,_,_,_,[""],S,0,a,S)}}u=c=h=0,p=y=1,w=T="",f=o;break;case 58:f=1+Kr(T),h=m;default:if(p<1){if(v==123)--p;else if(v==125&&p++==0&&NG()==125)continue}switch(T+=hw(v),v*p){case 38:y=c>0?1:(T+="\f",-1);break;case 44:a[u++]=(Kr(T)-1)*y,y=1;break;case 64:jo()===45&&(T+=wg($r())),d=jo(),c=f=Kr(w=T+=IG(qd())),v++;break;case 45:m===45&&Kr(T)==2&&(p=0)}}return i}function xT(t,e,n,r,s,i,o,a,l,u,c,f){for(var d=s-1,h=s===0?i:[""],m=PP(h),p=0,g=0,y=0;p<r;++p)for(var v=0,w=Pl(t,d+1,d=AP(g=o[p])),x=t;v<m;++v)(x=CP(g>0?h[v]+" "+w:ce(w,/&\f/g,h[v])))&&(l[y++]=x);return Yp(t,e,n,s===0?Kp:a,l,u,c,f)}function DG(t,e,n,r){return Yp(t,e,n,NP,hw(EG()),Pl(t,2,-2),0,r)}function ST(t,e,n,r,s){return Yp(t,e,n,dw,Pl(t,0,r),Pl(t,r+1,-1),r,s)}function IP(t,e,n){switch(_G(t,e)){case 5103:return we+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return we+t+t;case 4789:return tc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return we+t+tc+t+Re+t+t;case 5936:switch(gt(t,e+11)){case 114:return we+t+Re+ce(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return we+t+Re+ce(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return we+t+Re+ce(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return we+t+Re+t+t;case 6165:return we+t+Re+"flex-"+t+t;case 5187:return we+t+ce(t,/(\w+).+(:[^]+)/,we+"box-$1$2"+Re+"flex-$1$2")+t;case 5443:return we+t+Re+"flex-item-"+ce(t,/flex-|-self/g,"")+(vs(t,/flex-|baseline/)?"":Re+"grid-row-"+ce(t,/flex-|-self/g,""))+t;case 4675:return we+t+Re+"flex-line-pack"+ce(t,/align-content|flex-|-self/g,"")+t;case 5548:return we+t+Re+ce(t,"shrink","negative")+t;case 5292:return we+t+Re+ce(t,"basis","preferred-size")+t;case 6060:return we+"box-"+ce(t,"-grow","")+we+t+Re+ce(t,"grow","positive")+t;case 4554:return we+ce(t,/([^-])(transform)/g,"$1"+we+"$2")+t;case 6187:return ce(ce(ce(t,/(zoom-|grab)/,we+"$1"),/(image-set)/,we+"$1"),t,"")+t;case 5495:case 3959:return ce(t,/(image-set\([^]*)/,we+"$1$`$1");case 4968:return ce(ce(t,/(.+:)(flex-)?(.*)/,we+"box-pack:$3"+Re+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+we+t+t;case 4200:if(!vs(t,/flex-|baseline/))return Re+"grid-column-align"+Pl(t,e)+t;break;case 2592:case 3360:return Re+ce(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,s){return e=s,vs(r.props,/grid-\w+-end/)})?~Kd(t+(n=n[e].value),"span",0)?t:Re+ce(t,"-start","")+t+Re+"grid-row-span:"+(~Kd(n,"span",0)?vs(n,/\d+/):+vs(n,/\d+/)-+vs(t,/\d+/))+";":Re+ce(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return vs(r.props,/grid-\w+-start/)})?t:Re+ce(ce(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ce(t,/(.+)-inline(.+)/,we+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kr(t)-1-e>6)switch(gt(t,e+1)){case 109:if(gt(t,e+4)!==45)break;case 102:return ce(t,/(.+:)(.+)-([^]+)/,"$1"+we+"$2-$3$1"+tc+(gt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Kd(t,"stretch",0)?IP(ce(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ce(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,i,o,a,l,u){return Re+s+":"+i+u+(o?Re+s+"-span:"+(a?l:+l-+i)+u:"")+t});case 4949:if(gt(t,e+6)===121)return ce(t,":",":"+we)+t;break;case 6444:switch(gt(t,gt(t,14)===45?18:11)){case 120:return ce(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+we+(gt(t,14)===45?"inline-":"")+"box$3$1"+we+"$2$3$1"+Re+"$2box$3")+t;case 100:return ce(t,":",":"+Re)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ce(t,"scroll-","scroll-snap-")+t}return t}function Uh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function RG(t,e,n,r){switch(t.type){case SG:if(t.children.length)break;case xG:case dw:return t.return=t.return||t.value;case NP:return"";case kP:return t.return=t.value+"{"+Uh(t.children,r)+"}";case Kp:if(!Kr(t.value=t.props.join(",")))return""}return Kr(n=Uh(t.children,r))?t.return=t.value+"{"+n+"}":""}function FG(t){var e=PP(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function MG(t){return function(e){e.root||(e=e.return)&&t(e)}}function LG(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case dw:t.return=IP(t.value,t.length,n);return;case kP:return Uh([ni(t,{value:ce(t.value,"@","@"+we)})],r);case Kp:if(t.length)return TG(n=t.props,function(s){switch(vs(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Sa(ni(t,{props:[ce(s,/:(read-\w+)/,":"+tc+"$1")]})),Sa(ni(t,{props:[s]})),v0(t,{props:bT(n,r)});break;case"::placeholder":Sa(ni(t,{props:[ce(s,/:(plac\w+)/,":"+we+"input-$1")]})),Sa(ni(t,{props:[ce(s,/:(plac\w+)/,":"+tc+"$1")]})),Sa(ni(t,{props:[ce(s,/:(plac\w+)/,Re+"input-$1")]})),Sa(ni(t,{props:[s]})),v0(t,{props:bT(n,r)});break}return""})}}var BG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tn={},Il=typeof process<"u"&&Tn!==void 0&&(Tn.REACT_APP_SC_ATTR||Tn.SC_ATTR)||"data-styled",OP="active",DP="data-styled-version",Qp="6.1.19",pw=`/*!sc*/
`,Wh=typeof window<"u"&&typeof document<"u",jG=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Tn!==void 0&&Tn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Tn.REACT_APP_SC_DISABLE_SPEEDY!==""?Tn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Tn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Tn!==void 0&&Tn.SC_DISABLE_SPEEDY!==void 0&&Tn.SC_DISABLE_SPEEDY!==""&&Tn.SC_DISABLE_SPEEDY!=="false"&&Tn.SC_DISABLE_SPEEDY),Zp=Object.freeze([]),Ol=Object.freeze({});function zG(t,e,n){return n===void 0&&(n=Ol),t.theme!==n.theme&&t.theme||e||n.theme}var RP=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),VG=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,UG=/(^-|-$)/g;function _T(t){return t.replace(VG,"-").replace(UG,"")}var WG=/(a)(d)/gi,hd=52,TT=function(t){return String.fromCharCode(t+(t>25?39:97))};function x0(t){var e,n="";for(e=Math.abs(t);e>hd;e=e/hd|0)n=TT(e%hd)+n;return(TT(e%hd)+n).replace(WG,"$1-$2")}var bg,FP=5381,Ha=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},MP=function(t){return Ha(FP,t)};function LP(t){return x0(MP(t)>>>0)}function HG(t){return t.displayName||t.name||"Component"}function xg(t){return typeof t=="string"&&!0}var BP=typeof Symbol=="function"&&Symbol.for,jP=BP?Symbol.for("react.memo"):60115,GG=BP?Symbol.for("react.forward_ref"):60112,KG={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},qG={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},YG=((bg={})[GG]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bg[jP]=zP,bg);function ET(t){return("type"in(e=t)&&e.type.$$typeof)===jP?zP:"$$typeof"in t?YG[t.$$typeof]:KG;var e}var XG=Object.defineProperty,QG=Object.getOwnPropertyNames,NT=Object.getOwnPropertySymbols,ZG=Object.getOwnPropertyDescriptor,JG=Object.getPrototypeOf,kT=Object.prototype;function VP(t,e,n){if(typeof e!="string"){if(kT){var r=JG(e);r&&r!==kT&&VP(t,r,n)}var s=QG(e);NT&&(s=s.concat(NT(e)));for(var i=ET(t),o=ET(e),a=0;a<s.length;++a){var l=s[a];if(!(l in qG||n&&n[l]||o&&l in o||i&&l in i)){var u=ZG(e,l);try{XG(t,l,u)}catch{}}}}return t}function Dl(t){return typeof t=="function"}function mw(t){return typeof t=="object"&&"styledComponentId"in t}function No(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function S0(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Rc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function _0(t,e,n){if(n===void 0&&(n=!1),!n&&!Rc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=_0(t[r],e[r]);else if(Rc(e))for(var r in e)t[r]=_0(t[r],e[r]);return t}function gw(t,e){Object.defineProperty(t,"toString",{value:e})}function bf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var e7=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,i=s;e>=i;)if((i<<=1)<0)throw bf(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=s;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),s=r+n;this.groupSizes[e]=0;for(var i=r;i<s;i++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],s=this.indexOfGroup(e),i=s+r,o=s;o<i;o++)n+="".concat(this.tag.getRule(o)).concat(pw);return n},t}(),Xd=new Map,Hh=new Map,Qd=1,pd=function(t){if(Xd.has(t))return Xd.get(t);for(;Hh.has(Qd);)Qd++;var e=Qd++;return Xd.set(t,e),Hh.set(e,t),e},t7=function(t,e){Qd=e+1,Xd.set(t,e),Hh.set(e,t)},n7="style[".concat(Il,"][").concat(DP,'="').concat(Qp,'"]'),r7=new RegExp("^".concat(Il,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),s7=function(t,e,n){for(var r,s=n.split(","),i=0,o=s.length;i<o;i++)(r=s[i])&&t.registerName(e,r)},i7=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(pw),s=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var l=a.match(r7);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(t7(c,u),s7(t,c,l[3]),t.getTag().insertRules(u,s)),s.length=0}else s.push(a)}}},AT=function(t){for(var e=document.querySelectorAll(n7),n=0,r=e.length;n<r;n++){var s=e[n];s&&s.getAttribute(Il)!==OP&&(i7(t,s),s.parentNode&&s.parentNode.removeChild(s))}};function o7(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var UP=function(t){var e=document.head,n=t||e,r=document.createElement("style"),s=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Il,"]")));return l[l.length-1]}(n),i=s!==void 0?s.nextSibling:null;r.setAttribute(Il,OP),r.setAttribute(DP,Qp);var o=o7();return o&&r.setAttribute("nonce",o),n.insertBefore(r,i),r},a7=function(){function t(e){this.element=UP(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,s=0,i=r.length;s<i;s++){var o=r[s];if(o.ownerNode===n)return o}throw bf(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),l7=function(){function t(e){this.element=UP(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),u7=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),CT=Wh,c7={isServer:!Wh,useCSSOMInjection:!jG},WP=function(){function t(e,n,r){e===void 0&&(e=Ol),n===void 0&&(n={});var s=this;this.options=an(an({},c7),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Wh&&CT&&(CT=!1,AT(this)),gw(this,function(){return function(i){for(var o=i.getTag(),a=o.length,l="",u=function(f){var d=function(y){return Hh.get(y)}(f);if(d===void 0)return"continue";var h=i.names.get(d),m=o.getGroup(f);if(h===void 0||!h.size||m.length===0)return"continue";var p="".concat(Il,".g").concat(f,'[id="').concat(d,'"]'),g="";h!==void 0&&h.forEach(function(y){y.length>0&&(g+="".concat(y,","))}),l+="".concat(m).concat(p,'{content:"').concat(g,'"}').concat(pw)},c=0;c<a;c++)u(c);return l}(s)})}return t.registerId=function(e){return pd(e)},t.prototype.rehydrate=function(){!this.server&&Wh&&AT(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(an(an({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,s=n.target;return n.isServer?new u7(s):r?new a7(s):new l7(s)}(this.options),new e7(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(pd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(pd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(pd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),f7=/&/g,d7=/^\s*\/\/.*$/gm;function HP(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=HP(n.children,e)),n})}function h7(t){var e,n,r,s=Ol,i=s.options,o=i===void 0?Ol:i,a=s.plugins,l=a===void 0?Zp:a,u=function(d,h,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):d},c=l.slice();c.push(function(d){d.type===Kp&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(f7,n).replace(r,u))}),o.prefix&&c.push(LG),c.push(RG);var f=function(d,h,m,p){h===void 0&&(h=""),m===void 0&&(m=""),p===void 0&&(p="&"),e=p,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var g=d.replace(d7,""),y=OG(m||h?"".concat(m," ").concat(h," { ").concat(g," }"):g);o.namespace&&(y=HP(y,o.namespace));var v=[];return Uh(y,FG(c.concat(MG(function(w){return v.push(w)})))),v};return f.hash=l.length?l.reduce(function(d,h){return h.name||bf(15),Ha(d,h.name)},FP).toString():"",f}var p7=new WP,T0=h7(),GP=K.createContext({shouldForwardProp:void 0,styleSheet:p7,stylis:T0});GP.Consumer;K.createContext(void 0);function PT(){return N.useContext(GP)}var KP=function(){function t(e,n){var r=this;this.inject=function(s,i){i===void 0&&(i=T0);var o=r.name+i.hash;s.hasNameForId(r.id,o)||s.insertRules(r.id,o,i(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,gw(this,function(){throw bf(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=T0),this.name+e.hash},t}(),m7=function(t){return t>="A"&&t<="Z"};function $T(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;m7(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var qP=function(t){return t==null||t===!1||t===""},YP=function(t){var e,n,r=[];for(var s in t){var i=t[s];t.hasOwnProperty(s)&&!qP(i)&&(Array.isArray(i)&&i.isCss||Dl(i)?r.push("".concat($T(s),":"),i,";"):Rc(i)?r.push.apply(r,Dc(Dc(["".concat(s," {")],YP(i),!1),["}"],!1)):r.push("".concat($T(s),": ").concat((e=s,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in BG||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function zo(t,e,n,r){if(qP(t))return[];if(mw(t))return[".".concat(t.styledComponentId)];if(Dl(t)){if(!Dl(i=t)||i.prototype&&i.prototype.isReactComponent||!e)return[t];var s=t(e);return zo(s,e,n,r)}var i;return t instanceof KP?n?(t.inject(n,r),[t.getName(r)]):[t]:Rc(t)?YP(t):Array.isArray(t)?Array.prototype.concat.apply(Zp,t.map(function(o){return zo(o,e,n,r)})):[t.toString()]}function g7(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Dl(n)&&!mw(n))return!1}return!0}var y7=MP(Qp),v7=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&g7(e),this.componentId=n,this.baseHash=Ha(y7,n),this.baseStyle=r,WP.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=No(s,this.staticRulesId);else{var i=S0(zo(this.rules,e,n,r)),o=x0(Ha(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(i,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}s=No(s,o),this.staticRulesId=o}else{for(var l=Ha(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var f=this.rules[c];if(typeof f=="string")u+=f;else if(f){var d=S0(zo(f,e,n,r));l=Ha(l,d+c),u+=d}}if(u){var h=x0(l>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(u,".".concat(h),void 0,this.componentId)),s=No(s,h)}}return s},t}(),XP=K.createContext(void 0);XP.Consumer;var Sg={};function w7(t,e,n){var r=mw(t),s=t,i=!xg(t),o=e.attrs,a=o===void 0?Zp:o,l=e.componentId,u=l===void 0?function(x,S){var _=typeof x!="string"?"sc":_T(x);Sg[_]=(Sg[_]||0)+1;var T="".concat(_,"-").concat(LP(Qp+_+Sg[_]));return S?"".concat(S,"-").concat(T):T}(e.displayName,e.parentComponentId):l,c=e.displayName,f=c===void 0?function(x){return xg(x)?"styled.".concat(x):"Styled(".concat(HG(x),")")}(t):c,d=e.displayName&&e.componentId?"".concat(_T(e.displayName),"-").concat(e.componentId):e.componentId||u,h=r&&s.attrs?s.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&s.shouldForwardProp){var p=s.shouldForwardProp;if(e.shouldForwardProp){var g=e.shouldForwardProp;m=function(x,S){return p(x,S)&&g(x,S)}}else m=p}var y=new v7(n,d,r?s.componentStyle:void 0);function v(x,S){return function(_,T,k){var P=_.attrs,O=_.componentStyle,D=_.defaultProps,F=_.foldedComponentIds,z=_.styledComponentId,L=_.target,W=K.useContext(XP),G=PT(),V=_.shouldForwardProp||G.shouldForwardProp,R=zG(T,W,D)||Ol,M=function(pe,Xe,de){for(var Vn,kt=an(an({},Xe),{className:void 0,theme:de}),hr=0;hr<pe.length;hr+=1){var Sn=Dl(Vn=pe[hr])?Vn(kt):Vn;for(var Vt in Sn)kt[Vt]=Vt==="className"?No(kt[Vt],Sn[Vt]):Vt==="style"?an(an({},kt[Vt]),Sn[Vt]):Sn[Vt]}return Xe.className&&(kt.className=No(kt.className,Xe.className)),kt}(P,T,R),H=M.as||L,Z={};for(var X in M)M[X]===void 0||X[0]==="$"||X==="as"||X==="theme"&&M.theme===R||(X==="forwardedAs"?Z.as=M.forwardedAs:V&&!V(X,H)||(Z[X]=M[X]));var se=function(pe,Xe){var de=PT(),Vn=pe.generateAndInjectStyles(Xe,de.styleSheet,de.stylis);return Vn}(O,M),ee=No(F,z);return se&&(ee+=" "+se),M.className&&(ee+=" "+M.className),Z[xg(H)&&!RP.has(H)?"class":"className"]=ee,k&&(Z.ref=k),N.createElement(H,Z)}(w,x,S)}v.displayName=f;var w=K.forwardRef(v);return w.attrs=h,w.componentStyle=y,w.displayName=f,w.shouldForwardProp=m,w.foldedComponentIds=r?No(s.foldedComponentIds,s.styledComponentId):"",w.styledComponentId=d,w.target=r?s.target:t,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?function(S){for(var _=[],T=1;T<arguments.length;T++)_[T-1]=arguments[T];for(var k=0,P=_;k<P.length;k++)_0(S,P[k],!0);return S}({},s.defaultProps,x):x}}),gw(w,function(){return".".concat(w.styledComponentId)}),i&&VP(w,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function IT(t,e){for(var n=[t[0]],r=0,s=e.length;r<s;r+=1)n.push(e[r],t[r+1]);return n}var OT=function(t){return Object.assign(t,{isCss:!0})};function QP(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dl(t)||Rc(t))return OT(zo(IT(Zp,Dc([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?zo(r):OT(zo(IT(r,e)))}function E0(t,e,n){if(n===void 0&&(n=Ol),!e)throw bf(1,e);var r=function(s){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return t(e,n,QP.apply(void 0,Dc([s],i,!1)))};return r.attrs=function(s){return E0(t,e,an(an({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return E0(t,e,an(an({},n),s))},r}var ZP=function(t){return E0(w7,t)},zn=ZP;RP.forEach(function(t){zn[t]=ZP(t)});function xf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=S0(QP.apply(void 0,Dc([t],e,!1))),s=LP(r);return new KP(s,r)}function ws(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Rn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Rl={duration:.5,overwrite:!1,delay:0},yw,Tt,Ve,Jn=1e8,ke=1/Jn,N0=Math.PI*2,b7=N0/4,x7=0,e$=Math.sqrt,S7=Math.cos,_7=Math.sin,wt=function(e){return typeof e=="string"},et=function(e){return typeof e=="function"},zs=function(e){return typeof e=="number"},vw=function(e){return typeof e>"u"},ls=function(e){return typeof e=="object"},dn=function(e){return e!==!1},ww=function(){return typeof window<"u"},md=function(e){return et(e)||wt(e)},t$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Lt=Array.isArray,k0=/(?:-?\.?\d|\.)+/gi,n$=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ga=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_g=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,r$=/[+-]=-?[.\d]+/,s$=/[^,'"\[\]\s]+/gi,T7=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,He,Ur,A0,bw,Mn={},Gh={},i$,o$=function(e){return(Gh=Fl(e,Mn))&&vn},xw=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Fc=function(e,n){return!n&&console.warn(e)},a$=function(e,n){return e&&(Mn[e]=n)&&Gh&&(Gh[e]=n)||Mn},Mc=function(){return 0},E7={suppressEvents:!0,isStart:!0,kill:!1},Zd={suppressEvents:!0,kill:!1},N7={suppressEvents:!0},Sw={},$i=[],C0={},l$,Nn={},Tg={},DT=30,Jd=[],_w="",Tw=function(e){var n=e[0],r,s;if(ls(n)||et(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(s=Jd.length;s--&&!Jd[s].targetTest(n););r=Jd[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new I$(e[s],r)))||e.splice(s,1);return e},Vo=function(e){return e._gsap||Tw(er(e))[0]._gsap},u$=function(e,n,r){return(r=e[n])&&et(r)?e[n]():vw(r)&&e.getAttribute&&e.getAttribute(n)||r},hn=function(e,n){return(e=e.split(",")).forEach(n)||e},nt=function(e){return Math.round(e*1e5)/1e5||0},at=function(e){return Math.round(e*1e7)/1e7||0},il=function(e,n){var r=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},k7=function(e,n){for(var r=n.length,s=0;e.indexOf(n[s])<0&&++s<r;);return s<r},Kh=function(){var e=$i.length,n=$i.slice(0),r,s;for(C0={},$i.length=0,r=0;r<e;r++)s=n[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Ew=function(e){return!!(e._initted||e._startAt||e.add)},c$=function(e,n,r,s){$i.length&&!Tt&&Kh(),e.render(n,r,!!(Tt&&n<0&&Ew(e))),$i.length&&!Tt&&Kh()},f$=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(s$).length<2?n:wt(e)?e.trim():e},d$=function(e){return e},Ln=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},A7=function(e){return function(n,r){for(var s in r)s in n||s==="duration"&&e||s==="ease"||(n[s]=r[s])}},Fl=function(e,n){for(var r in n)e[r]=n[r];return e},RT=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ls(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},qh=function(e,n){var r={},s;for(s in e)s in n||(r[s]=e[s]);return r},nc=function(e){var n=e.parent||He,r=e.keyframes?A7(Lt(e.keyframes)):Ln;if(dn(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},C7=function(e,n){for(var r=e.length,s=r===n.length;s&&r--&&e[r]===n[r];);return r<0},h$=function(e,n,r,s,i){var o=e[s],a;if(i)for(a=n[i];o&&o[i]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[s]=n,n._prev=o,n.parent=n._dp=e,n},Jp=function(e,n,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var i=n._prev,o=n._next;i?i._next=o:e[r]===n&&(e[r]=o),o?o._prev=i:e[s]===n&&(e[s]=i),n._next=n._prev=n.parent=null},zi=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Uo=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},P7=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},P0=function(e,n,r,s){return e._startAt&&(Tt?e._startAt.revert(Zd):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,s))},$7=function t(e){return!e||e._ts&&t(e.parent)},FT=function(e){return e._repeat?Ml(e._tTime,e=e.duration()+e._rDelay)*e:0},Ml=function(e,n){var r=Math.floor(e=at(e/n));return e&&r===e?r-1:r},Yh=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},em=function(e){return e._end=at(e._start+(e._tDur/Math.abs(e._ts||e._rts||ke)||0))},tm=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=at(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),em(e),r._dirty||Uo(r,e)),e},p$=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Yh(e.rawTime(),n),(!n._dur||Sf(0,n.totalDuration(),r)-n._tTime>ke)&&n.render(r,!0)),Uo(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-ke}},Xr=function(e,n,r,s){return n.parent&&zi(n),n._start=at((zs(r)?r:r||e!==He?Gn(e,r,n):e._time)+n._delay),n._end=at(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),h$(e,n,"_first","_last",e._sort?"_start":0),$0(n)||(e._recent=n),s||p$(e,n),e._ts<0&&tm(e,e._tTime),e},m$=function(e,n){return(Mn.ScrollTrigger||xw("scrollTrigger",n))&&Mn.ScrollTrigger.create(n,e)},g$=function(e,n,r,s,i){if(kw(e,n,i),!e._initted)return 1;if(!r&&e._pt&&!Tt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&l$!==Cn.frame)return $i.push(e),e._lazy=[i,s],1},I7=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},$0=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},O7=function(e,n,r,s){var i=e.ratio,o=n<0||!n&&(!e._start&&I7(e)&&!(!e._initted&&$0(e))||(e._ts<0||e._dp._ts<0)&&!$0(e))?0:1,a=e._rDelay,l=0,u,c,f;if(a&&e._repeat&&(l=Sf(0,e._tDur,n),c=Ml(l,a),e._yoyo&&c&1&&(o=1-o),c!==Ml(e._tTime,a)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||Tt||s||e._zTime===ke||!n&&e._zTime){if(!e._initted&&g$(e,n,s,r,l))return;for(f=e._zTime,e._zTime=n||(r?ke:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&P0(e,n,r,!0),e._onUpdate&&!r&&$n(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&$n(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&zi(e,1),!r&&!Tt&&($n(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},D7=function(e,n,r){var s;if(r>n)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},Ll=function(e,n,r,s){var i=e._repeat,o=at(n)||0,a=e._tTime/e._tDur;return a&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:at(o*(i+1)+e._rDelay*i):o,a>0&&!s&&tm(e,e._tTime=e._tDur*a),e.parent&&em(e),r||Uo(e.parent,e),e},MT=function(e){return e instanceof Gt?Uo(e):Ll(e,e._dur)},R7={_start:0,endTime:Mc,totalDuration:Mc},Gn=function t(e,n,r){var s=e.labels,i=e._recent||R7,o=e.duration()>=Jn?i.endTime(!1):e._dur,a,l,u;return wt(n)&&(isNaN(n)||n in s)?(l=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?i:r).totalDuration()/100:1)):a<0?(n in s||(s[n]=o),s[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(l=l/100*(Lt(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},rc=function(e,n,r){var s=zs(n[1]),i=(s?2:1)+(e<2?0:1),o=n[i],a,l;if(s&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=dn(l.vars.inherit)&&l.parent;o.immediateRender=dn(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[i-1]}return new ot(n[0],o,n[i+1])},to=function(e,n){return e||e===0?n(e):n},Sf=function(e,n,r){return r<e?e:r>n?n:r},Rt=function(e,n){return!wt(e)||!(n=T7.exec(e))?"":n[1]},F7=function(e,n,r){return to(r,function(s){return Sf(e,n,s)})},I0=[].slice,y$=function(e,n){return e&&ls(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&ls(e[0]))&&!e.nodeType&&e!==Ur},M7=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(s){var i;return wt(s)&&!n||y$(s,1)?(i=r).push.apply(i,er(s)):r.push(s)})||r},er=function(e,n,r){return Ve&&!n&&Ve.selector?Ve.selector(e):wt(e)&&!r&&(A0||!Bl())?I0.call((n||bw).querySelectorAll(e),0):Lt(e)?M7(e,r):y$(e)?I0.call(e,0):e?[e]:[]},O0=function(e){return e=er(e)[0]||Fc("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return er(n,r.querySelectorAll?r:r===e?Fc("Invalid scope")||bw.createElement("div"):e)}},v$=function(e){return e.sort(function(){return .5-Math.random()})},w$=function(e){if(et(e))return e;var n=ls(e)?e:{each:e},r=Wo(n.ease),s=n.from||0,i=parseFloat(n.base)||0,o={},a=s>0&&s<1,l=isNaN(s)||a,u=n.axis,c=s,f=s;return wt(s)?c=f={center:.5,edges:.5,end:1}[s]||0:!a&&l&&(c=s[0],f=s[1]),function(d,h,m){var p=(m||n).length,g=o[p],y,v,w,x,S,_,T,k,P;if(!g){if(P=n.grid==="auto"?0:(n.grid||[1,Jn])[1],!P){for(T=-Jn;T<(T=m[P++].getBoundingClientRect().left)&&P<p;);P<p&&P--}for(g=o[p]=[],y=l?Math.min(P,p)*c-.5:s%P,v=P===Jn?0:l?p*f/P-.5:s/P|0,T=0,k=Jn,_=0;_<p;_++)w=_%P-y,x=v-(_/P|0),g[_]=S=u?Math.abs(u==="y"?x:w):e$(w*w+x*x),S>T&&(T=S),S<k&&(k=S);s==="random"&&v$(g),g.max=T-k,g.min=k,g.v=p=(parseFloat(n.amount)||parseFloat(n.each)*(P>p?p-1:u?u==="y"?p/P:P:Math.max(P,p/P))||0)*(s==="edges"?-1:1),g.b=p<0?i-p:i,g.u=Rt(n.amount||n.each)||0,r=r&&p<0?C$(r):r}return p=(g[d]-g.min)/g.max||0,at(g.b+(r?r(p):p)*g.v)+g.u}},D0=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=at(Math.round(parseFloat(r)/e)*e*n);return(s-s%1)/n+(zs(r)?0:Rt(r))}},b$=function(e,n){var r=Lt(e),s,i;return!r&&ls(e)&&(s=r=e.radius||Jn,e.values?(e=er(e.values),(i=!zs(e[0]))&&(s*=s)):e=D0(e.increment)),to(n,r?et(e)?function(o){return i=e(o),Math.abs(i-o)<=s?i:o}:function(o){for(var a=parseFloat(i?o.x:o),l=parseFloat(i?o.y:0),u=Jn,c=0,f=e.length,d,h;f--;)i?(d=e[f].x-a,h=e[f].y-l,d=d*d+h*h):d=Math.abs(e[f]-a),d<u&&(u=d,c=f);return c=!s||u<=s?e[c]:o,i||c===o||zs(o)?c:c+Rt(o)}:D0(e))},x$=function(e,n,r,s){return to(Lt(e)?!n:r===!0?!!(r=0):!s,function(){return Lt(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*s)/s})},L7=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduce(function(i,o){return o(i)},s)}},B7=function(e,n){return function(r){return e(parseFloat(r))+(n||Rt(r))}},j7=function(e,n,r){return _$(e,n,0,1,r)},S$=function(e,n,r){return to(r,function(s){return e[~~n(s)]})},z7=function t(e,n,r){var s=n-e;return Lt(e)?S$(e,t(0,e.length),n):to(r,function(i){return(s+(i-e)%s)%s+e})},V7=function t(e,n,r){var s=n-e,i=s*2;return Lt(e)?S$(e,t(0,e.length-1),n):to(r,function(o){return o=(i+(o-e)%i)%i||0,e+(o>s?i-o:o)})},Lc=function(e){for(var n=0,r="",s,i,o,a;~(s=e.indexOf("random(",n));)o=e.indexOf(")",s),a=e.charAt(s+7)==="[",i=e.substr(s+7,o-s-7).match(a?s$:k0),r+=e.substr(n,s-n)+x$(a?i:+i[0],a?0:+i[1],+i[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},_$=function(e,n,r,s,i){var o=n-e,a=s-r;return to(i,function(l){return r+((l-e)/o*a||0)})},U7=function t(e,n,r,s){var i=isNaN(e+n)?0:function(h){return(1-h)*e+h*n};if(!i){var o=wt(e),a={},l,u,c,f,d;if(r===!0&&(s=1)&&(r=null),o)e={p:e},n={p:n};else if(Lt(e)&&!Lt(n)){for(c=[],f=e.length,d=f-2,u=1;u<f;u++)c.push(t(e[u-1],e[u]));f--,i=function(m){m*=f;var p=Math.min(d,~~m);return c[p](m-p)},r=n}else s||(e=Fl(Lt(e)?[]:{},e));if(!c){for(l in n)Nw.call(a,e,l,"get",n[l]);i=function(m){return Pw(m,a)||(o?e.p:e)}}}return to(r,i)},LT=function(e,n,r){var s=e.labels,i=Jn,o,a,l;for(o in s)a=s[o]-n,a<0==!!r&&a&&i>(a=Math.abs(a))&&(l=o,i=a);return l},$n=function(e,n,r){var s=e.vars,i=s[n],o=Ve,a=e._ctx,l,u,c;if(i)return l=s[n+"Params"],u=s.callbackScope||e,r&&$i.length&&Kh(),a&&(Ve=a),c=l?i.apply(u,l):i.call(u),Ve=o,c},Ou=function(e){return zi(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Tt),e.progress()<1&&$n(e,"onInterrupt"),e},Ka,T$=[],E$=function(e){if(e)if(e=!e.name&&e.default||e,ww()||e.headless){var n=e.name,r=et(e),s=n&&!r&&e.init?function(){this._props=[]}:e,i={init:Mc,render:Pw,add:Nw,kill:i9,modifier:s9,rawVars:0},o={targetTest:0,get:0,getSetter:Cw,aliases:{},register:0};if(Bl(),e!==s){if(Nn[n])return;Ln(s,Ln(qh(e,i),o)),Fl(s.prototype,Fl(i,qh(e,o))),Nn[s.prop=n]=s,e.targetTest&&(Jd.push(s),Sw[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}a$(n,s),e.register&&e.register(vn,s,pn)}else T$.push(e)},Ee=255,Du={aqua:[0,Ee,Ee],lime:[0,Ee,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ee],navy:[0,0,128],white:[Ee,Ee,Ee],olive:[128,128,0],yellow:[Ee,Ee,0],orange:[Ee,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ee,0,0],pink:[Ee,192,203],cyan:[0,Ee,Ee],transparent:[Ee,Ee,Ee,0]},Eg=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*Ee+.5|0},N$=function(e,n,r){var s=e?zs(e)?[e>>16,e>>8&Ee,e&Ee]:0:Du.black,i,o,a,l,u,c,f,d,h,m;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Du[e])s=Du[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+i+i+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&Ee,s&Ee,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&Ee,e&Ee]}else if(e.substr(0,3)==="hsl"){if(s=m=e.match(k0),!n)l=+s[0]%360/360,u=+s[1]/100,c=+s[2]/100,o=c<=.5?c*(u+1):c+u-c*u,i=c*2-o,s.length>3&&(s[3]*=1),s[0]=Eg(l+1/3,i,o),s[1]=Eg(l,i,o),s[2]=Eg(l-1/3,i,o);else if(~e.indexOf("="))return s=e.match(n$),r&&s.length<4&&(s[3]=1),s}else s=e.match(k0)||Du.transparent;s=s.map(Number)}return n&&!m&&(i=s[0]/Ee,o=s[1]/Ee,a=s[2]/Ee,f=Math.max(i,o,a),d=Math.min(i,o,a),c=(f+d)/2,f===d?l=u=0:(h=f-d,u=c>.5?h/(2-f-d):h/(f+d),l=f===i?(o-a)/h+(o<a?6:0):f===o?(a-i)/h+2:(i-o)/h+4,l*=60),s[0]=~~(l+.5),s[1]=~~(u*100+.5),s[2]=~~(c*100+.5)),r&&s.length<4&&(s[3]=1),s},k$=function(e){var n=[],r=[],s=-1;return e.split(Ii).forEach(function(i){var o=i.match(Ga)||[];n.push.apply(n,o),r.push(s+=o.length+1)}),n.c=r,n},BT=function(e,n,r){var s="",i=(e+s).match(Ii),o=n?"hsla(":"rgba(",a=0,l,u,c,f;if(!i)return e;if(i=i.map(function(d){return(d=N$(d,n,1))&&o+(n?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(c=k$(e),l=r.c,l.join(s)!==c.c.join(s)))for(u=e.replace(Ii,"1").split(Ga),f=u.length-1;a<f;a++)s+=u[a]+(~l.indexOf(a)?i.shift()||o+"0,0,0,0)":(c.length?c:i.length?i:r).shift());if(!u)for(u=e.split(Ii),f=u.length-1;a<f;a++)s+=u[a]+i[a];return s+u[f]},Ii=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Du)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),W7=/hsl[a]?\(/,A$=function(e){var n=e.join(" "),r;if(Ii.lastIndex=0,Ii.test(n))return r=W7.test(n),e[1]=BT(e[1],r),e[0]=BT(e[0],r,k$(e[1])),!0},Bc,Cn=function(){var t=Date.now,e=500,n=33,r=t(),s=r,i=1e3/240,o=i,a=[],l,u,c,f,d,h,m=function p(g){var y=t()-s,v=g===!0,w,x,S,_;if((y>e||y<0)&&(r+=y-n),s+=y,S=s-r,w=S-o,(w>0||v)&&(_=++f.frame,d=S-f.time*1e3,f.time=S=S/1e3,o+=w+(w>=i?4:i-w),x=1),v||(l=u(p)),x)for(h=0;h<a.length;h++)a[h](S,d,_,g)};return f={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(g){return d/(1e3/(g||60))},wake:function(){i$&&(!A0&&ww()&&(Ur=A0=window,bw=Ur.document||{},Mn.gsap=vn,(Ur.gsapVersions||(Ur.gsapVersions=[])).push(vn.version),o$(Gh||Ur.GreenSockGlobals||!Ur.gsap&&Ur||{}),T$.forEach(E$)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),u=c||function(g){return setTimeout(g,o-f.time*1e3+1|0)},Bc=1,m(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),Bc=0,u=Mc},lagSmoothing:function(g,y){e=g||1/0,n=Math.min(y||33,e)},fps:function(g){i=1e3/(g||240),o=f.time*1e3+i},add:function(g,y,v){var w=y?function(x,S,_,T){g(x,S,_,T),f.remove(w)}:g;return f.remove(g),a[v?"unshift":"push"](w),Bl(),w},remove:function(g,y){~(y=a.indexOf(g))&&a.splice(y,1)&&h>=y&&h--},_listeners:a},f}(),Bl=function(){return!Bc&&Cn.wake()},he={},H7=/^[\d.\-M][\d.\-,\s]/,G7=/["']/g,K7=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),s=r[0],i=1,o=r.length,a,l,u;i<o;i++)l=r[i],a=i!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),n[s]=isNaN(u)?u.replace(G7,"").trim():+u,s=l.substr(a+1).trim();return n},q7=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<r?e.indexOf(")",r+1):r)},Y7=function(e){var n=(e+"").split("("),r=he[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[K7(n[1])]:q7(e).split(",").map(f$)):he._CE&&H7.test(e)?he._CE("",e):r},C$=function(e){return function(n){return 1-e(1-n)}},P$=function t(e,n){for(var r=e._first,s;r;)r instanceof Gt?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=n)),r=r._next},Wo=function(e,n){return e&&(et(e)?e:he[e]||Y7(e))||n},da=function(e,n,r,s){r===void 0&&(r=function(l){return 1-n(1-l)}),s===void 0&&(s=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var i={easeIn:n,easeOut:r,easeInOut:s},o;return hn(e,function(a){he[a]=Mn[a]=i,he[o=a.toLowerCase()]=r;for(var l in i)he[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=he[a+"."+l]=i[l]}),i},$$=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Ng=function t(e,n,r){var s=n>=1?n:1,i=(r||(e?.3:.45))/(n<1?n:1),o=i/N0*(Math.asin(1/s)||0),a=function(c){return c===1?1:s*Math.pow(2,-10*c)*_7((c-o)*i)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:$$(a);return i=N0/i,l.config=function(u,c){return t(e,u,c)},l},kg=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},s=e==="out"?r:e==="in"?function(i){return 1-r(1-i)}:$$(r);return s.config=function(i){return t(e,i)},s};hn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;da(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});he.Linear.easeNone=he.none=he.Linear.easeIn;da("Elastic",Ng("in"),Ng("out"),Ng());(function(t,e){var n=1/e,r=2*n,s=2.5*n,i=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<s?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};da("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);da("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});da("Circ",function(t){return-(e$(1-t*t)-1)});da("Sine",function(t){return t===1?1:-S7(t*b7)+1});da("Back",kg("in"),kg("out"),kg());he.SteppedEase=he.steps=Mn.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,s=e+(n?0:1),i=n?1:0,o=1-ke;return function(a){return((s*Sf(0,o,a)|0)+i)*r}}};Rl.ease=he["quad.out"];hn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return _w+=t+","+t+"Params,"});var I$=function(e,n){this.id=x7++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:u$,this.set=n?n.getSetter:Cw},jc=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Ll(this,+n.duration,1,1),this.data=n.data,Ve&&(this._ctx=Ve,Ve.data.push(this)),Bc||Cn.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Ll(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(Bl(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(tm(this,r),!i._dp||i.parent||p$(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Xr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===ke||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),c$(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+FT(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+FT(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*i,s):this._repeat?Ml(this._tTime,i)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-ke?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?Yh(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-ke?0:this._rts,this.totalTime(Sf(-Math.abs(this._delay),this.totalDuration(),i),s!==!1),em(this),P7(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Bl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ke&&(this._tTime-=ke)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Xr(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(dn(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Yh(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=N7);var s=Tt;return Tt=r,Ew(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Tt=s,this},e.globalTime=function(r){for(var s=this,i=arguments.length?r:s.rawTime();s;)i=s._start+i/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):i},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,MT(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,MT(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(Gn(this,r),dn(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,dn(s)),this._dur||(this._zTime=-ke),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-ke:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ke,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,i;return!!(!r||this._ts&&this._initted&&r.isActive()&&(i=r.rawTime(!0))>=s&&i<this.endTime(!0)-ke)},e.eventCallback=function(r,s,i){var o=this.vars;return arguments.length>1?(s?(o[r]=s,i&&(o[r+"Params"]=i),r==="onUpdate"&&(this._onUpdate=s)):delete o[r],this):o[r]},e.then=function(r){var s=this;return new Promise(function(i){var o=et(r)?r:d$,a=function(){var u=s.then;s.then=null,et(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=u),i(o),s.then=u};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},e.kill=function(){Ou(this)},t}();Ln(jc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ke,_prom:0,_ps:!1,_rts:1});var Gt=function(t){JP(e,t);function e(r,s){var i;return r===void 0&&(r={}),i=t.call(this,r)||this,i.labels={},i.smoothChildTiming=!!r.smoothChildTiming,i.autoRemoveChildren=!!r.autoRemoveChildren,i._sort=dn(r.sortChildren),He&&Xr(r.parent||He,ws(i),s),r.reversed&&i.reverse(),r.paused&&i.paused(!0),r.scrollTrigger&&m$(ws(i),r.scrollTrigger),i}var n=e.prototype;return n.to=function(s,i,o){return rc(0,arguments,this),this},n.from=function(s,i,o){return rc(1,arguments,this),this},n.fromTo=function(s,i,o,a){return rc(2,arguments,this),this},n.set=function(s,i,o){return i.duration=0,i.parent=this,nc(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new ot(s,i,Gn(this,o),1),this},n.call=function(s,i,o){return Xr(this,ot.delayedCall(0,s,i),o)},n.staggerTo=function(s,i,o,a,l,u,c){return o.duration=i,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new ot(s,o,Gn(this,l)),this},n.staggerFrom=function(s,i,o,a,l,u,c){return o.runBackwards=1,nc(o).immediateRender=dn(o.immediateRender),this.staggerTo(s,i,o,a,l,u,c)},n.staggerFromTo=function(s,i,o,a,l,u,c,f){return a.startAt=o,nc(a).immediateRender=dn(a.immediateRender),this.staggerTo(s,i,a,l,u,c,f)},n.render=function(s,i,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=s<=0?0:at(s),f=this._zTime<0!=s<0&&(this._initted||!u),d,h,m,p,g,y,v,w,x,S,_,T;if(this!==He&&c>l&&s>=0&&(c=l),c!==this._tTime||o||f){if(a!==this._time&&u&&(c+=this._time-a,s+=this._time-a),d=c,x=this._start,w=this._ts,y=!w,f&&(u||(a=this._zTime),(s||!i)&&(this._zTime=s)),this._repeat){if(_=this._yoyo,g=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(g*100+s,i,o);if(d=at(c%g),c===l?(p=this._repeat,d=u):(S=at(c/g),p=~~S,p&&p===S&&(d=u,p--),d>u&&(d=u)),S=Ml(this._tTime,g),!a&&this._tTime&&S!==p&&this._tTime-S*g-this._dur<=0&&(S=p),_&&p&1&&(d=u-d,T=1),p!==S&&!this._lock){var k=_&&S&1,P=k===(_&&p&1);if(p<S&&(k=!k),a=k?0:c%u?u:c,this._lock=1,this.render(a||(T?0:at(p*g)),i,!u)._lock=0,this._tTime=c,!i&&this.parent&&$n(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,P&&(this._lock=2,a=k?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;P$(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=D7(this,at(a),at(d)),v&&(c-=d-(d=v._start))),this._tTime=c,this._time=d,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&c&&!i&&!S&&($n(this,"onStart"),this._tTime!==c))return this;if(d>=a&&s>=0)for(h=this._first;h;){if(m=h._next,(h._act||d>=h._start)&&h._ts&&v!==h){if(h.parent!==this)return this.render(s,i,o);if(h.render(h._ts>0?(d-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(d-h._start)*h._ts,i,o),d!==this._time||!this._ts&&!y){v=0,m&&(c+=this._zTime=-ke);break}}h=m}else{h=this._last;for(var O=s<0?s:d;h;){if(m=h._prev,(h._act||O<=h._end)&&h._ts&&v!==h){if(h.parent!==this)return this.render(s,i,o);if(h.render(h._ts>0?(O-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(O-h._start)*h._ts,i,o||Tt&&Ew(h)),d!==this._time||!this._ts&&!y){v=0,m&&(c+=this._zTime=O?-ke:ke);break}}h=m}}if(v&&!i&&(this.pause(),v.render(d>=a?0:-ke)._zTime=d>=a?1:-1,this._ts))return this._start=x,em(this),this.render(s,i,o);this._onUpdate&&!i&&$n(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(x===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&zi(this,1),!i&&!(s<0&&!a)&&(c||a||!l)&&($n(this,c===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,i){var o=this;if(zs(i)||(i=Gn(this,i,s)),!(s instanceof jc)){if(Lt(s))return s.forEach(function(a){return o.add(a,i)}),this;if(wt(s))return this.addLabel(s,i);if(et(s))s=ot.delayedCall(0,s);else return this}return this!==s?Xr(this,s,i):this},n.getChildren=function(s,i,o,a){s===void 0&&(s=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),a===void 0&&(a=-Jn);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof ot?i&&l.push(u):(o&&l.push(u),s&&l.push.apply(l,u.getChildren(!0,i,o)))),u=u._next;return l},n.getById=function(s){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===s)return i[o]},n.remove=function(s){return wt(s)?this.removeLabel(s):et(s)?this.killTweensOf(s):(s.parent===this&&Jp(this,s),s===this._recent&&(this._recent=this._last),Uo(this))},n.totalTime=function(s,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=at(Cn.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,i),this._forcing=0,this):this._tTime},n.addLabel=function(s,i){return this.labels[s]=Gn(this,i),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,i,o){var a=ot.delayedCall(0,i||Mc,o);return a.data="isPause",this._hasPause=1,Xr(this,a,Gn(this,s))},n.removePause=function(s){var i=this._first;for(s=Gn(this,s);i;)i._start===s&&i.data==="isPause"&&zi(i),i=i._next},n.killTweensOf=function(s,i,o){for(var a=this.getTweensOf(s,o),l=a.length;l--;)yi!==a[l]&&a[l].kill(s,i);return this},n.getTweensOf=function(s,i){for(var o=[],a=er(s),l=this._first,u=zs(i),c;l;)l instanceof ot?k7(l._targets,a)&&(u?(!yi||l._initted&&l._ts)&&l.globalTime(0)<=i&&l.globalTime(l.totalDuration())>i:!i||l.isActive())&&o.push(l):(c=l.getTweensOf(a,i)).length&&o.push.apply(o,c),l=l._next;return o},n.tweenTo=function(s,i){i=i||{};var o=this,a=Gn(o,s),l=i,u=l.startAt,c=l.onStart,f=l.onStartParams,d=l.immediateRender,h,m=ot.to(o,Ln({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:i.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||ke,onStart:function(){if(o.pause(),!h){var g=i.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());m._dur!==g&&Ll(m,g,0,1).render(m._time,!0,!0),h=1}c&&c.apply(m,f||[])}},i));return d?m.render(0):m},n.tweenFromTo=function(s,i,o){return this.tweenTo(i,Ln({startAt:{time:Gn(this,s)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),LT(this,Gn(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),LT(this,Gn(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+ke)},n.shiftChildren=function(s,i,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=s,a._end+=s),a=a._next;if(i)for(u in l)l[u]>=o&&(l[u]+=s);return Uo(this)},n.invalidate=function(s){var i=this._first;for(this._lock=0;i;)i.invalidate(s),i=i._next;return t.prototype.invalidate.call(this,s)},n.clear=function(s){s===void 0&&(s=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Uo(this)},n.totalDuration=function(s){var i=0,o=this,a=o._last,l=Jn,u,c,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Xr(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(i-=c,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>i&&a._ts&&(i=a._end),a=u;Ll(o,o===He&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(He._ts&&(c$(He,Yh(s,He)),l$=Cn.frame),Cn.frame>=DT){DT+=Rn.autoSleep||120;var i=He._first;if((!i||!i._ts)&&Rn.autoSleep&&Cn._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Cn.sleep()}}},e}(jc);Ln(Gt.prototype,{_lock:0,_hasPause:0,_forcing:0});var X7=function(e,n,r,s,i,o,a){var l=new pn(this._pt,e,n,0,1,L$,null,i),u=0,c=0,f,d,h,m,p,g,y,v;for(l.b=r,l.e=s,r+="",s+="",(y=~s.indexOf("random("))&&(s=Lc(s)),o&&(v=[r,s],o(v,e,n),r=v[0],s=v[1]),d=r.match(_g)||[];f=_g.exec(s);)m=f[0],p=s.substring(u,f.index),h?h=(h+1)%5:p.substr(-5)==="rgba("&&(h=1),m!==d[c++]&&(g=parseFloat(d[c-1])||0,l._pt={_next:l._pt,p:p||c===1?p:",",s:g,c:m.charAt(1)==="="?il(g,m)-g:parseFloat(m)-g,m:h&&h<4?Math.round:0},u=_g.lastIndex);return l.c=u<s.length?s.substring(u,s.length):"",l.fp=a,(r$.test(s)||y)&&(l.e=0),this._pt=l,l},Nw=function(e,n,r,s,i,o,a,l,u,c){et(s)&&(s=s(i||0,e,o));var f=e[n],d=r!=="get"?r:et(f)?u?e[n.indexOf("set")||!et(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,h=et(f)?u?t9:F$:Aw,m;if(wt(s)&&(~s.indexOf("random(")&&(s=Lc(s)),s.charAt(1)==="="&&(m=il(d,s)+(Rt(d)||0),(m||m===0)&&(s=m))),!c||d!==s||R0)return!isNaN(d*s)&&s!==""?(m=new pn(this._pt,e,n,+d||0,s-(d||0),typeof f=="boolean"?r9:M$,0,h),u&&(m.fp=u),a&&m.modifier(a,this,e),this._pt=m):(!f&&!(n in e)&&xw(n,s),X7.call(this,e,n,d,s,h,l||Rn.stringFilter,u))},Q7=function(e,n,r,s,i){if(et(e)&&(e=sc(e,i,n,r,s)),!ls(e)||e.style&&e.nodeType||Lt(e)||t$(e))return wt(e)?sc(e,i,n,r,s):e;var o={},a;for(a in e)o[a]=sc(e[a],i,n,r,s);return o},O$=function(e,n,r,s,i,o){var a,l,u,c;if(Nn[e]&&(a=new Nn[e]).init(i,a.rawVars?n[e]:Q7(n[e],s,i,o,r),r,s,o)!==!1&&(r._pt=l=new pn(r._pt,i,e,0,1,a.render,a,0,a.priority),r!==Ka))for(u=r._ptLookup[r._targets.indexOf(i)],c=a._props.length;c--;)u[a._props[c]]=l;return a},yi,R0,kw=function t(e,n,r){var s=e.vars,i=s.ease,o=s.startAt,a=s.immediateRender,l=s.lazy,u=s.onUpdate,c=s.runBackwards,f=s.yoyoEase,d=s.keyframes,h=s.autoRevert,m=e._dur,p=e._startAt,g=e._targets,y=e.parent,v=y&&y.data==="nested"?y.vars.targets:g,w=e._overwrite==="auto"&&!yw,x=e.timeline,S,_,T,k,P,O,D,F,z,L,W,G,V;if(x&&(!d||!i)&&(i="none"),e._ease=Wo(i,Rl.ease),e._yEase=f?C$(Wo(f===!0?i:f,Rl.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!x&&!!s.runBackwards,!x||d&&!s.stagger){if(F=g[0]?Vo(g[0]).harness:0,G=F&&s[F.prop],S=qh(s,Sw),p&&(p._zTime<0&&p.progress(1),n<0&&c&&a&&!h?p.render(-1,!0):p.revert(c&&m?Zd:E7),p._lazy=0),o){if(zi(e._startAt=ot.set(g,Ln({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!p&&dn(l),startAt:null,delay:0,onUpdate:u&&function(){return $n(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Tt||!a&&!h)&&e._startAt.revert(Zd),a&&m&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(c&&m&&!p){if(n&&(a=!1),T=Ln({overwrite:!1,data:"isFromStart",lazy:a&&!p&&dn(l),immediateRender:a,stagger:0,parent:y},S),G&&(T[F.prop]=G),zi(e._startAt=ot.set(g,T)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Tt?e._startAt.revert(Zd):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,ke,ke);else if(!n)return}for(e._pt=e._ptCache=0,l=m&&dn(l)||l&&!m,_=0;_<g.length;_++){if(P=g[_],D=P._gsap||Tw(g)[_]._gsap,e._ptLookup[_]=L={},C0[D.id]&&$i.length&&Kh(),W=v===g?_:v.indexOf(P),F&&(z=new F).init(P,G||S,e,W,v)!==!1&&(e._pt=k=new pn(e._pt,P,z.name,0,1,z.render,z,0,z.priority),z._props.forEach(function(R){L[R]=k}),z.priority&&(O=1)),!F||G)for(T in S)Nn[T]&&(z=O$(T,S,e,W,P,v))?z.priority&&(O=1):L[T]=k=Nw.call(e,P,T,"get",S[T],W,v,0,s.stringFilter);e._op&&e._op[_]&&e.kill(P,e._op[_]),w&&e._pt&&(yi=e,He.killTweensOf(P,L,e.globalTime(n)),V=!e.parent,yi=0),e._pt&&l&&(C0[D.id]=1)}O&&B$(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!V,d&&n<=0&&x.render(Jn,!0,!0)},Z7=function(e,n,r,s,i,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],c,f,d,h;if(!u)for(u=e._ptCache[n]=[],d=e._ptLookup,h=e._targets.length;h--;){if(c=d[h][n],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n&&c.fp!==n;)c=c._next;if(!c)return R0=1,e.vars[n]="+=0",kw(e,a),R0=0,l?Fc(n+" not eligible for reset"):1;u.push(c)}for(h=u.length;h--;)f=u[h],c=f._pt||f,c.s=(s||s===0)&&!i?s:c.s+(s||0)+o*c.c,c.c=r-c.s,f.e&&(f.e=nt(r)+Rt(f.e)),f.b&&(f.b=c.s+Rt(f.b))},J7=function(e,n){var r=e[0]?Vo(e[0]).harness:0,s=r&&r.aliases,i,o,a,l;if(!s)return n;i=Fl({},n);for(o in s)if(o in i)for(l=s[o].split(","),a=l.length;a--;)i[l[a]]=i[o];return i},e9=function(e,n,r,s){var i=n.ease||s||"power1.inOut",o,a;if(Lt(n))a=r[e]||(r[e]=[]),n.forEach(function(l,u){return a.push({t:u/(n.length-1)*100,v:l,e:i})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:i})},sc=function(e,n,r,s,i){return et(e)?e.call(n,r,s,i):wt(e)&&~e.indexOf("random(")?Lc(e):e},D$=_w+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",R$={};hn(D$+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return R$[t]=1});var ot=function(t){JP(e,t);function e(r,s,i,o){var a;typeof s=="number"&&(i.duration=s,s=i,i=null),a=t.call(this,o?s:nc(s))||this;var l=a.vars,u=l.duration,c=l.delay,f=l.immediateRender,d=l.stagger,h=l.overwrite,m=l.keyframes,p=l.defaults,g=l.scrollTrigger,y=l.yoyoEase,v=s.parent||He,w=(Lt(r)||t$(r)?zs(r[0]):"length"in s)?[r]:er(r),x,S,_,T,k,P,O,D;if(a._targets=w.length?Tw(w):Fc("GSAP target "+r+" not found. https://gsap.com",!Rn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=h,m||d||md(u)||md(c)){if(s=a.vars,x=a.timeline=new Gt({data:"nested",defaults:p||{},targets:v&&v.data==="nested"?v.vars.targets:w}),x.kill(),x.parent=x._dp=ws(a),x._start=0,d||md(u)||md(c)){if(T=w.length,O=d&&w$(d),ls(d))for(k in d)~D$.indexOf(k)&&(D||(D={}),D[k]=d[k]);for(S=0;S<T;S++)_=qh(s,R$),_.stagger=0,y&&(_.yoyoEase=y),D&&Fl(_,D),P=w[S],_.duration=+sc(u,ws(a),S,P,w),_.delay=(+sc(c,ws(a),S,P,w)||0)-a._delay,!d&&T===1&&_.delay&&(a._delay=c=_.delay,a._start+=c,_.delay=0),x.to(P,_,O?O(S,P,w):0),x._ease=he.none;x.duration()?u=c=0:a.timeline=0}else if(m){nc(Ln(x.vars.defaults,{ease:"none"})),x._ease=Wo(m.ease||s.ease||"none");var F=0,z,L,W;if(Lt(m))m.forEach(function(G){return x.to(w,G,">")}),x.duration();else{_={};for(k in m)k==="ease"||k==="easeEach"||e9(k,m[k],_,m.easeEach);for(k in _)for(z=_[k].sort(function(G,V){return G.t-V.t}),F=0,S=0;S<z.length;S++)L=z[S],W={ease:L.e,duration:(L.t-(S?z[S-1].t:0))/100*u},W[k]=L.v,x.to(w,W,F),F+=W.duration;x.duration()<u&&x.to({},{duration:u-x.duration()})}}u||a.duration(u=x.duration())}else a.timeline=0;return h===!0&&!yw&&(yi=ws(a),He.killTweensOf(w),yi=0),Xr(v,ws(a),i),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(f||!u&&!m&&a._start===at(v._time)&&dn(f)&&$7(ws(a))&&v.data!=="nested")&&(a._tTime=-ke,a.render(Math.max(0,-c)||0)),g&&m$(ws(a),g),a}var n=e.prototype;return n.render=function(s,i,o){var a=this._time,l=this._tDur,u=this._dur,c=s<0,f=s>l-ke&&!c?l:s<ke?0:s,d,h,m,p,g,y,v,w,x;if(!u)O7(this,s,i,o);else if(f!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c||this._lazy){if(d=f,w=this.timeline,this._repeat){if(p=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(p*100+s,i,o);if(d=at(f%p),f===l?(m=this._repeat,d=u):(g=at(f/p),m=~~g,m&&m===g?(d=u,m--):d>u&&(d=u)),y=this._yoyo&&m&1,y&&(x=this._yEase,d=u-d),g=Ml(this._tTime,p),d===a&&!o&&this._initted&&m===g)return this._tTime=f,this;m!==g&&(w&&this._yEase&&P$(w,y),this.vars.repeatRefresh&&!y&&!this._lock&&d!==p&&this._initted&&(this._lock=o=1,this.render(at(p*m),!0).invalidate()._lock=0))}if(!this._initted){if(g$(this,c?s:d,o,i,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&m!==g))return this;if(u!==this._dur)return this.render(s,i,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(x||this._ease)(d/u),this._from&&(this.ratio=v=1-v),!a&&f&&!i&&!g&&($n(this,"onStart"),this._tTime!==f))return this;for(h=this._pt;h;)h.r(v,h.d),h=h._next;w&&w.render(s<0?s:w._dur*w._ease(d/this._dur),i,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!i&&(c&&P0(this,s,i,o),$n(this,"onUpdate")),this._repeat&&m!==g&&this.vars.onRepeat&&!i&&this.parent&&$n(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&P0(this,s,!0,!0),(s||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&zi(this,1),!i&&!(c&&!a)&&(f||a||y)&&($n(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},n.resetTo=function(s,i,o,a,l){Bc||Cn.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||kw(this,u),c=this._ease(u/this._dur),Z7(this,s,i,o,a,c,u,l)?this.resetTo(s,i,o,a,1):(tm(this,0),this.parent||h$(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,i){if(i===void 0&&(i="all"),!s&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?Ou(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Tt),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,i,yi&&yi.vars.overwrite!==!0)._first||Ou(this),this.parent&&o!==this.timeline.totalDuration()&&Ll(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=s?er(s):a,u=this._ptLookup,c=this._pt,f,d,h,m,p,g,y;if((!i||i==="all")&&C7(a,l))return i==="all"&&(this._pt=0),Ou(this);for(f=this._op=this._op||[],i!=="all"&&(wt(i)&&(p={},hn(i,function(v){return p[v]=1}),i=p),i=J7(a,i)),y=a.length;y--;)if(~l.indexOf(a[y])){d=u[y],i==="all"?(f[y]=i,m=d,h={}):(h=f[y]=f[y]||{},m=i);for(p in m)g=d&&d[p],g&&((!("kill"in g.d)||g.d.kill(p)===!0)&&Jp(this,g,"_pt"),delete d[p]),h!=="all"&&(h[p]=1)}return this._initted&&!this._pt&&c&&Ou(this),this},e.to=function(s,i){return new e(s,i,arguments[2])},e.from=function(s,i){return rc(1,arguments)},e.delayedCall=function(s,i,o,a){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(s,i,o){return rc(2,arguments)},e.set=function(s,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(s,i)},e.killTweensOf=function(s,i,o){return He.killTweensOf(s,i,o)},e}(jc);Ln(ot.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});hn("staggerTo,staggerFrom,staggerFromTo",function(t){ot[t]=function(){var e=new Gt,n=I0.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Aw=function(e,n,r){return e[n]=r},F$=function(e,n,r){return e[n](r)},t9=function(e,n,r,s){return e[n](s.fp,r)},n9=function(e,n,r){return e.setAttribute(n,r)},Cw=function(e,n){return et(e[n])?F$:vw(e[n])&&e.setAttribute?n9:Aw},M$=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},r9=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},L$=function(e,n){var r=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=n.c}n.set(n.t,n.p,s,n)},Pw=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},s9=function(e,n,r,s){for(var i=this._pt,o;i;)o=i._next,i.p===s&&i.modifier(e,n,r),i=o},i9=function(e){for(var n=this._pt,r,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?Jp(this,n,"_pt"):n.dep||(r=1),n=s;return!r},o9=function(e,n,r,s){s.mSet(e,n,s.m.call(s.tween,r,s.mt),s)},B$=function(e){for(var n=e._pt,r,s,i,o;n;){for(r=n._next,s=i;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:o)?n._prev._next=n:i=n,(n._next=s)?s._prev=n:o=n,n=r}e._pt=i},pn=function(){function t(n,r,s,i,o,a,l,u,c){this.t=r,this.s=i,this.c=o,this.p=s,this.r=a||M$,this.d=l||this,this.set=u||Aw,this.pr=c||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,s,i){this.mSet=this.mSet||this.set,this.set=o9,this.m=r,this.mt=i,this.tween=s},t}();hn(_w+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Sw[t]=1});Mn.TweenMax=Mn.TweenLite=ot;Mn.TimelineLite=Mn.TimelineMax=Gt;He=new Gt({sortChildren:!1,defaults:Rl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Rn.stringFilter=A$;var Ho=[],eh={},a9=[],jT=0,l9=0,Ag=function(e){return(eh[e]||a9).map(function(n){return n()})},F0=function(){var e=Date.now(),n=[];e-jT>2&&(Ag("matchMediaInit"),Ho.forEach(function(r){var s=r.queries,i=r.conditions,o,a,l,u;for(a in s)o=Ur.matchMedia(s[a]).matches,o&&(l=1),o!==i[a]&&(i[a]=o,u=1);u&&(r.revert(),l&&n.push(r))}),Ag("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),jT=e,Ag("matchMedia"))},j$=function(){function t(n,r){this.selector=r&&O0(r),this.data=[],this._r=[],this.isReverted=!1,this.id=l9++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,s,i){et(r)&&(i=s,s=r,r=et);var o=this,a=function(){var u=Ve,c=o.selector,f;return u&&u!==o&&u.data.push(o),i&&(o.selector=O0(i)),Ve=o,f=s.apply(o,arguments),et(f)&&o._r.push(f),Ve=u,o.selector=c,o.isReverted=!1,f};return o.last=a,r===et?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var s=Ve;Ve=null,r(this),Ve=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof t?r.push.apply(r,s.getTweens()):s instanceof ot&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var i=this;if(r?function(){for(var a=i.getTweens(),l=i.data.length,u;l--;)u=i.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,f){return f.g-c.g||-1/0}).forEach(function(c){return c.t.revert(r)}),l=i.data.length;l--;)u=i.data[l],u instanceof Gt?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof ot)&&u.revert&&u.revert(r);i._r.forEach(function(c){return c(r,i)}),i.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),s)for(var o=Ho.length;o--;)Ho[o].id===this.id&&Ho.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),u9=function(){function t(n){this.contexts=[],this.scope=n,Ve&&Ve.data.push(this)}var e=t.prototype;return e.add=function(r,s,i){ls(r)||(r={matches:r});var o=new j$(0,i||this.scope),a=o.conditions={},l,u,c;Ve&&!o.selector&&(o.selector=Ve.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=r;for(u in r)u==="all"?c=1:(l=Ur.matchMedia(r[u]),l&&(Ho.indexOf(o)<0&&Ho.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(F0):l.addEventListener("change",F0)));return c&&s(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},t}(),Xh={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(s){return E$(s)})},timeline:function(e){return new Gt(e)},getTweensOf:function(e,n){return He.getTweensOf(e,n)},getProperty:function(e,n,r,s){wt(e)&&(e=er(e)[0]);var i=Vo(e||{}).get,o=r?d$:f$;return r==="native"&&(r=""),e&&(n?o((Nn[n]&&Nn[n].get||i)(e,n,r,s)):function(a,l,u){return o((Nn[a]&&Nn[a].get||i)(e,a,l,u))})},quickSetter:function(e,n,r){if(e=er(e),e.length>1){var s=e.map(function(c){return vn.quickSetter(c,n,r)}),i=s.length;return function(c){for(var f=i;f--;)s[f](c)}}e=e[0]||{};var o=Nn[n],a=Vo(e),l=a.harness&&(a.harness.aliases||{})[n]||n,u=o?function(c){var f=new o;Ka._pt=0,f.init(e,r?c+r:c,Ka,0,[e]),f.render(1,f),Ka._pt&&Pw(1,Ka)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,n,r){var s,i=vn.to(e,Ln((s={},s[n]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),o=function(l,u,c){return i.resetTo(n,l,u,c)};return o.tween=i,o},isTweening:function(e){return He.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Wo(e.ease,Rl.ease)),RT(Rl,e||{})},config:function(e){return RT(Rn,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,s=e.plugins,i=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(a){return a&&!Nn[a]&&!Mn[a]&&Fc(n+" effect requires "+a+" plugin.")}),Tg[n]=function(a,l,u){return r(er(a),Ln(l||{},i),u)},o&&(Gt.prototype[n]=function(a,l,u){return this.add(Tg[n](a,ls(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,n){he[e]=Wo(n)},parseEase:function(e,n){return arguments.length?Wo(e,n):he},getById:function(e){return He.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new Gt(e),s,i;for(r.smoothChildTiming=dn(e.smoothChildTiming),He.remove(r),r._dp=0,r._time=r._tTime=He._time,s=He._first;s;)i=s._next,(n||!(!s._dur&&s instanceof ot&&s.vars.onComplete===s._targets[0]))&&Xr(r,s,s._start-s._delay),s=i;return Xr(He,r,0),r},context:function(e,n){return e?new j$(e,n):Ve},matchMedia:function(e){return new u9(e)},matchMediaRefresh:function(){return Ho.forEach(function(e){var n=e.conditions,r,s;for(s in n)n[s]&&(n[s]=!1,r=1);r&&e.revert()})||F0()},addEventListener:function(e,n){var r=eh[e]||(eh[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=eh[e],s=r&&r.indexOf(n);s>=0&&r.splice(s,1)},utils:{wrap:z7,wrapYoyo:V7,distribute:w$,random:x$,snap:b$,normalize:j7,getUnit:Rt,clamp:F7,splitColor:N$,toArray:er,selector:O0,mapRange:_$,pipe:L7,unitize:B7,interpolate:U7,shuffle:v$},install:o$,effects:Tg,ticker:Cn,updateRoot:Gt.updateRoot,plugins:Nn,globalTimeline:He,core:{PropTween:pn,globals:a$,Tween:ot,Timeline:Gt,Animation:jc,getCache:Vo,_removeLinkedListItem:Jp,reverting:function(){return Tt},context:function(e){return e&&Ve&&(Ve.data.push(e),e._ctx=Ve),Ve},suppressOverwrites:function(e){return yw=e}}};hn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Xh[t]=ot[t]});Cn.add(Gt.updateRoot);Ka=Xh.to({},{duration:0});var c9=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},f9=function(e,n){var r=e._targets,s,i,o;for(s in n)for(i=r.length;i--;)o=e._ptLookup[i][s],o&&(o=o.d)&&(o._pt&&(o=c9(o,s)),o&&o.modifier&&o.modifier(n[s],e,r[i],s))},Cg=function(e,n){return{name:e,headless:1,rawVars:1,init:function(s,i,o){o._onInit=function(a){var l,u;if(wt(i)&&(l={},hn(i,function(c){return l[c]=1}),i=l),n){l={};for(u in i)l[u]=n(i[u]);i=l}f9(a,i)}}}},vn=Xh.registerPlugin({name:"attr",init:function(e,n,r,s,i){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],s,i,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)Tt?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Cg("roundProps",D0),Cg("modifiers"),Cg("snap",b$))||Xh;ot.version=Gt.version=vn.version="3.13.0";i$=1;ww()&&Bl();he.Power0;he.Power1;he.Power2;he.Power3;he.Power4;he.Linear;he.Quad;he.Cubic;he.Quart;he.Quint;he.Strong;he.Elastic;he.Back;he.SteppedEase;he.Bounce;he.Sine;he.Expo;he.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var zT,vi,ol,$w,ko,VT,Iw,d9=function(){return typeof window<"u"},Vs={},go=180/Math.PI,al=Math.PI/180,_a=Math.atan2,UT=1e8,Ow=/([A-Z])/g,h9=/(left|right|width|margin|padding|x)/i,p9=/[\s,\(]\S/,Zr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},M0=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},m9=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},g9=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},y9=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},z$=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},V$=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},v9=function(e,n,r){return e.style[n]=r},w9=function(e,n,r){return e.style.setProperty(n,r)},b9=function(e,n,r){return e._gsap[n]=r},x9=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},S9=function(e,n,r,s,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},_9=function(e,n,r,s,i){var o=e._gsap;o[n]=r,o.renderTransform(i,o)},Ke="transform",mn=Ke+"Origin",T9=function t(e,n){var r=this,s=this.target,i=s.style,o=s._gsap;if(e in Vs&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Zr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=xs(s,a)}):this.tfm[e]=o.x?o[e]:xs(s,e),e===mn&&(this.tfm.zOrigin=o.zOrigin);else return Zr.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(Ke)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(mn,n,"")),e=Ke}(i||n)&&this.props.push(e,n,i[e])},U$=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},E9=function(){var e=this.props,n=this.target,r=n.style,s=n._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?n[e[i]](e[i+2]):n[e[i]]=e[i+2]:e[i+2]?r[e[i]]=e[i+2]:r.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(Ow,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),i=Iw(),(!i||!i.isStart)&&!r[Ke]&&(U$(r),s.zOrigin&&r[mn]&&(r[mn]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},W$=function(e,n){var r={target:e,props:[],revert:E9,save:T9};return e._gsap||vn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(s){return r.save(s)}),r},H$,L0=function(e,n){var r=vi.createElementNS?vi.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):vi.createElement(e);return r&&r.style?r:vi.createElement(e)},tr=function t(e,n,r){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(Ow,"-$1").toLowerCase())||s.getPropertyValue(n)||!r&&t(e,jl(n)||n,1)||""},WT="O,Moz,ms,Ms,Webkit".split(","),jl=function(e,n,r){var s=n||ko,i=s.style,o=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(WT[o]+e in i););return o<0?null:(o===3?"ms":o>=0?WT[o]:"")+e},B0=function(){d9()&&window.document&&(zT=window,vi=zT.document,ol=vi.documentElement,ko=L0("div")||{style:{}},L0("div"),Ke=jl(Ke),mn=Ke+"Origin",ko.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",H$=!!jl("perspective"),Iw=vn.core.reverting,$w=1)},HT=function(e){var n=e.ownerSVGElement,r=L0("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),i;s.style.display="block",r.appendChild(s),ol.appendChild(r);try{i=s.getBBox()}catch{}return r.removeChild(s),ol.removeChild(r),i},GT=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},G$=function(e){var n,r;try{n=e.getBBox()}catch{n=HT(e),r=1}return n&&(n.width||n.height)||r||(n=HT(e)),n&&!n.width&&!n.x&&!n.y?{x:+GT(e,["x","cx","x1"])||0,y:+GT(e,["y","cy","y1"])||0,width:0,height:0}:n},K$=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&G$(e))},ta=function(e,n){if(n){var r=e.style,s;n in Vs&&n!==mn&&(n=Ke),r.removeProperty?(s=n.substr(0,2),(s==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(s==="--"?n:n.replace(Ow,"-$1").toLowerCase())):r.removeAttribute(n)}},wi=function(e,n,r,s,i,o){var a=new pn(e._pt,n,r,0,1,o?V$:z$);return e._pt=a,a.b=s,a.e=i,e._props.push(r),a},KT={deg:1,rad:1,turn:1},N9={grid:1,flex:1},Vi=function t(e,n,r,s){var i=parseFloat(r)||0,o=(r+"").trim().substr((i+"").length)||"px",a=ko.style,l=h9.test(n),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,d=s==="px",h=s==="%",m,p,g,y;if(s===o||!i||KT[s]||KT[o])return i;if(o!=="px"&&!d&&(i=t(e,n,r,"px")),y=e.getCTM&&K$(e),(h||o==="%")&&(Vs[n]||~n.indexOf("adius")))return m=y?e.getBBox()[l?"width":"height"]:e[c],nt(h?i/m*f:i/100*m);if(a[l?"width":"height"]=f+(d?o:s),p=s!=="rem"&&~n.indexOf("adius")||s==="em"&&e.appendChild&&!u?e:e.parentNode,y&&(p=(e.ownerSVGElement||{}).parentNode),(!p||p===vi||!p.appendChild)&&(p=vi.body),g=p._gsap,g&&h&&g.width&&l&&g.time===Cn.time&&!g.uncache)return nt(i/g.width*f);if(h&&(n==="height"||n==="width")){var v=e.style[n];e.style[n]=f+s,m=e[c],v?e.style[n]=v:ta(e,n)}else(h||o==="%")&&!N9[tr(p,"display")]&&(a.position=tr(e,"position")),p===e&&(a.position="static"),p.appendChild(ko),m=ko[c],p.removeChild(ko),a.position="absolute";return l&&h&&(g=Vo(p),g.time=Cn.time,g.width=p[c]),nt(d?m*i/f:m&&i?f/m*i:0)},xs=function(e,n,r,s){var i;return $w||B0(),n in Zr&&n!=="transform"&&(n=Zr[n],~n.indexOf(",")&&(n=n.split(",")[0])),Vs[n]&&n!=="transform"?(i=Vc(e,s),i=n!=="transformOrigin"?i[n]:i.svg?i.origin:Zh(tr(e,mn))+" "+i.zOrigin+"px"):(i=e.style[n],(!i||i==="auto"||s||~(i+"").indexOf("calc("))&&(i=Qh[n]&&Qh[n](e,n,r)||tr(e,n)||u$(e,n)||(n==="opacity"?1:0))),r&&!~(i+"").trim().indexOf(" ")?Vi(e,n,i,r)+r:i},k9=function(e,n,r,s){if(!r||r==="none"){var i=jl(n,e,1),o=i&&tr(e,i,1);o&&o!==r?(n=i,r=o):n==="borderColor"&&(r=tr(e,"borderTopColor"))}var a=new pn(this._pt,e.style,n,0,1,L$),l=0,u=0,c,f,d,h,m,p,g,y,v,w,x,S;if(a.b=r,a.e=s,r+="",s+="",s.substring(0,6)==="var(--"&&(s=tr(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(p=e.style[n],e.style[n]=s,s=tr(e,n)||s,p?e.style[n]=p:ta(e,n)),c=[r,s],A$(c),r=c[0],s=c[1],d=r.match(Ga)||[],S=s.match(Ga)||[],S.length){for(;f=Ga.exec(s);)g=f[0],v=s.substring(l,f.index),m?m=(m+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(m=1),g!==(p=d[u++]||"")&&(h=parseFloat(p)||0,x=p.substr((h+"").length),g.charAt(1)==="="&&(g=il(h,g)+x),y=parseFloat(g),w=g.substr((y+"").length),l=Ga.lastIndex-w.length,w||(w=w||Rn.units[n]||x,l===s.length&&(s+=w,a.e+=w)),x!==w&&(h=Vi(e,n,p,w)||0),a._pt={_next:a._pt,p:v||u===1?v:",",s:h,c:y-h,m:m&&m<4||n==="zIndex"?Math.round:0});a.c=l<s.length?s.substring(l,s.length):""}else a.r=n==="display"&&s==="none"?V$:z$;return r$.test(s)&&(a.e=0),this._pt=a,a},qT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},A9=function(e){var n=e.split(" "),r=n[0],s=n[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),n[0]=qT[r]||r,n[1]=qT[s]||s,n.join(" ")},C9=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,s=r.style,i=n.u,o=r._gsap,a,l,u;if(i==="all"||i===!0)s.cssText="",l=1;else for(i=i.split(","),u=i.length;--u>-1;)a=i[u],Vs[a]&&(l=1,a=a==="transformOrigin"?mn:Ke),ta(r,a);l&&(ta(r,Ke),o&&(o.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Vc(r,1),o.uncache=1,U$(s)))}},Qh={clearProps:function(e,n,r,s,i){if(i.data!=="isFromStart"){var o=e._pt=new pn(e._pt,n,r,0,0,C9);return o.u=s,o.pr=-10,o.tween=i,e._props.push(r),1}}},zc=[1,0,0,1,0,0],q$={},Y$=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},YT=function(e){var n=tr(e,Ke);return Y$(n)?zc:n.substr(7).match(n$).map(nt)},Dw=function(e,n){var r=e._gsap||Vo(e),s=e.style,i=YT(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,i=[l.a,l.b,l.c,l.d,l.e,l.f],i.join(",")==="1,0,0,1,0,0"?zc:i):(i===zc&&!e.offsetParent&&e!==ol&&!r.svg&&(l=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,a=e.nextElementSibling,ol.appendChild(e)),i=YT(e),l?s.display=l:ta(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):ol.removeChild(e))),n&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},j0=function(e,n,r,s,i,o){var a=e._gsap,l=i||Dw(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,h=l[0],m=l[1],p=l[2],g=l[3],y=l[4],v=l[5],w=n.split(" "),x=parseFloat(w[0])||0,S=parseFloat(w[1])||0,_,T,k,P;r?l!==zc&&(T=h*g-m*p)&&(k=x*(g/T)+S*(-p/T)+(p*v-g*y)/T,P=x*(-m/T)+S*(h/T)-(h*v-m*y)/T,x=k,S=P):(_=G$(e),x=_.x+(~w[0].indexOf("%")?x/100*_.width:x),S=_.y+(~(w[1]||w[0]).indexOf("%")?S/100*_.height:S)),s||s!==!1&&a.smooth?(y=x-u,v=S-c,a.xOffset=f+(y*h+v*p)-y,a.yOffset=d+(y*m+v*g)-v):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=S,a.smooth=!!s,a.origin=n,a.originIsAbsolute=!!r,e.style[mn]="0px 0px",o&&(wi(o,a,"xOrigin",u,x),wi(o,a,"yOrigin",c,S),wi(o,a,"xOffset",f,a.xOffset),wi(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",x+" "+S)},Vc=function(e,n){var r=e._gsap||new I$(e);if("x"in r&&!n&&!r.uncache)return r;var s=e.style,i=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=tr(e,mn)||"0",c,f,d,h,m,p,g,y,v,w,x,S,_,T,k,P,O,D,F,z,L,W,G,V,R,M,H,Z,X,se,ee,pe;return c=f=d=p=g=y=v=w=x=0,h=m=1,r.svg=!!(e.getCTM&&K$(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[Ke]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Ke]!=="none"?l[Ke]:"")),s.scale=s.rotate=s.translate="none"),T=Dw(e,r.svg),r.svg&&(r.uncache?(R=e.getBBox(),u=r.xOrigin-R.x+"px "+(r.yOrigin-R.y)+"px",V=""):V=!n&&e.getAttribute("data-svg-origin"),j0(e,V||u,!!V||r.originIsAbsolute,r.smooth!==!1,T)),S=r.xOrigin||0,_=r.yOrigin||0,T!==zc&&(D=T[0],F=T[1],z=T[2],L=T[3],c=W=T[4],f=G=T[5],T.length===6?(h=Math.sqrt(D*D+F*F),m=Math.sqrt(L*L+z*z),p=D||F?_a(F,D)*go:0,v=z||L?_a(z,L)*go+p:0,v&&(m*=Math.abs(Math.cos(v*al))),r.svg&&(c-=S-(S*D+_*z),f-=_-(S*F+_*L))):(pe=T[6],se=T[7],H=T[8],Z=T[9],X=T[10],ee=T[11],c=T[12],f=T[13],d=T[14],k=_a(pe,X),g=k*go,k&&(P=Math.cos(-k),O=Math.sin(-k),V=W*P+H*O,R=G*P+Z*O,M=pe*P+X*O,H=W*-O+H*P,Z=G*-O+Z*P,X=pe*-O+X*P,ee=se*-O+ee*P,W=V,G=R,pe=M),k=_a(-z,X),y=k*go,k&&(P=Math.cos(-k),O=Math.sin(-k),V=D*P-H*O,R=F*P-Z*O,M=z*P-X*O,ee=L*O+ee*P,D=V,F=R,z=M),k=_a(F,D),p=k*go,k&&(P=Math.cos(k),O=Math.sin(k),V=D*P+F*O,R=W*P+G*O,F=F*P-D*O,G=G*P-W*O,D=V,W=R),g&&Math.abs(g)+Math.abs(p)>359.9&&(g=p=0,y=180-y),h=nt(Math.sqrt(D*D+F*F+z*z)),m=nt(Math.sqrt(G*G+pe*pe)),k=_a(W,G),v=Math.abs(k)>2e-4?k*go:0,x=ee?1/(ee<0?-ee:ee):0),r.svg&&(V=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Y$(tr(e,Ke)),V&&e.setAttribute("transform",V))),Math.abs(v)>90&&Math.abs(v)<270&&(i?(h*=-1,v+=p<=0?180:-180,p+=p<=0?180:-180):(m*=-1,v+=v<=0?180:-180)),n=n||r.uncache,r.x=c-((r.xPercent=c&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=nt(h),r.scaleY=nt(m),r.rotation=nt(p)+a,r.rotationX=nt(g)+a,r.rotationY=nt(y)+a,r.skewX=v+a,r.skewY=w+a,r.transformPerspective=x+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(s[mn]=Zh(u)),r.xOffset=r.yOffset=0,r.force3D=Rn.force3D,r.renderTransform=r.svg?$9:H$?X$:P9,r.uncache=0,r},Zh=function(e){return(e=e.split(" "))[0]+" "+e[1]},Pg=function(e,n,r){var s=Rt(n);return nt(parseFloat(n)+parseFloat(Vi(e,"x",r+"px",s)))+s},P9=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,X$(e,n)},uo="0deg",Tu="0px",co=") ",X$=function(e,n){var r=n||this,s=r.xPercent,i=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,f=r.rotationX,d=r.skewX,h=r.skewY,m=r.scaleX,p=r.scaleY,g=r.transformPerspective,y=r.force3D,v=r.target,w=r.zOrigin,x="",S=y==="auto"&&e&&e!==1||y===!0;if(w&&(f!==uo||c!==uo)){var _=parseFloat(c)*al,T=Math.sin(_),k=Math.cos(_),P;_=parseFloat(f)*al,P=Math.cos(_),o=Pg(v,o,T*P*-w),a=Pg(v,a,-Math.sin(_)*-w),l=Pg(v,l,k*P*-w+w)}g!==Tu&&(x+="perspective("+g+co),(s||i)&&(x+="translate("+s+"%, "+i+"%) "),(S||o!==Tu||a!==Tu||l!==Tu)&&(x+=l!==Tu||S?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+co),u!==uo&&(x+="rotate("+u+co),c!==uo&&(x+="rotateY("+c+co),f!==uo&&(x+="rotateX("+f+co),(d!==uo||h!==uo)&&(x+="skew("+d+", "+h+co),(m!==1||p!==1)&&(x+="scale("+m+", "+p+co),v.style[Ke]=x||"translate(0, 0)"},$9=function(e,n){var r=n||this,s=r.xPercent,i=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,f=r.scaleX,d=r.scaleY,h=r.target,m=r.xOrigin,p=r.yOrigin,g=r.xOffset,y=r.yOffset,v=r.forceCSS,w=parseFloat(o),x=parseFloat(a),S,_,T,k,P;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=al,u*=al,S=Math.cos(l)*f,_=Math.sin(l)*f,T=Math.sin(l-u)*-d,k=Math.cos(l-u)*d,u&&(c*=al,P=Math.tan(u-c),P=Math.sqrt(1+P*P),T*=P,k*=P,c&&(P=Math.tan(c),P=Math.sqrt(1+P*P),S*=P,_*=P)),S=nt(S),_=nt(_),T=nt(T),k=nt(k)):(S=f,k=d,_=T=0),(w&&!~(o+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(w=Vi(h,"x",o,"px"),x=Vi(h,"y",a,"px")),(m||p||g||y)&&(w=nt(w+m-(m*S+p*T)+g),x=nt(x+p-(m*_+p*k)+y)),(s||i)&&(P=h.getBBox(),w=nt(w+s/100*P.width),x=nt(x+i/100*P.height)),P="matrix("+S+","+_+","+T+","+k+","+w+","+x+")",h.setAttribute("transform",P),v&&(h.style[Ke]=P)},I9=function(e,n,r,s,i){var o=360,a=wt(i),l=parseFloat(i)*(a&&~i.indexOf("rad")?go:1),u=l-s,c=s+u+"deg",f,d;return a&&(f=i.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*UT)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*UT)%o-~~(u/o)*o)),e._pt=d=new pn(e._pt,n,r,s,u,m9),d.e=c,d.u="deg",e._props.push(r),d},XT=function(e,n){for(var r in n)e[r]=n[r];return e},O9=function(e,n,r){var s=XT({},r._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,f,d,h,m;s.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[Ke]=n,a=Vc(r,1),ta(r,Ke),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Ke],o[Ke]=n,a=Vc(r,1),o[Ke]=u);for(l in Vs)u=s[l],c=a[l],u!==c&&i.indexOf(l)<0&&(h=Rt(u),m=Rt(c),f=h!==m?Vi(r,l,u,m):parseFloat(u),d=parseFloat(c),e._pt=new pn(e._pt,a,l,f,d-f,M0),e._pt.u=m||0,e._props.push(l));XT(a,s)};hn("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",s="Bottom",i="Left",o=(e<3?[n,r,s,i]:[n+i,n+r,s+r,s+i]).map(function(a){return e<2?t+a:"border"+a+t});Qh[e>1?"border"+t:t]=function(a,l,u,c,f){var d,h;if(arguments.length<4)return d=o.map(function(m){return xs(a,m,u)}),h=d.join(" "),h.split(d[0]).length===5?d[0]:h;d=(c+"").split(" "),h={},o.forEach(function(m,p){return h[m]=d[p]=d[p]||d[(p-1)/2|0]}),a.init(l,h,f)}});var Q$={name:"css",register:B0,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,s,i){var o=this._props,a=e.style,l=r.vars.startAt,u,c,f,d,h,m,p,g,y,v,w,x,S,_,T,k;$w||B0(),this.styles=this.styles||W$(e),k=this.styles.props,this.tween=r;for(p in n)if(p!=="autoRound"&&(c=n[p],!(Nn[p]&&O$(p,n,r,s,e,i)))){if(h=typeof c,m=Qh[p],h==="function"&&(c=c.call(r,s,e,i),h=typeof c),h==="string"&&~c.indexOf("random(")&&(c=Lc(c)),m)m(this,e,p,c,r)&&(T=1);else if(p.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(p)+"").trim(),c+="",Ii.lastIndex=0,Ii.test(u)||(g=Rt(u),y=Rt(c)),y?g!==y&&(u=Vi(e,p,u,y)+y):g&&(c+=g),this.add(a,"setProperty",u,c,s,i,0,0,p),o.push(p),k.push(p,0,a[p]);else if(h!=="undefined"){if(l&&p in l?(u=typeof l[p]=="function"?l[p].call(r,s,e,i):l[p],wt(u)&&~u.indexOf("random(")&&(u=Lc(u)),Rt(u+"")||u==="auto"||(u+=Rn.units[p]||Rt(xs(e,p))||""),(u+"").charAt(1)==="="&&(u=xs(e,p))):u=xs(e,p),d=parseFloat(u),v=h==="string"&&c.charAt(1)==="="&&c.substr(0,2),v&&(c=c.substr(2)),f=parseFloat(c),p in Zr&&(p==="autoAlpha"&&(d===1&&xs(e,"visibility")==="hidden"&&f&&(d=0),k.push("visibility",0,a.visibility),wi(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),p!=="scale"&&p!=="transform"&&(p=Zr[p],~p.indexOf(",")&&(p=p.split(",")[0]))),w=p in Vs,w){if(this.styles.save(p),h==="string"&&c.substring(0,6)==="var(--"&&(c=tr(e,c.substring(4,c.indexOf(")"))),f=parseFloat(c)),x||(S=e._gsap,S.renderTransform&&!n.parseTransform||Vc(e,n.parseTransform),_=n.smoothOrigin!==!1&&S.smooth,x=this._pt=new pn(this._pt,a,Ke,0,1,S.renderTransform,S,0,-1),x.dep=1),p==="scale")this._pt=new pn(this._pt,S,"scaleY",S.scaleY,(v?il(S.scaleY,v+f):f)-S.scaleY||0,M0),this._pt.u=0,o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){k.push(mn,0,a[mn]),c=A9(c),S.svg?j0(e,c,0,_,0,this):(y=parseFloat(c.split(" ")[2])||0,y!==S.zOrigin&&wi(this,S,"zOrigin",S.zOrigin,y),wi(this,a,p,Zh(u),Zh(c)));continue}else if(p==="svgOrigin"){j0(e,c,1,_,0,this);continue}else if(p in q$){I9(this,S,p,d,v?il(d,v+c):c);continue}else if(p==="smoothOrigin"){wi(this,S,"smooth",S.smooth,c);continue}else if(p==="force3D"){S[p]=c;continue}else if(p==="transform"){O9(this,c,e);continue}}else p in a||(p=jl(p)||p);if(w||(f||f===0)&&(d||d===0)&&!p9.test(c)&&p in a)g=(u+"").substr((d+"").length),f||(f=0),y=Rt(c)||(p in Rn.units?Rn.units[p]:g),g!==y&&(d=Vi(e,p,u,y)),this._pt=new pn(this._pt,w?S:a,p,d,(v?il(d,v+f):f)-d,!w&&(y==="px"||p==="zIndex")&&n.autoRound!==!1?y9:M0),this._pt.u=y||0,g!==y&&y!=="%"&&(this._pt.b=u,this._pt.r=g9);else if(p in a)k9.call(this,e,p,u,v?v+c:c);else if(p in e)this.add(e,p,u||e[p],v?v+c:c,s,i);else if(p!=="parseTransform"){xw(p,c);continue}w||(p in a?k.push(p,0,a[p]):typeof e[p]=="function"?k.push(p,2,e[p]()):k.push(p,1,u||e[p])),o.push(p)}}T&&B$(this)},render:function(e,n){if(n.tween._time||!Iw())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:xs,aliases:Zr,getSetter:function(e,n,r){var s=Zr[n];return s&&s.indexOf(",")<0&&(n=s),n in Vs&&n!==mn&&(e._gsap.x||xs(e,"x"))?r&&VT===r?n==="scale"?x9:b9:(VT=r||{})&&(n==="scale"?S9:_9):e.style&&!vw(e.style[n])?v9:~n.indexOf("-")?w9:Cw(e,n)},core:{_removeProperty:ta,_getMatrix:Dw}};vn.utils.checkPrefix=jl;vn.core.getStyleSaver=W$;(function(t,e,n,r){var s=hn(t+","+e+","+n,function(i){Vs[i]=1});hn(e,function(i){Rn.units[i]="deg",q$[i]=1}),Zr[s[13]]=t+","+e,hn(r,function(i){var o=i.split(":");Zr[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");hn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Rn.units[t]="px"});vn.registerPlugin(Q$);var _n=vn.registerPlugin(Q$)||vn;_n.core.Tween;const D9=zn.div`
  width: 100vw;
  height: 100vh;
  /* FIXED: New dark purplish background color */
  background-color: #12091f; 
  color: white;
  font-family: 'Cormorant Garamond', serif;
  overflow: hidden;
  position: relative;
`,R9=xf`
  0% { transform: translate(-50%, -50%) rotate(0deg) scale(1.5); }
  100% { transform: translate(-50%, -50%) rotate(360deg) scale(1.5); }
`,F9=xf`
  from { background-position: 0 0; }
  to { background-position: 100% 100%; }
`,M9=zn.div`
  position: absolute; inset: -100%; z-index: 1; opacity: 0.9;
  
  &::before {
    content: ''; position: absolute; top: 50%; left: 50%; width: 300vw; height: 300vh;
    background: 
      radial-gradient(circle at 30% 70%, rgba(47, 12, 62, 0.4) 0%, transparent 40%),
      radial-gradient(circle at 70% 30%, rgba(10, 44, 55, 0.3) 0%, transparent 40%),
      radial-gradient(circle at 50% 50%, rgba(255, 105, 180, 0.25) 0%, transparent 35%),
      radial-gradient(circle at 10% 90%, rgba(255, 215, 0, 0.2) 0%, transparent 30%);
    animation: ${R9} 120s linear infinite;
    filter: blur(80px);
  }

  &::after {
    content: ''; position: absolute; inset: 0;
    background-image: 
      radial-gradient(1.5px 1.5px at 20% 80%, white, transparent),
      radial-gradient(2px 2px at 50% 50%, white, transparent),
      radial-gradient(1.5px 1.5px at 90% 90%, white, transparent);
    background-size: 300px 300px, 250px 250px, 200px 200px;
    opacity: 0.6;
    animation: ${xf`0%,100%{opacity:0.8} 50%{opacity:0.4}`} 5s infinite alternate, ${F9} 300s linear infinite;
  }
`,L9=xf`
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-20px); }
`,B9=xf`
  0%, 100% { filter: brightness(1) drop-shadow(0 0 5px #fff); }
  50% { filter: brightness(1.5) drop-shadow(0 0 15px #fff); }
`,gd=zn.div`
  position: absolute;
  width: var(--size);
  height: var(--size);
  opacity: 0;
  z-index: 5;
  
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle, white, rgba(255, 215, 0, 0.5) 80%);
    clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); /* Diamond shape */
    animation: 
      ${L9} var(--duration) ease-in-out infinite,
      ${B9} 3s ease-in-out infinite alternate;
  }
`,j9=zn.div`
  position: absolute; 
  top: 6vh; /* FIXED: Moved up */
  left: 50%;
  transform: translateX(-50%); text-align: center;
  color: #e2d8f3; pointer-events: none; z-index: 100;
  opacity: 0;
`,z9=zn.h2`
  font-size: 3.5rem; margin: 0; letter-spacing: 0.18em;
  text-shadow: 0 0 25px rgba(255,255,255,0.4), 0 0 50px rgba(148,0,211,0.5);
`,V9=zn.p`
  font-family: 'Poppins', sans-serif;
  font-size: 1.1rem; margin-top: 1em; opacity: 0.8;
  letter-spacing: 0.05em;
  transition: opacity 0.5s;
`,U9=zn.div`
  position: absolute; inset: 0;
  display: flex; justify-content: center; align-items: center;
  perspective: 1500px;
  z-index: 10;
`,W9=zn.div`
  position: relative; width: 1px; height: 1px;
  transform-style: preserve-3d;
`,H9=zn.div`
  position: absolute;
  top: 0; left: 0; width: 280px; height: 350px;
  margin-left: -140px; margin-top: -175px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0));
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 15px; backdrop-filter: blur(8px);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  cursor: pointer; transform-origin: center center; opacity: 0;
  box-shadow: 0 0 20px 5px rgba(var(--style-color-rgb), 0);
  transition: box-shadow 0.4s ease-out, border-color 0.4s ease-out;
  
  &.selected {
    border-color: var(--style-color);
    box-shadow: 0 0 40px 10px rgba(var(--style-color-rgb), 0.5);
  }
`,G9=zn.img`
  width: 85%; height: 60%; object-fit: cover;
  border-radius: 10px; opacity: 0.8;
`,K9=zn.p`
  margin-top: 20px; font-size: 1.8rem;
  letter-spacing: 0.1em; text-transform: uppercase;
  color: white; text-shadow: 0 0 10px rgba(255,255,255,0.5);
`,q9=zn.div`
  position: absolute; bottom: 5vh; left: 50%;
  transform: translateX(-50%); color: rgba(255, 255, 255, 0.6);
  font-family: 'Poppins', sans-serif; font-size: 0.95rem;
  letter-spacing: 0.05em; opacity: 0;
  pointer-events: none; z-index: 100;
  transition: opacity 0.8s ease-out;
  text-shadow: 0 0 5px rgba(0,0,0,0.5);
`,Y9=({onComplete:t,selectionGoal:e=2})=>{const[n,r]=N.useState(new Set),[s,i]=N.useState(!1),[o,a]=N.useState(!1),l=N.useRef(null),u=N.useRef([]),c=N.useRef(null),f=N.useRef(null),d=N.useRef([]),h=[{name:"bold",color:"#ff69b4",image:"https://images.unsplash.com/photo-1627704442358-61c8e05c7bf4?w=500"},{name:"classic",color:"#ffd700",image:"https://images.unsplash.com/photo-1758551038941-a67e29026bff?w=500"},{name:"minimal",color:"#add8e6",image:"https://plus.unsplash.com/premium_vector-1736967617027-c9f55396949f?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=880"},{name:"organic",color:"#98ff98",image:"https://images.unsplash.com/photo-1557672172-298e090bd0f1?w=500"}];N.useEffect(()=>{const g=_n.context(()=>{const y=l.current,v=u.current,w=d.current;let x=!1;const S=[{x:-450,y:0,z:150,rotationY:25,scale:1},{x:-150,y:0,z:-150,rotationY:15,scale:.9},{x:150,y:0,z:-150,rotationY:-15,scale:.9},{x:450,y:0,z:150,rotationY:-25,scale:1}],_=350,T=v.map((O,D)=>({x:Math.sin(D/v.length*Math.PI*2)*_,z:Math.cos(D/v.length*Math.PI*2)*_,rotationY:-(D/v.length*360),scale:1}));_n.set(v,{x:0,y:0,z:0,scale:.5,opacity:0}),_n.set(w,{opacity:0,scale:0}),_n.to(c.current,{opacity:1,duration:1,delay:.5});const k=()=>{_n.to(f.current,{opacity:1,duration:1,delay:.5}),v.forEach((O,D)=>{_n.to(O,{...S[D],opacity:1,duration:1.8,delay:.8+D*.15,ease:"power3.out"})}),_n.to(w,{opacity:.7,scale:1,duration:1.5,stagger:.2,ease:"back.out(1.7)",delay:1}),a(!0),window.removeEventListener("mousemove",k)};window.addEventListener("mousemove",k);let P=O=>{if(!o||s)return;const D=(O.clientX/window.innerWidth-.5)*2,F=(O.clientY/window.innerHeight-.5)*2,z=.3;Math.abs(D)>z&&!x?(x=!0,v.forEach((L,W)=>_n.to(L,{...T[W],duration:.8,ease:"power3.inOut"}))):Math.abs(D)<=z&&x&&(x=!1,v.forEach((L,W)=>_n.to(L,{...S[W],duration:.8,ease:"power3.inOut"}))),x?_n.to(y,{rotationY:-D*60,z:0,rotationX:0,duration:1.5,ease:"power2.out"}):_n.to(y,{z:-F*200,rotationY:D*10,rotationX:-F*5,duration:1.5,ease:"power2.out"})};return window.addEventListener("mousemove",P),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mousemove",P)}});return()=>g.revert()},[o,s]);const m=g=>{if(n.has(g)||s||n.size>=e)return;const y=new Set(n);y.add(g),r(y)};N.useEffect(()=>{n.size>=e&&(i(!0),_n.to([u.current,c.current,f.current,d.current],{opacity:0,duration:1.5,ease:"power2.inOut",onComplete:()=>{const g=h.reduce((y,v)=>({...y,[v.name]:n.has(v.name)}),{});t(g)}}))},[n,e,t,h]);const p=Math.max(0,e-n.size);return C.jsxs(D9,{children:[C.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600&family=Poppins:wght@300&display=swap",rel:"stylesheet"}),C.jsx(M9,{}),C.jsx(gd,{ref:g=>d.current[0]=g,style:{"--size":"20px","--duration":"25s",top:"15%",left:"10%"}}),C.jsx(gd,{ref:g=>d.current[1]=g,style:{"--size":"30px","--duration":"35s",bottom:"20%",right:"15%"}}),C.jsx(gd,{ref:g=>d.current[2]=g,style:{"--size":"15px","--duration":"20s",top:"50%",right:"5%"}}),C.jsx(gd,{ref:g=>d.current[3]=g,style:{"--size":"25px","--duration":"30s",bottom:"10%",left:"30%"}}),C.jsxs(j9,{ref:c,children:[C.jsx(z9,{children:"Discover Your Aura"}),C.jsx(V9,{children:s?"Thank you for your journey!":o?`Select ${p} more style${p>1?"s":""}`:"Move your cursor to begin"})]}),C.jsx(U9,{children:C.jsx(W9,{ref:l,children:h.map((g,y)=>{var v;return C.jsxs(H9,{ref:w=>u.current[y]=w,className:n.has(g.name)?"selected":"",onClick:()=>m(g.name),"data-index":y,style:{"--style-color-rgb":(v=g.color.match(/\w\w/g))==null?void 0:v.map(w=>parseInt(w,16)).join(","),"--style-color":g.color},children:[C.jsx(G9,{src:g.image,alt:g.name}),C.jsx(K9,{children:g.name})]},g.name)})})}),C.jsx(q9,{ref:f,children:"Hint: Move mouse left/right to orbit"})]})};function X9({onComplete:t}){const e=N.useRef(null),[n,r]=N.useState(0);return N.useEffect(()=>{const s=e.current;if(!s)return;const i=s.getContext("2d");if(!i)return;s.width=window.innerWidth,s.height=window.innerHeight;const o=[],a=["rgba(139, 92, 246, ","rgba(59, 130, 246, ","rgba(6, 182, 212, ","rgba(167, 139, 250, ","rgba(236, 72, 153, "];function l(){const h=Math.random()*Math.PI*2,m=2+Math.random()*4;o.push({x:s.width/2,y:s.height/2,vx:Math.cos(h)*m,vy:Math.sin(h)*m,size:2+Math.random()*4,color:a[Math.floor(Math.random()*a.length)],life:1})}let u=0;function c(){if(!(!i||!s)){if(i.fillStyle="rgba(0, 0, 0, 0.1)",i.fillRect(0,0,s.width,s.height),u%2===0)for(let h=0;h<3;h++)l();o.forEach((h,m)=>{if(h.x+=h.vx,h.y+=h.vy,h.life-=.01,h.vx*=.99,h.vy*=.99,h.life<=0){o.splice(m,1);return}const p=i.createRadialGradient(h.x,h.y,0,h.x,h.y,h.size);p.addColorStop(0,`${h.color}${h.life})`),p.addColorStop(1,`${h.color}0)`),i.fillStyle=p,i.beginPath(),i.arc(h.x,h.y,h.size,0,Math.PI*2),i.fill()}),u++,u<180&&requestAnimationFrame(c)}}c();const f=setInterval(()=>{r(h=>h>=100?(clearInterval(f),100):h+2)},50),d=setTimeout(()=>{t()},3e3);return()=>{clearTimeout(d),clearInterval(f)}},[t]),C.jsxs("div",{className:"relative size-full bg-black overflow-hidden flex items-center justify-center",children:[C.jsx("canvas",{ref:e,className:"absolute inset-0 size-full"}),C.jsxs("div",{className:"relative z-10 text-center",children:[C.jsx(Ne.h2,{className:"text-4xl text-white tracking-widest mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{fontWeight:300,textShadow:"0 0 30px rgba(139, 92, 246, 0.8)"},children:"Synthesizing Your Style DNA"}),C.jsx(Ne.div,{className:"w-64 h-1 bg-white/10 rounded-full mx-auto overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:C.jsx(Ne.div,{className:"h-full bg-gradient-to-r from-purple-500 via-pink-500 to-cyan-500 rounded-full",style:{width:`${n}%`},transition:{duration:.3}})}),C.jsxs(Ne.p,{className:"text-white/50 text-sm tracking-wide mt-4",initial:{opacity:0},animate:{opacity:[.3,.7,.3]},transition:{duration:2,repeat:1/0},children:[n<30&&"Analyzing preferences...",n>=30&&n<60&&"Generating moodboard...",n>=60&&n<90&&"Curating collection...",n>=90&&"Finalizing your aura..."]}),C.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[1,2,3].map(s=>C.jsx(Ne.div,{className:"absolute border border-white/10 rounded-full",style:{width:`${s*150}px`,height:`${s*150}px`},animate:{rotate:s%2===0?360:-360},transition:{duration:10+s*2,repeat:1/0,ease:"linear"}},s))})]})]})}const Q9=j2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Jh=N.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?PB:"button";return C.jsx(o,{className:Ji(Q9({variant:e,size:n,className:t})),ref:i,...s})});Jh.displayName="Button";const $g=["https://images.unsplash.com/photo-1721103418218-416182aca079?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1974","https://plus.unsplash.com/premium_photo-1681276169450-4504a2442173?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=687","https://images.unsplash.com/photo-1603561596112-0a132b757442?w=500"],Z9=({stylePreferences:t,onContinue:e})=>{const[n,r]=N.useState(!1),s=()=>t.bold&&t.minimal?"The Modern Edge":t.bold&&t.organic?"The Bold Bohemian":t.classic&&t.minimal?"The Timeless Minimalist":t.classic&&t.organic?"The Romantic Naturalist":t.minimal&&t.organic?"The Zen Purist":"The Eclectic Visionary",i=()=>t.bold?"70% Zendaya  30% Rihanna":t.classic?"65% Audrey Hepburn  35% Grace Kelly":t.minimal?"75% Phoebe Philo  25% Gwyneth Paltrow":t.organic?"60% Florence Welch  30% Sienna Miller":"50% Iris Apfel  50% Tilda Swinton";return N.useEffect(()=>{const o=setTimeout(()=>r(!0),500);return()=>clearTimeout(o)},[]),C.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-background flex items-center justify-center",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[hsl(var(--aura-glow))]/25 via-[hsl(var(--aura-shimmer))]/20 to-background blur-3xl"}),C.jsx(Ne.div,{className:"absolute -top-32 -left-40 w-[40rem] h-[40rem] rounded-full bg-[hsl(var(--concept-bold))]/20 blur-3xl",animate:{x:[0,40,-40,0],y:[0,-20,20,0]},transition:{duration:20,repeat:1/0}}),C.jsx(Ne.div,{className:"absolute bottom-0 right-0 w-[35rem] h-[35rem] rounded-full bg-[hsl(var(--aura-shimmer))]/20 blur-3xl",animate:{x:[0,-50,30,0],y:[0,30,-30,0]},transition:{duration:25,repeat:1/0}}),C.jsx(LC,{children:n&&C.jsxs(Ne.div,{className:"relative z-10 w-full max-w-6xl px-8 md:px-16 flex flex-col md:flex-row items-center justify-between gap-16",initial:{opacity:0,y:80},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:[C.jsxs("div",{className:"flex-1 space-y-8",children:[C.jsxs("div",{className:"space-y-3",children:[C.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-foreground/60 font-light",children:"Your Style Archetype"}),C.jsx("h1",{className:"text-5xl md:text-6xl font-light leading-tight text-foreground animate-chromatic",children:s()})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-foreground/60 font-light",children:"Celebrity Constellation"}),C.jsx("p",{className:"text-2xl font-light text-foreground/80",children:i()})]}),C.jsx("div",{className:"pt-8",children:C.jsx(Jh,{onClick:e,className:"bg-gradient-to-r from-[hsl(var(--aura-glow))] to-[hsl(var(--aura-shimmer))] text-background px-10 py-6 text-lg hover:scale-105 hover:shadow-[0_0_20px_hsl(var(--aura-glow))] transition-all duration-300",children:"Explore Your Collection"})})]}),C.jsx(Ne.div,{className:"flex-1 flex items-center justify-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1.2,ease:"easeOut",delay:.4},children:C.jsxs("div",{className:"relative w-full max-w-md aspect-[3/4]",children:[C.jsxs("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-card to-muted/80 backdrop-blur-2xl border border-primary/30 shadow-2xl overflow-hidden",children:[C.jsxs("div",{className:"absolute inset-0 flex flex-col p-6 gap-4",children:[C.jsx("div",{className:"flex-1 rounded-2xl overflow-hidden",children:C.jsx("img",{src:$g[0],alt:"Moodboard Top",className:"w-full h-full object-cover"})}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx("div",{className:"flex-1 aspect-square rounded-2xl overflow-hidden",children:C.jsx("img",{src:$g[1],alt:"Moodboard Left",className:"w-full h-full object-cover"})}),C.jsx("div",{className:"flex-1 aspect-square rounded-2xl overflow-hidden",children:C.jsx("img",{src:$g[2],alt:"Moodboard Right",className:"w-full h-full object-cover"})})]})]}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[hsl(var(--aura-glow))]/15 to-transparent"})]}),C.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 px-6 py-2 bg-card/80 backdrop-blur-xl rounded-full border border-primary/30 shadow-sm",children:C.jsx("span",{className:"text-xs tracking-widest uppercase text-foreground/60",children:"Your Aura Moodboard"})})]})})]})})]})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J9=1e-7,eK=1e-4;class tK{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Z${refCount(e){return Zt("refCount")}incRef(e){return Zt("incRef")}timerAvailable(){return!0}time(e){return Zt("time")}read(e){return Zt("read")}readSync(e){return Zt("readSync")}readToGPU(e,n){return Zt("readToGPU")}numDataIds(){return Zt("numDataIds")}disposeData(e,n){return Zt("disposeData")}write(e,n,r){return Zt("write")}move(e,n,r,s,i){return Zt("move")}createTensorFromGPUData(e,n,r){return Zt("createTensorFromGPUData")}memory(){return Zt("memory")}floatPrecision(){return Zt("floatPrecision")}epsilon(){return this.floatPrecision()===32?J9:eK}dispose(){return Zt("dispose")}}function Zt(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J$(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,ep(t,e,n)}function nK(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,ep(t,n,r),ep(e,n,r)}function Uc(t,e,n){return Math.max(t,Math.min(e,n))}function rK(t){return t%2===0?t:t+1}function ep(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function sK(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function iK(t,e){const n=Math.random();return e*n+(1-n)*t}function oK(t,e){let n=0;for(let r=0;r<t.length;r++){const s=Number(t[r])-Number(e[r]);n+=s*s}return n}function A(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function zt(t,e,n=""){A(Mr(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function ha(t){A(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function xe(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function aK(t){return t.length===0}function eI(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function Mr(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function zl(t){return t%1===0}function lK(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function uK(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function cK(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return J$(e),e}function ic(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function fK(t,e=s=>0,n,r){return new Promise((s,i)=>{let o=0;const a=()=>{if(t()){s();return}o++;const l=e(o);if(n!=null&&o>=n){i();return}r!=null?r(a,l):setTimeout(a,l)};a()})}function dK(t,e){let n=1,r=-1;for(let i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(t[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(t[i]<0)throw Error(`Shapes can not be < 0. Found ${t[i]} at dim ${i}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const s=t.slice();return s[r]=e/n,s}function _f(t,e){const n=e.length;return t=t==null?e.map((r,s)=>s):[].concat(t),A(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),A(t.every(r=>zl(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function tI(t,e){const n=[],r=[],s=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||s?null:_f(e,t).sort();let o=0;for(let a=0;a<t.length;++a){if(i!=null){if(i[o]===a&&t[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${t[a]}' is not 1`);(i[o]==null||i[o]>a)&&t[a]===1&&(n.push(t[a]),r.push(a)),i[o]<=a&&o++}t[a]!==1&&(n.push(t[a]),r.push(a))}return{newShape:n,keptDims:r}}function nI(t,e){return Rw(t,e)}function Rw(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function rI(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function sI(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function hK(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function tp(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function iI(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function bi(t){return typeof t=="string"||t instanceof String}function oI(t){return typeof t=="boolean"}function aI(t){return typeof t=="number"}function Tf(t){return Array.isArray(t)?Tf(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":aI(t)?"float32":bi(t)?"string":oI(t)?"bool":"float32"}function Ui(t){return!!(t&&t.constructor&&t.call&&t.apply)}function np(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function ou(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function lI(t,e,n,r=!1){const s=new Array;if(e.length===1){const i=e[0]*(r?2:1);for(let o=0;o<i;o++)s[o]=n[t+o]}else{const i=e[0],o=e.slice(1),a=o.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<i;l++)s[l]=lI(t+l*a,o,n,r)}return s}function Go(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((s,i)=>s*i)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return lI(0,t,e,n)}function pK(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function Fw(t,e){const n=nm(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function nm(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function mK(t,e){const n=t.reduce((r,s)=>r*s,1);if(e==null||e==="float32")return Go(t,new Float32Array(n));if(e==="int32")return Go(t,new Int32Array(n));if(e==="bool")return Go(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function bn(t){t.forEach(e=>{A(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function gK(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=n[s]*t[s];return r}function yK(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(t/n[s]),t-=r[s]*n[s];return r[r.length-1]=t,r}function Wi(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QT="tfjsflags";class uI{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=vK,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(te().getBool("IS_TEST")||te().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const s=this.urlFlags[e];te().getBool("IS_TEST")||te().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${s}.`),this.set(e,s)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Wi(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);QT in e&&e[QT].split(",").forEach(r=>{const[s,i]=r.split(":");this.urlFlags[s]=bK(s,i)})}}function vK(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(wK(e,r[0],r[1]),r.join("="))),e}function wK(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function bK(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function te(){return Mw}let Mw=null;function xK(t){Mw=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Ig;function cI(){if(Ig==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");Ig=t}return Ig}function SK(){const t=cI();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function Lw(t,e){const n=SK();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const fI="Abs",dI="Acos",hI="Acosh",Bw="Add",pI="AddN",mI="All",gI="Any",yI="ArgMax",vI="ArgMin",wI="Asin",bI="Asinh",xI="Atan",SI="Atanh",_I="Atan2",TI="AvgPool",_K="AvgPoolGrad",EI="AvgPool3D",TK="AvgPool3DGrad",NI="BatchMatMul",kI="BatchToSpaceND",AI="Bincount",CI="BitwiseAnd",EK="BroadcastTo",PI="BroadcastArgs",jw="Cast",$I="Ceil",II="ClipByValue",OI="Complex",DI="ComplexAbs",RI="Concat",FI="Conv2D",MI="Conv2DBackpropFilter",LI="Conv2DBackpropInput",BI="Conv3D",NK="Conv3DBackpropFilterV2",jI="Conv3DBackpropInputV2",zI="Cos",VI="Cosh",UI="Cumprod",WI="Cumsum",HI="CropAndResize",GI="DenseBincount",KI="DepthToSpace",qI="DepthwiseConv2dNative",YI="DepthwiseConv2dNativeBackpropFilter",XI="DepthwiseConv2dNativeBackpropInput",QI="Diag",ZI="Dilation2D",kK="Dilation2DBackpropInput",AK="Dilation2DBackpropFilter",zw="Draw",JI="RealDiv",eO="Einsum",tO="Elu",CK="EluGrad",nO="Erf",rO="Equal",sO="Exp",iO="ExpandDims",oO="Expm1",aO="FFT",lO="Fill",uO="FlipLeftRight",cO="Floor",fO="FloorDiv",dO="FusedBatchNorm",hO="GatherV2",pO="GatherNd",mO="Greater",gO="GreaterEqual",Vw="Identity",yO="IFFT",vO="Imag",wO="IsFinite",bO="IsInf",xO="IsNan",SO="LeakyRelu",_O="Less",TO="LessEqual",EO="LinSpace",NO="Log",kO="Log1p",AO="LogicalAnd",CO="LogicalNot",PO="LogicalOr",PK="LogicalXor",$K="LogSoftmax",IK="LowerBound",$O="LRN",OK="LRNGrad",DK="MatrixBandPart",IO="Max",OO="Maximum",DO="MaxPool",RK="MaxPoolGrad",RO="MaxPool3D",FK="MaxPool3DGrad",FO="MaxPoolWithArgmax",MO="Mean",LO="Min",BO="Minimum",jO="MirrorPad",zO="Mod",VO="Multinomial",UO="Multiply",WO="Neg",HO="NotEqual",GO="NonMaxSuppressionV3",KO="NonMaxSuppressionV4",qO="NonMaxSuppressionV5",YO="OnesLike",XO="OneHot",QO="Pack",ZO="PadV2",MK="Pool",JO="Pow",eD="Prelu",tD="Prod",nD="RaggedGather",rD="RaggedRange",sD="RaggedTensorToTensor",iD="Range",oD="Real",aD="Reciprocal",lD="Relu",uD="Reshape",cD="ResizeNearestNeighbor",LK="ResizeNearestNeighborGrad",fD="ResizeBilinear",BK="ResizeBilinearGrad",dD="Relu6",hD="Reverse",pD="Round",mD="Rsqrt",gD="ScatterNd",yD="TensorScatterUpdate",vD="SearchSorted",wD="Select",bD="Selu",xD="Slice",SD="Sin",_D="Sinh",TD="Sign",ED="Sigmoid",ND="Softplus",kD="Sqrt",AD="Sum",CD="SpaceToBatchND",PD="SplitV",$D="Softmax",ID="SparseFillEmptyRows",OD="SparseReshape",DD="SparseSegmentMean",RD="SparseSegmentSum",FD="SparseToDense",MD="SquaredDifference",jK="Square",LD="StaticRegexReplace",BD="StridedSlice",jD="StringNGrams",zD="StringSplit",VD="StringToHashBucketFast",UD="Sub",WD="Tan",HD="Tanh",Uw="Tile",GD="TopK",KD="Transform",th="Transpose",qD="Unique",YD="Unpack",XD="UnsortedSegmentSum",zK="UpperBound",QD="ZerosLike",ZD="Step",z0="FromPixels",JD="RotateWithOffset",V0="_FusedMatMul",U0="FusedConv2D",W0="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ai(...t){te().getBool("IS_TEST")||te().getBool("PROD")||console.warn(...t)}function VK(...t){te().getBool("IS_TEST")||te().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vl=Lw("kernelRegistry",()=>new Map),Wc=Lw("gradRegistry",()=>new Map);function Hc(t,e){const n=Ww(t,e);return Vl.get(n)}function H0(t){return Wc.get(t)}function rp(t){const e=Vl.entries(),n=[];for(;;){const{done:r,value:s}=e.next();if(r)break;const[i,o]=s,[a]=i.split("_");a===t&&n.push(o)}return n}function eR(t){const{kernelName:e,backendName:n}=t,r=Ww(e,n);Vl.has(r)&&ai(`The kernel '${e}' for backend '${n}' is already registered`),Vl.set(r,t)}function UK(t){const{kernelName:e}=t;Wc.has(e)&&te().getBool("DEBUG")&&ai(`Overriding the gradient for '${e}'`),Wc.set(e,t)}function WK(t,e){const n=Ww(t,e);if(!Vl.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);Vl.delete(n)}function HK(t){if(!Wc.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);Wc.delete(t)}function GK(t,e){rp(t).forEach(r=>{const s=Object.assign({},r,{backendName:e});eR(s)})}function Ww(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tR(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var nR=$e,nr=null;try{nr=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function $e(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}$e.prototype.__isLong__;Object.defineProperty($e.prototype,"__isLong__",{value:!0});function xn(t){return(t&&t.__isLong__)===!0}$e.isLong=xn;var ZT={},JT={};function pa(t,e){var n,r,s;return e?(t>>>=0,(s=0<=t&&t<256)&&(r=JT[t],r)?r:(n=Ie(t,(t|0)<0?-1:0,!0),s&&(JT[t]=n),n)):(t|=0,(s=-128<=t&&t<128)&&(r=ZT[t],r)?r:(n=Ie(t,t<0?-1:0,!1),s&&(ZT[t]=n),n))}$e.fromInt=pa;function rr(t,e){if(isNaN(t))return e?Ao:sr;if(e){if(t<0)return Ao;if(t>=rR)return oR}else{if(t<=-tE)return ln;if(t+1>=tE)return iR}return t<0?rr(-t,e).neg():Ie(t%Ul|0,t/Ul|0,e)}$e.fromNumber=rr;function Ie(t,e,n){return new $e(t,e,n)}$e.fromBits=Ie;var sp=Math.pow;function Hw(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return sr;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Hw(t.substring(1),e,n).neg();for(var s=rr(sp(n,8)),i=sr,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+a),n);if(a<8){var u=rr(sp(n,a));i=i.mul(u).add(rr(l))}else i=i.mul(s),i=i.add(rr(l))}return i.unsigned=e,i}$e.fromString=Hw;function Lr(t,e){return typeof t=="number"?rr(t,e):typeof t=="string"?Hw(t,e):Ie(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}$e.fromValue=Lr;var eE=65536,KK=1<<24,Ul=eE*eE,rR=Ul*Ul,tE=rR/2,nE=pa(KK),sr=pa(0);$e.ZERO=sr;var Ao=pa(0,!0);$e.UZERO=Ao;var qa=pa(1);$e.ONE=qa;var sR=pa(1,!0);$e.UONE=sR;var G0=pa(-1);$e.NEG_ONE=G0;var iR=Ie(-1,2147483647,!1);$e.MAX_VALUE=iR;var oR=Ie(-1,-1,!0);$e.MAX_UNSIGNED_VALUE=oR;var ln=Ie(0,-2147483648,!1);$e.MIN_VALUE=ln;var q=$e.prototype;q.toInt=function(){return this.unsigned?this.low>>>0:this.low};q.toNumber=function(){return this.unsigned?(this.high>>>0)*Ul+(this.low>>>0):this.high*Ul+(this.low>>>0)};q.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(ln)){var n=rr(e),r=this.div(n),s=r.mul(n).sub(this);return r.toString(e)+s.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=rr(sp(e,6),this.unsigned),o=this,a="";;){var l=o.div(i),u=o.sub(l.mul(i)).toInt()>>>0,c=u.toString(e);if(o=l,o.isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}};q.getHighBits=function(){return this.high};q.getHighBitsUnsigned=function(){return this.high>>>0};q.getLowBits=function(){return this.low};q.getLowBitsUnsigned=function(){return this.low>>>0};q.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ln)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};q.isZero=function(){return this.high===0&&this.low===0};q.eqz=q.isZero;q.isNegative=function(){return!this.unsigned&&this.high<0};q.isPositive=function(){return this.unsigned||this.high>=0};q.isOdd=function(){return(this.low&1)===1};q.isEven=function(){return(this.low&1)===0};q.equals=function(e){return xn(e)||(e=Lr(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};q.eq=q.equals;q.notEquals=function(e){return!this.eq(e)};q.neq=q.notEquals;q.ne=q.notEquals;q.lessThan=function(e){return this.comp(e)<0};q.lt=q.lessThan;q.lessThanOrEqual=function(e){return this.comp(e)<=0};q.lte=q.lessThanOrEqual;q.le=q.lessThanOrEqual;q.greaterThan=function(e){return this.comp(e)>0};q.gt=q.greaterThan;q.greaterThanOrEqual=function(e){return this.comp(e)>=0};q.gte=q.greaterThanOrEqual;q.ge=q.greaterThanOrEqual;q.compare=function(e){if(xn(e)||(e=Lr(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};q.comp=q.compare;q.negate=function(){return!this.unsigned&&this.eq(ln)?ln:this.not().add(qa)};q.neg=q.negate;q.add=function(e){xn(e)||(e=Lr(e));var n=this.high>>>16,r=this.high&65535,s=this.low>>>16,i=this.low&65535,o=e.high>>>16,a=e.high&65535,l=e.low>>>16,u=e.low&65535,c=0,f=0,d=0,h=0;return h+=i+u,d+=h>>>16,h&=65535,d+=s+l,f+=d>>>16,d&=65535,f+=r+a,c+=f>>>16,f&=65535,c+=n+o,c&=65535,Ie(d<<16|h,c<<16|f,this.unsigned)};q.subtract=function(e){return xn(e)||(e=Lr(e)),this.add(e.neg())};q.sub=q.subtract;q.multiply=function(e){if(this.isZero())return sr;if(xn(e)||(e=Lr(e)),nr){var n=nr.mul(this.low,this.high,e.low,e.high);return Ie(n,nr.get_high(),this.unsigned)}if(e.isZero())return sr;if(this.eq(ln))return e.isOdd()?ln:sr;if(e.eq(ln))return this.isOdd()?ln:sr;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(nE)&&e.lt(nE))return rr(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,s=this.high&65535,i=this.low>>>16,o=this.low&65535,a=e.high>>>16,l=e.high&65535,u=e.low>>>16,c=e.low&65535,f=0,d=0,h=0,m=0;return m+=o*c,h+=m>>>16,m&=65535,h+=i*c,d+=h>>>16,h&=65535,h+=o*u,d+=h>>>16,h&=65535,d+=s*c,f+=d>>>16,d&=65535,d+=i*u,f+=d>>>16,d&=65535,d+=o*l,f+=d>>>16,d&=65535,f+=r*c+s*u+i*l+o*a,f&=65535,Ie(h<<16|m,f<<16|d,this.unsigned)};q.mul=q.multiply;q.divide=function(e){if(xn(e)||(e=Lr(e)),e.isZero())throw Error("division by zero");if(nr){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?nr.div_u:nr.div_s)(this.low,this.high,e.low,e.high);return Ie(n,nr.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ao:sr;var r,s,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ao;if(e.gt(this.shru(1)))return sR;i=Ao}else{if(this.eq(ln)){if(e.eq(qa)||e.eq(G0))return ln;if(e.eq(ln))return qa;var o=this.shr(1);return r=o.div(e).shl(1),r.eq(sr)?e.isNegative()?qa:G0:(s=this.sub(e.mul(r)),i=r.add(s.div(e)),i)}else if(e.eq(ln))return this.unsigned?Ao:sr;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=sr}for(s=this;s.gte(e);){r=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),l=a<=48?1:sp(2,a-48),u=rr(r),c=u.mul(e);c.isNegative()||c.gt(s);)r-=l,u=rr(r,this.unsigned),c=u.mul(e);u.isZero()&&(u=qa),i=i.add(u),s=s.sub(c)}return i};q.div=q.divide;q.modulo=function(e){if(xn(e)||(e=Lr(e)),nr){var n=(this.unsigned?nr.rem_u:nr.rem_s)(this.low,this.high,e.low,e.high);return Ie(n,nr.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};q.mod=q.modulo;q.rem=q.modulo;q.not=function(){return Ie(~this.low,~this.high,this.unsigned)};q.and=function(e){return xn(e)||(e=Lr(e)),Ie(this.low&e.low,this.high&e.high,this.unsigned)};q.or=function(e){return xn(e)||(e=Lr(e)),Ie(this.low|e.low,this.high|e.high,this.unsigned)};q.xor=function(e){return xn(e)||(e=Lr(e)),Ie(this.low^e.low,this.high^e.high,this.unsigned)};q.shiftLeft=function(e){return xn(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ie(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ie(0,this.low<<e-32,this.unsigned)};q.shl=q.shiftLeft;q.shiftRight=function(e){return xn(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ie(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ie(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};q.shr=q.shiftRight;q.shiftRightUnsigned=function(e){if(xn(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return Ie(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Ie(n,0,this.unsigned):Ie(n>>>e-32,0,this.unsigned)};q.shru=q.shiftRightUnsigned;q.shr_u=q.shiftRightUnsigned;q.toSigned=function(){return this.unsigned?Ie(this.low,this.high,!1):this};q.toUnsigned=function(){return this.unsigned?this:Ie(this.low,this.high,!0)};q.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};q.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};q.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};$e.fromBytes=function(e,n,r){return r?$e.fromBytesLE(e,n):$e.fromBytesBE(e,n)};$e.fromBytesLE=function(e,n){return new $e(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};$e.fromBytesBE=function(e,n){return new $e(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const aR=xv(nR),qK=XE({__proto__:null,default:aR},[nR]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vo=aR||qK;function Ef(t){return vo.fromString(t,!0,16)}const lR=Ef("c3a5c85c97cb3127"),yo=Ef("b492b66fbe98f273"),Dt=Ef("9ae16a3b2f90404f");function K0(t){return t.xor(t.shru(47))}function uR(t,e,n){const r=t.slice(e,e+n);return vo.fromBytes(Array.from(r),!0,!0)}function Ae(t,e){return uR(t,e,8)}function rE(t,e){return uR(t,e,4)}function dt(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Oi(t,e,n=Ef("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let s=e.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function YK(t,e,n,r,s,i){s=s.add(t),i=dt(i.add(s).add(r),21);const o=s;return s=s.add(e),s=s.add(n),i=i.add(dt(s,44)),[s.add(r),i.add(o)]}function yd(t,e,n,r){return YK(Ae(t,e),Ae(t,e+8),Ae(t,e+16),Ae(t,e+24),n,r)}function XK(t,e=t.length){if(e>=8){const n=Dt.add(e*2),r=Ae(t,0).add(Dt),s=Ae(t,e-8),i=dt(s,37).mul(n).add(r),o=dt(r,25).add(s).mul(n);return Oi(i,o,n)}if(e>=4){const n=Dt.add(e*2),r=rE(t,0);return Oi(r.shl(3).add(e),rE(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],s=t[e-1],i=n+(r<<8),o=e+(s<<2);return K0(Dt.mul(i).xor(lR.mul(o))).mul(Dt)}return Dt}function QK(t,e=t.length){const n=Dt.add(e*2),r=Ae(t,0).mul(yo),s=Ae(t,8),i=Ae(t,e-8).mul(n),o=Ae(t,e-16).mul(Dt);return Oi(dt(r.add(s),43).add(dt(i,30)).add(o),r.add(dt(s.add(Dt),18)).add(i),n)}function ZK(t,e=t.length){const n=Dt.add(e*2),r=Ae(t,0).mul(Dt),s=Ae(t,8),i=Ae(t,e-8).mul(n),o=Ae(t,e-16).mul(Dt),a=dt(r.add(s),43).add(dt(i,30)).add(o),l=Oi(a,r.add(dt(s.add(Dt),18)).add(i),n),u=Ae(t,16).mul(n),c=Ae(t,24),f=a.add(Ae(t,e-32)).mul(n),d=l.add(Ae(t,e-24)).mul(n);return Oi(dt(u.add(c),43).add(dt(f,30)).add(d),u.add(dt(c.add(r),18)).add(f),n)}function JK(t,e=t.length){const n=vo.fromNumber(81,!0);if(e<=32)return e<=16?XK(t,e):QK(t,e);if(e<=64)return ZK(t,e);let r=n,s=n.mul(yo).add(113),i=K0(s.mul(Dt).add(113)).mul(Dt),o=[vo.UZERO,vo.UZERO],a=[vo.UZERO,vo.UZERO];r=r.mul(Dt).add(Ae(t,0));let l=0;const u=(e-1>>6)*64,c=u+(e-1&63)-63;do r=dt(r.add(s).add(o[0]).add(Ae(t,l+8)),37).mul(yo),s=dt(s.add(o[1]).add(Ae(t,l+48)),42).mul(yo),r=r.xor(a[1]),s=s.add(o[0]).add(Ae(t,l+40)),i=dt(i.add(a[0]),33).mul(yo),o=yd(t,l,o[1].mul(yo),r.add(a[0])),a=yd(t,l+32,i.add(a[1]),s.add(Ae(t,l+16))),[i,r]=[r,i],l+=64;while(l!==u);const f=yo.add(i.and(255).shl(1));return l=c,a[0]=a[0].add(e-1&63),o[0]=o[0].add(a[0]),a[0]=a[0].add(o[0]),r=dt(r.add(s).add(o[0]).add(Ae(t,l+8)),37).mul(f),s=dt(s.add(o[1]).add(Ae(t,l+48)),42).mul(f),r=r.xor(a[1].mul(9)),s=s.add(o[0].mul(9).add(Ae(t,l+40))),i=dt(i.add(a[0]),33).mul(f),o=yd(t,l,o[1].mul(f),r.add(a[0])),a=yd(t,l+32,i.add(a[1]),s.add(Ae(t,l+16))),[i,r]=[r,i],Oi(Oi(o[0],a[0],f).add(K0(s).mul(lR)).add(i),Oi(o[1],a[1],f).add(r),f)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eq(t,e){return e==="string"?Nf(t):rm([t],e)}function tq(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function rm(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Hi(t)),te().getBool("DEBUG")&&rI(t,e),tq(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function Gc(){return te().platform.now()}function nq(t,e){return te().platform.fetch(t,e)}function Nf(t,e="utf-8"){return e=e||"utf-8",te().platform.encode(t,e)}function ip(t,e="utf-8"){return e=e||"utf-8",te().platform.decode(t,e)}function ht(t){return te().platform.isTypedArray!=null?te().platform.isTypedArray(t):tR(t)}function Hi(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Wi(t)||t==null||ht(t)&&n)e.push(t);else if(Array.isArray(t)||ht(t))for(let r=0;r<t.length;++r)Hi(t[r],e,n);else{let r=-1;for(const s of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(s)&&(r=Math.max(r,Number(s)));for(let s=0;s<=r;s++)Hi(t[s],e,n)}return e}const rq=Object.freeze(Object.defineProperty({__proto__:null,arraysEqual:Mr,arraysEqualWithNull:eI,assert:A,assertNonNegativeIntegerDimensions:bn,assertNonNull:ha,assertShapesMatch:zt,bytesFromStringArray:iI,bytesPerElement:tp,checkConversionForErrors:rI,clamp:Uc,computeStrides:ou,convertBackendValuesAndArrayBuffer:pK,createScalarValue:eq,createShuffledIndices:cK,decodeString:ip,distSquared:oK,encodeString:Nf,fetch:nq,fingerPrint64:JK,flatten:Hi,getArrayFromDType:Rw,getTypedArrayFromDType:nI,hasEncodingLoss:hK,hexToLong:Ef,indexToLoc:yK,inferDtype:Tf,inferFromImplicitShape:dK,isBoolean:oI,isFunction:Ui,isInt:zl,isNumber:aI,isPromise:Wi,isScalarShape:aK,isString:bi,isTypedArray:ht,isValidDtype:sI,locToIndex:gK,makeOnesTypedArray:Fw,makeZerosNestedTypedArray:mK,makeZerosTypedArray:nm,nearestDivisor:np,nearestLargerEven:rK,now:Gc,parseAxisParam:_f,randUniform:iK,repeatedTry:fK,rightPad:ic,shuffle:J$,shuffleCombo:nK,sizeFromShape:xe,sizeToSquarishShape:uK,squeezeShape:tI,sum:sK,swap:ep,tanh:lK,toNestedArray:Go,toTypedArray:rm},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sq{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new oq)}profileKernel(e,n,r){let s;const i=()=>{s=r()};let o;const a=Gc();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(i);else{i();for(const u of s)u.dataSync();o=Promise.resolve({kernelMs:Gc()-a})}if(te().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<s.length;u++){const c=s[u];c.data().then(f=>{iq(f,c.dtype,e)})}return{kernelName:e,outputs:s,inputs:n,timeMs:o.then(u=>u.kernelMs),extraInfo:o.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:s,inputs:i,extraInfo:o}=e;r.forEach(a=>{Promise.all([a.data(),s,o]).then(l=>{this.logger.logKernelProfile(n,a,l[0],l[1],i,l[2])})})}}function iq(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const s=t[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class oq{logKernelProfile(e,n,r,s,i,o){const a=typeof s=="number"?ic(`${s}ms`,9):s.error,l=ic(e,25),u=n.rank,c=n.size,f=ic(n.shape.toString(),14);let d="";for(const h in i){const m=i[h];if(m!=null){const p=m.shape||n.shape,g=p.length;d+=`${h}: ${g}D ${g>0?p:""} `}}console.log(`%c${l}	%c${a}	%c${u}D ${f}	%c${c}	%c${d}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aq(t,e,n){const r={},s={};for(let l=0;l<e.length;l++)r[e[l].id]=!0;for(let l=0;l<t.length;l++){const u=t[l],c=u.inputs;for(const f in c){const d=c[f];let h=!1;for(let m=0;m<e.length;m++)if(r[d.id]){u.outputs.forEach(p=>r[p.id]=!0),h=!0,s[u.id]=!0;break}if(h)break}}const i={};i[n.id]=!0;const o={};for(let l=t.length-1;l>=0;l--){const u=t[l],c=u.inputs;for(let f=0;f<u.outputs.length;f++)if(i[u.outputs[f].id]){for(const d in c)i[c[d].id]=!0,o[u.id]=!0;break}}const a=[];for(let l=0;l<t.length;l++){const u=t[l];if(s[u.id]&&o[u.id]){const c={};for(const d in u.inputs){const h=u.inputs[d];r[h.id]&&(c[d]=h)}const f=Object.assign({},u);f.inputs=c,f.outputs=u.outputs,a.push(f)}}return a}function lq(t,e,n,r){for(let s=e.length-1;s>=0;s--){const i=e[s],o=[];if(i.outputs.forEach(l=>{const u=t[l.id];u!=null?o.push(u):o.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const a=i.gradient(o);for(const l in i.inputs){if(!(l in a))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(a)}.`);const u=n(()=>a[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=i.inputs[l];if(!Mr(u.shape,c.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(t[c.id]==null)t[c.id]=u;else{const f=t[c.id];t[c.id]=r(f,u),f.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sE=20,Eu=3,Og=7;function uq(t,e,n,r){const s=ou(e),i=cq(t,e,n,s),o=e.length,a=nh(t,e,n,s,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${o}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(a.map(u=>"    "+u).join(`
`)),l.join(`
`)}function cq(t,e,n,r){const s=xe(e),i=r[r.length-1],o=new Array(i).fill(0),a=e.length,l=n==="complex64"?Fu(t):t;if(a>1)for(let u=0;u<s/i;u++){const c=u*i;for(let f=0;f<i;f++)o[f]=Math.max(o[f],Ru(l[c+f],0,n).length)}return o}function Ru(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(Og))} + ${parseFloat(t[1].toFixed(Og))}j`:bi(t)?r=`'${t}'`:n==="bool"?r=cR(t):r=parseFloat(t.toFixed(Og)).toString(),ic(r,e)}function cR(t){return t===0?"false":"true"}function nh(t,e,n,r,s,i=!0){const o=n==="complex64"?2:1,a=e[0],l=e.length;if(l===0){if(n==="complex64"){const p=Fu(t);return[Ru(p[0],0,n)]}return n==="bool"?[cR(t[0])]:[t[0].toString()]}if(l===1){if(a>sE){const g=Eu*o;let y=Array.from(t.slice(0,g)),v=Array.from(t.slice((a-Eu)*o,a*o));return n==="complex64"&&(y=Fu(y),v=Fu(v)),["["+y.map((w,x)=>Ru(w,s[x],n)).join(", ")+", ..., "+v.map((w,x)=>Ru(w,s[a-Eu+x],n)).join(", ")+"]"]}return["["+(n==="complex64"?Fu(t):Array.from(t)).map((g,y)=>Ru(g,s[y],n)).join(", ")+"]"]}const u=e.slice(1),c=r.slice(1),f=r[0]*o,d=[];if(a>sE){for(let p=0;p<Eu;p++){const g=p*f,y=g+f;d.push(...nh(t.slice(g,y),u,n,c,s,!1))}d.push("...");for(let p=a-Eu;p<a;p++){const g=p*f,y=g+f;d.push(...nh(t.slice(g,y),u,n,c,s,p===a-1))}}else for(let p=0;p<a;p++){const g=p*f,y=g+f;d.push(...nh(t.slice(g,y),u,n,c,s,p===a-1))}const h=l===2?",":"";d[0]="["+(a>0?d[0]+h:"");for(let p=1;p<d.length-1;p++)d[p]=" "+d[p]+h;let m=`,
`;for(let p=2;p<l;p++)m+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(i?"":m),d}function Fu(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class op{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=xe(e),r!=null){const s=r.length;A(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Rw(n,this.size),this.strides=ou(e)}set(e,...n){n.length===0&&(n=[0]),A(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const s of e){if(s<0||s>=this.shape[n]){const i=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=this.strides[s]*e[s];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Nr().makeTensor(this.values,this.shape,this.dtype)}}let Nr=null,Na=null;function fq(t){Nr=t}function dq(t){Na=t}class Fe{constructor(e,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=xe(e),this.strides=ou(e),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Na.buffer(this.shape,this.dtype,e)}bufferSync(){return Na.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Go(this.shape,e,this.dtype==="complex64")}arraySync(){return Go(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Nr().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>ip(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Nr().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Nr().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>ip(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Nr().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Nr().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Na.print(this,e)}clone(){return this.throwIfDisposed(),Na.clone(this)}toString(e=!1){const n=this.dataSync();return uq(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Na.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Nr().makeVariable(this,e,n,r)}}Object.defineProperty(Fe,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function fR(){return Lw("Tensor",()=>Fe)}fR();class Kc extends Fe{constructor(e,n,r,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Mr(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Nr().disposeTensor(this),this.dataId=e.dataId,Nr().incRef(this,null)}dispose(){Nr().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(Kc,Symbol.hasInstance,{value:t=>t instanceof Fe&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var q0;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(q0||(q0={}));var Y0;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(Y0||(Y0={}));var X0;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(X0||(X0={}));var Q0;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(Q0||(Q0={}));var Z0;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(Z0||(Z0={}));const hq={float32:Q0,int32:Y0,bool:X0,complex64:Z0};function sm(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return hq[t][e]}function pq(t){return sm(t,"int32")}function dR(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function hR(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ue(t,e){if(t.dtype===e.dtype)return[t,e];const n=sm(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function pR(t,e){A(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function mq(t,e){return e.some(n=>n.id===t.id)}function Gw(t){const e=[];return mR(t,e,new Set),e}function mR(t,e,n){if(t==null)return;if(t instanceof Fe){e.push(t);return}if(!gq(t))return;const r=t;for(const s in r){const i=r[s];n.has(i)||(n.add(i),mR(i,e,n))}}function gq(t){return Array.isArray(t)||typeof t=="object"}const yq=Object.freeze(Object.defineProperty({__proto__:null,assertTypesMatch:pR,getTensorsInContainer:Gw,isTensorInList:mq,makeTypesMatch:Ue},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dg(t){return t.kernelName!=null}class iE{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Wl{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new iE}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(ai(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new sq(this.backendInstance),!0}setupRegisteredKernels(){rp(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){rp(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof Z$)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,i=r.then(o=>s<this.pendingBackendInitId?!1:(this.registry[e]=o,this.pendingBackendInit=null,!0)).catch(o=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,ai(`Initialization of backend ${e} failed`),ai(o.stack||o.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return ai(`Initialization of backend ${e} failed`),ai(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:s,asyncInit:i}=this.initializeBackend(r);if(i||s)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),s=r.backend,i=this.readSync(n),o=s.refCount(n);s.disposeData(n,!0),r.backend=e,e.move(n,i,r.shape,r.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(e,n,r){e();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return Wl.nextTensorId++}nextVariableId(){return Wl.nextVariableId++}clone(e){const n=I.runKernel(Vw,{x:e}),r={x:e},s=o=>({x:()=>{const a="float32",l={x:o},u={dtype:a};return I.runKernel(jw,l,u)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,i,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(Hc(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const s=this.backend.numDataIds();let i=0;r.forEach(l=>{i+=l.dtype==="complex64"?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=s-n-i-o;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const s=this.isTapeOn(),i=this.state.numBytes,o=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let l;const u=Dg(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Dg(e)){const{kernelName:m,inputs:p,attrs:g}=e;this.backendName==null&&this.backend;const y=Hc(m,this.backendName);A(y!=null,()=>`Cannot find registered kernel '${m}' for backend '${this.backendName}'`),a=()=>{const v=this.backend.numDataIds();l=y.kernelFunc({inputs:p,attrs:g,backend:this.backend});const w=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(m,v,w);const x=w.map(S=>S.rank!=null?S:this.makeTensorFromTensorInfo(S));if(s){const S=this.getTensorsForGradient(m,p,x);r=this.saveTensorsForBackwardMode(S)}return x}}else{const{forwardFunc:m}=e,p=g=>{s&&(r=g.map(y=>this.keep(this.clone(y))))};a=()=>{const g=this.backend.numDataIds();l=this.tidy(()=>m(this.backend,p));const y=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,g,y),y}}const{inputs:c,attrs:f}=e,d=Dg(e)?null:e.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(h=this.profiler.profileKernel(u,c,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),s&&this.addTapeNode(u,c,n,d,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(m=>c[m]!=null?c[m].shape:null),outputShapes:n.map(m=>m.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const s=H0(e);if(s!=null){const i=s.inputsToSave||[],o=s.outputsToSave||[];let a;s.saveAllInputs?(A(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(u=>n[u])):a=i.map(u=>n[u]);const l=r.filter((u,c)=>o[c]);return a.concat(l)}return[]}makeTensor(e,n,r,s){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let i=e;r==="string"&&bi(e[0])&&(i=e.map(l=>Nf(l)));const o=s.write(i,n,r),a=new Fe(n,r,o,this.nextTensorId());if(this.trackTensor(a,s),r==="string"){const l=this.state.tensorInfo.get(o),u=iI(i);this.state.numBytes+=u-l.bytes,l.bytes=u}return a}makeTensorFromDataId(e,n,r,s){r=r||"float32";const i={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,s)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:s,dtype:i}=e,o=new Fe(s,i,r,this.nextTensorId());return this.trackTensor(o,n),o}makeVariable(e,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==e.dtype&&(e=e.cast(s));const i=new Kc(e,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*tp(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof Kc||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*tp(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,s,i,o){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:i},l=H0(e);l!=null&&(s=l.gradFunc),s!=null&&(a.gradient=u=>(u=u.map((c,f)=>{if(c==null){const d=r[f],h=nm(d.size,d.dtype);return this.makeTensor(h,d.shape,d.dtype)}return c}),s(u.length>1?u:u[0],i,o))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=Gw(e),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const o=this.state.activeScope.track[i];!o.kept&&!r.has(o.id)&&o.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===s.id&&this.track(i)})}gradients(e,n,r,s=!1){if(A(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));A(i instanceof Fe,()=>"The result y returned by f() must be a tensor.");const o=aq(this.state.activeTape,n,i);if(!s&&o.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[i.id]=r??vq(i.shape),lq(a,o,u=>this.tidy(u),wq);const l=n.map(u=>a[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:i,grads:l}})}customGrad(e){return A(Ui(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{A(n.every(a=>a instanceof Fe),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((a,l)=>{s[l]=a});const i=(a,l)=>(r=e(...n,l),A(r.value instanceof Fe,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),A(Ui(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),o=(a,l)=>{const u=r.gradFunc(a,l),c=Array.isArray(u)?u:[u];A(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),A(c.every(d=>d instanceof Fe),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const f={};return c.forEach((d,h)=>{f[h]=()=>d}),f};return this.runKernelFunc({forwardFunc:i,backwardsFunc:o,inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=Gc(),r=await this.backend.time(e);return r.wallMs=Gc()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new iE;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Wl.nextTensorId=0;Wl.nextVariableId=0;function vq(t){const e=Fw(xe(t),"float32");return I.makeTensor(e,t,"float32")}function gR(){const t=cI();if(t._tfengine==null){const e=new uI(t);t._tfengine=new Wl(e)}return xK(t._tfengine.ENV),fq(()=>t._tfengine),t._tfengine}const I=gR();function wq(t,e){const n={a:t,b:e};return I.runKernel(Bw,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bq(){return typeof navigator<"u"&&navigator!=null}let J0;function xq(t){J0=t}function Sq(t){if(J0!==void 0)return J0;if(t||bq()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function yR(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const _q=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:yR,isMobile:Sq,mockIsMobile:xq},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yt=te();Yt.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Yt.registerFlag("IS_BROWSER",()=>yR());Yt.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Yt.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Yt.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Yt.registerFlag("PROD",()=>!1);Yt.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Yt.getBool("DEBUG"));Yt.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Yt.registerFlag("IS_TEST",()=>!1);Yt.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Yt.getBool("DEBUG"));Yt.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Yt.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Yt.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function us(t,e){let n=t;if(ht(t))return e==="string"?[]:[t.length];if(dR(t)){const s=t.channels||"RGBA";return[t.height,t.width*s.length]}else if(hR(t))return[t.buffer.size/(e==null?4:tp(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||ht(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&te().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&vR(t,r,[]),r}function vR(t,e,n){if(n=n||[],!Array.isArray(t)&&!ht(t)){A(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}A(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),A(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let s=0;s<t.length;++s)vR(t[s],r,n.concat(s))}function oE(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function E(t,e,n,r="numeric"){if(t instanceof fR())return oE(r,t.dtype,e,n),t;let s=Tf(t);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),oE(r,s,e,n),t==null||!ht(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const i=us(t,s);!ht(t)&&!Array.isArray(t)&&(t=[t]);const a=s!=="string"?rm(t,s):Hi(t,[],!0);return I.makeTensor(a,i,s)}function qc(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((i,o)=>E(i,`${e}[${o}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kw="__op";function $(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+Kw;const s=(...i)=>{I.startScope(n);try{const o=r(...i);return Wi(o)&&console.error("Cannot return a Promise inside of tidy."),I.endScope(o),o}catch(o){throw I.endScope(null),o}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tq(t,e){const n=E(t,"real","complex"),r=E(e,"imag","complex");zt(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return I.runKernel(OI,s)}const Us=$({complex_:Tq});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function no(t,e,n,r){if(r==null)r=Tf(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(hR(t)||dR(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return I.backend.createTensorFromGPUData(t,e||n,r)}if(!ht(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){bn(e);const s=xe(e),i=xe(n);A(s===i,()=>`Based on the provided shape, [${e}], the tensor should have ${s} values but has ${i}`);for(let o=0;o<n.length;++o){const a=n[o],l=o===n.length-1?a!==xe(e.slice(o)):!0;A(n[o]===e[o]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!ht(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?rm(t,r):Hi(t,[],!0),I.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ar(t,e,n){const r=us(t,n);return no(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const na={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class Br{static join(e){return new Br(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>ht(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){const s=e[r];r!==e.length-1&&s.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const i=n+s.byteLength;this.shards.push({buffer:s,start:n,end:i}),n=i}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const s=n-e,i=new ArrayBuffer(s),o=new Uint8Array(i);let a=0;for(let l=r;l<this.shards.length;l++){const u=this.shards[l],f=e+a-u.start,d=a,m=Math.min(n,u.end)-u.start,p=new Uint8Array(u.buffer,f,m-f);if(o.set(p,d),a+=p.length,n<u.end)break}return i}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(s){return e<s.start?-1:e>=s.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=Eq(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function Eq(t,e){let n=0,r=t.length;for(;n<=r;){const s=Math.floor((r-n)/2)+n,i=e(t[s]);if(i===0)return s;i<0?r=s:n=s+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nq(){te().set("PROD",!0)}function kq(){te().set("DEBUG",!0)}function Aq(){te().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Cq(t){te().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Pq(){I.disposeVariables()}function qw(){return I}function $q(){return I.memory()}function Iq(t){return I.profile(t)}function re(t,e){return I.tidy(t,e)}function Bt(t){Gw(t).forEach(n=>n.dispose())}function Ar(t){return I.keep(t)}function Oq(t){return I.time(t)}function Dq(t){return I.setBackend(t)}function Rq(){return I.ready()}function Yw(){return I.backendName}function Fq(t){I.removeBackend(t)}function Mq(t){return I.findBackend(t)}function Lq(t){return I.findBackendFactory(t)}function Bq(t,e,n=1){return I.registerBackend(t,e,n)}function Xw(){return I.backend}function jq(t,e){te().setPlatform(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gi=4;async function zq(t,e){const n=[],r=[],s=Array.isArray(t)?t.map(o=>o.name):Object.keys(t);for(let o=0;o<s.length;++o){const a=s[o],l=Array.isArray(t)?t[o].tensor:t[a];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${l.dtype}`);const u={name:a,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async f=>{const d=await l.bytes(),h=d.reduce((g,y)=>g+y.length,0)+Gi*d.length,m=new Uint8Array(h);let p=0;for(let g=0;g<d.length;g++){const y=d[g],v=new Uint8Array(new Uint32Array([y.length]).buffer);m.set(v,p),p+=Gi,m.set(y,p),p+=y.length}f(m)});r.push(c)}else r.push(l.data());e!=null&&(u.group=e),n.push(u)}const i=await Promise.all(r);return{data:Wq(i),specs:n}}function wR(t,e){const n=new Br(t),r={};let s=0;for(const i of e){const o=Vq(i,(a,l)=>n.slice(s+a,s+l));r[i.name]=bR(i,n.slice(s,s+o)),s+=o}return r}function Vq(t,e){const n=xe(t.shape);let r;if("quantization"in t){const s=t.quantization;r=na[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=Gi+new Uint32Array(e(s,s+Gi))[0];return s}else r=na[t.dtype];return n*r}async function Uq(t,e){const n=xe(t.shape);let r;if("quantization"in t){const s=t.quantization;r=na[s.dtype]}else if(t.dtype==="string"){let s=0;for(let i=0;i<n;i++)s+=Gi+new Uint32Array(await e(s,s+Gi))[0];return s}else r=na[t.dtype];return n*r}function bR(t,e){const n=t.name,r=t.dtype,s=t.shape,i=xe(s);let o,a=0;if("quantization"in t){const l=t.quantization;if(l.dtype==="uint8"||l.dtype==="uint16"){if(!("min"in l&&"scale"in l))throw new Error(`Weight ${t.name} with quantization ${l.dtype} doesn't have corresponding metadata min and scale.`)}else if(l.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${t.name} is quantized with ${l.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${l.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const u=na[l.dtype],c=l.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(r==="float32")if(l.dtype==="uint8"||l.dtype==="uint16"){o=new Float32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];o[f]=d*l.scale+l.min}}else if(l.dtype==="float16")o=Qq()(c);else throw new Error(`Unsupported quantization type ${l.dtype} for weight type float32.`);else if(r==="int32"){if(l.dtype!=="uint8"&&l.dtype!=="uint16")throw new Error(`Unsupported quantization type ${l.dtype} for weight type int32.`);o=new Int32Array(c.length);for(let f=0;f<c.length;f++){const d=c[f];o[f]=Math.round(d*l.scale+l.min)}}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=i*u}else if(r==="string"){const l=xe(t.shape);o=[];for(let u=0;u<l;u++){const c=new Uint32Array(e.slice(a,a+Gi))[0];a+=Gi;const f=new Uint8Array(e.slice(a,a+c));o.push(f),a+=c}}else{const l=na[r];if(r==="float32")o=new Float32Array(e);else if(r==="int32")o=new Int32Array(e);else if(r==="bool")o=new Uint8Array(e);else if(r==="complex64"){o=new Float32Array(e);const u=new Float32Array(o.length/2),c=new Float32Array(o.length/2);for(let m=0;m<u.length;m++)u[m]=o[m*2],c[m]=o[m*2+1];const f=ar(u,s,"float32"),d=ar(c,s,"float32"),h=Us(f,d);return f.dispose(),d.dispose(),h}else throw new Error(`Unsupported dtype in weight '${n}': ${r}`);a+=i*l}return ar(o,s,r)}async function aE(t,e,n){let r=new Uint8Array(e);for(;r.byteLength<n;){const{done:s,value:i}=await t.read();if(s&&i==null){const a=n-r.byteLength;throw new Error(`Reader is done but ${a} bytes are still expected`)}const o=new Uint8Array(r.length+i.byteLength);o.set(r,0),o.set(new Uint8Array(i),r.length),r=o}return r.buffer}async function xR(t,e){const n={},r=t.getReader();let s=new ArrayBuffer(0);for(const i of e){const o=await Uq(i,async(u,c)=>(s=await aE(r,s,c),s.slice(u,c)));s=await aE(r,s,o);const a=s.slice(0,o);s=s.slice(o);const l=bR(i,a);if(n[i.name]=l,Yw()==="webgpu"){const u=Xw();"uploadToGPU"in u&&xe(l.shape)>=te().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&u.uploadToGPU(l.dataId)}}return n}function Wq(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(i=>{if(e+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(e);let s=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),s),s+=i.byteLength}),r.buffer}const Qw=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function lE(t){return Qw?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function Hq(t){if(Qw)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,s=e.length;r<s;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function Gq(t){if(Qw){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function Kq(t){return Br.join(t)}function uE(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function SR(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function _R(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function Zw(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),_R(t,n,r)}function kf(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:lE(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:lE(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new Br(t.weightData).byteLength}}function ev(t){const e=[];for(const n of t)e.push(...n.weights);return e}function qq(){const t=n=>{let r=n<<13,s=0;for(;!(r&8388608);)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function Yq(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function Xq(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Qq(){const t=qq(),e=Yq(),n=Xq();return r=>{const s=new ArrayBuffer(4*r.length),i=new Uint32Array(s);for(let o=0;o<r.length;o++){const a=r[o],l=t[n[a>>10]+(a&1023)]+e[a>>10];i[o]=l}return new Float32Array(s)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class je{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return je.instance==null&&(je.instance=new je),je.instance}static registerSaveRouter(e){je.getInstance().saveRouters.push(e)}static registerLoadRouter(e){je.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return je.getHandlers(e,"save")}static getLoadHandlers(e,n){return je.getHandlers(e,"load",n)}static getHandlers(e,n,r){const s=[];return(n==="load"?je.getInstance().loadRouters:je.getInstance().saveRouters).forEach(o=>{const a=o(e,r);a!==null&&s.push(a)}),s}}const Zq=t=>je.registerSaveRouter(t),Jq=t=>je.registerLoadRouter(t),eY=t=>je.getSaveHandlers(t),tY=(t,e)=>je.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tv="tensorflowjs",nv=1,Co="models_store",xi="model_info_store";function TR(){if(!te().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function rv(t){const e=t.result;e.createObjectStore(Co,{keyPath:"modelPath"}),e.createObjectStore(xi,{keyPath:"modelPath"})}class ra{constructor(e){if(this.indexedDB=TR(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,s)=>{const i=this.indexedDB.open(tv,nv);i.onupgradeneeded=()=>rv(i),i.onsuccess=()=>{const o=i.result;if(n==null){const a=o.transaction(Co,"readonly"),u=a.objectStore(Co).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return o.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=c=>(o.close(),s(u.error)),a.oncomplete=()=>o.close()}else{n.weightData=Br.join(n.weightData);const a=kf(n),l=o.transaction(xi,"readwrite");let u=l.objectStore(xi),c;try{c=u.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(d){return s(d)}let f;c.onsuccess=()=>{f=o.transaction(Co,"readwrite");const d=f.objectStore(Co);let h;try{h=d.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a})}catch(m){return s(m)}h.onsuccess=()=>r({modelArtifactsInfo:a}),h.onerror=m=>{u=l.objectStore(xi);const p=u.delete(this.modelPath);p.onsuccess=()=>(o.close(),s(h.error)),p.onerror=g=>(o.close(),s(h.error))}},c.onerror=d=>(o.close(),s(c.error)),l.oncomplete=()=>{f==null?o.close():f.oncomplete=()=>o.close()}}},i.onerror=o=>s(i.error)})}}ra.URL_SCHEME="indexeddb://";const ER=t=>te().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(ra.URL_SCHEME)?nY(t.slice(ra.URL_SCHEME.length)):null;je.registerSaveRouter(ER);je.registerLoadRouter(ER);function nY(t){return new ra(t)}function rY(t){return t.startsWith(ra.URL_SCHEME)?t.slice(ra.URL_SCHEME.length):t}class sY{constructor(){this.indexedDB=TR()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(tv,nv);r.onupgradeneeded=()=>rv(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(xi,"readonly"),a=i.objectStore(xi).getAll();a.onsuccess=()=>{const l={};for(const u of a.result)l[u.modelPath]=u.modelArtifactsInfo;e(l)},a.onerror=l=>(s.close(),n(a.error)),i.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(e){return e=rY(e),new Promise((n,r)=>{const s=this.indexedDB.open(tv,nv);s.onupgradeneeded=()=>rv(s),s.onsuccess=()=>{const i=s.result,o=i.transaction(xi,"readwrite"),a=o.objectStore(xi),l=a.get(e);let u;l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const c=a.delete(e),f=()=>{u=i.transaction(Co,"readwrite");const h=u.objectStore(Co).delete(e);h.onsuccess=()=>n(l.result.modelArtifactsInfo),h.onerror=m=>r(l.error)};c.onsuccess=f,c.onerror=d=>(f(),i.close(),r(l.error))}},l.onerror=c=>(i.close(),r(l.error)),o.oncomplete=()=>{u==null?i.close():u.oncomplete=()=>i.close()}},s.onerror=i=>r(s.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Es="/",ka="tensorflowjs_models",NR="info",iY="model_topology",oY="weight_specs",aY="weight_data",lY="model_metadata";function kR(t){return{info:[ka,t,NR].join(Es),topology:[ka,t,iY].join(Es),weightSpecs:[ka,t,oY].join(Es),weightData:[ka,t,aY].join(Es),modelMetadata:[ka,t,lY].join(Es)}}function AR(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function uY(t){const e=t.split(Es);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Es)}function cY(t){return t.startsWith(sa.URL_SCHEME)?t.slice(sa.URL_SCHEME.length):t}class sa{constructor(e){if(!te().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=kR(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),s=kf(e),i=Br.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Hq(i));const o={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:s}}catch{throw AR(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const a=JSON.parse(i);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.initializerSignature!=null&&(n.initializerSignature=a.initializerSignature),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(o==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=Gq(o),n}}sa.URL_SCHEME="localstorage://";const CR=t=>te().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(sa.URL_SCHEME)?fY(t.slice(sa.URL_SCHEME.length)):null;je.registerSaveRouter(CR);je.registerLoadRouter(CR);function fY(t){return new sa(t)}class dY{constructor(){A(te().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),A(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=ka+Es,r=Es+NR;for(let s=0;s<this.LS.length;++s){const i=this.LS.key(s);if(i.startsWith(n)&&i.endsWith(r)){const o=uY(i);e[o]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){e=cY(e);const n=kR(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return AR(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ll="://";class It{constructor(){this.managers={}}static getInstance(){return It.instance==null&&(It.instance=new It),It.instance}static registerManager(e,n){A(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(ll)&&(e=e.slice(0,e.indexOf(ll))),A(e.length>0,()=>"scheme must not be an empty string.");const r=It.getInstance();A(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=It.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(It.getInstance().managers)}}function rh(t){if(t.indexOf(ll)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${It.getSchemes().join(",")}`);return{scheme:t.split(ll)[0],path:t.split(ll)[1]}}async function PR(t,e,n=!1){A(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=je.getLoadHandlers(t);A(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),A(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const s=r[0],i=je.getSaveHandlers(e);A(i.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),A(i.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const o=i[0],a=rh(t).scheme,l=rh(t).path,u=a===rh(t).scheme,c=await s.load();n&&u&&await It.getManager(a).removeModel(l);const f=await o.save(c);return n&&!u&&await It.getManager(a).removeModel(l),f.modelArtifactsInfo}async function hY(){const t=It.getSchemes(),e={};for(const n of t){const r=await It.getManager(n).listModels();for(const s in r){const i=n+ll+s;e[i]=r[s]}}return e}async function pY(t){const e=rh(t);return It.getManager(e.scheme).removeModel(e.path)}async function mY(t,e){return PR(t,e,!1)}async function gY(t,e){return PR(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yY{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!te().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return tR(e)}}if(te().get("IS_BROWSER")){te().setPlatform("browser",new yY);try{It.registerManager(sa.URL_SCHEME,new dY)}catch{}try{It.registerManager(ra.URL_SCHEME,new sY)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vY={importFetch:()=>require("node-fetch")};let Rg;class wY{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return te().global.fetch!=null?te().global.fetch(e,n):(Rg==null&&(Rg=vY.importFetch()),Rg(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}te().get("IS_NODE")&&!te().get("IS_BROWSER")&&te().setPlatform("node",new wY);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cs(t,e="float32",n){return e=e||"float32",bn(t),new op(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bY(t,e){const n=E(t,"x","cast");if(!sI(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:e};return I.runKernel(jw,r,s)}const ye=$({cast_:bY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xY(t){const n={x:E(t,"x","clone","string_or_numeric")};return I.runKernel(Vw,n)}const Cs=$({clone_:xY});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jw(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */gR();const SY={buffer:cs,cast:ye,clone:Cs,print:Jw};dq(SY);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Y(t,e){let n=E(t,"a","add"),r=E(e,"b","add");[n,r]=Ue(n,r);const s={a:n,b:r};return I.runKernel(Bw,s)}const J=$({add_:_Y});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TY(t,e){let n=E(t,"a","floorDiv"),r=E(e,"b","floorDiv");[n,r]=Ue(n,r);const s={a:n,b:r};return I.runKernel(fO,s)}const eb=$({floorDiv_:TY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EY(t,e){let n=E(t,"a","div"),r=E(e,"b","div");if([n,r]=Ue(n,r),n.dtype==="int32"&&r.dtype==="int32")return eb(n,r);const s={a:n,b:r},i={};return I.runKernel(JI,s,i)}const Te=$({div_:EY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NY(t,e){let n=E(t,"a","mul"),r=E(e,"b","mul");[n,r]=Ue(n,r);const s={a:n,b:r};return I.runKernel(UO,s)}const Y=$({mul_:NY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kY(t){const e=E(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return I.runKernel(DI,n)}else{const n={x:e};return I.runKernel(fI,n)}}const nn=$({abs_:kY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AY(t){const n={x:E(t,"x","acos")};return I.runKernel(dI,n)}const $R=$({acos_:AY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CY(t){const n={x:E(t,"x","acosh")};return I.runKernel(hI,n)}const IR=$({acosh_:CY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PY(t){A(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),A(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((s,i)=>E(s,`tensors${i}`,"addN")),n=e[0];e.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(s=>{if(!Mr(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return I.runKernel(pI,r)}const OR=$({addN_:PY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Y(t,e=null,n=!1){const s={x:E(t,"x","all","bool")},i={axis:e,keepDims:n};return I.runKernel(mI,s,i)}const DR=$({all_:$Y});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IY(t,e=null,n=!1){const s={x:E(t,"x","any","bool")},i={axis:e,keepDims:n};return I.runKernel(gI,s,i)}const RR=$({any_:IY});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OY(t,e=0){const r={x:E(t,"x","argMax")},s={axis:e};return I.runKernel(yI,r,s)}const tb=$({argMax_:OY});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DY(t,e=0){const r={x:E(t,"x","argMin")},s={axis:e};return I.runKernel(vI,r,s)}const FR=$({argMin_:DY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RY(t){const n={x:E(t,"x","asin")};return I.runKernel(wI,n)}const MR=$({asin_:RY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FY(t){const n={x:E(t,"x","asinh")};return I.runKernel(bI,n)}const LR=$({asinh_:FY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MY(t){const n={x:E(t,"x","atan")};return I.runKernel(xI,n)}const BR=$({atan_:MY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LY(t,e){let n=E(t,"a","atan2"),r=E(e,"b","atan2");[n,r]=Ue(n,r);const s={a:n,b:r};return I.runKernel(_I,s)}const jR=$({atan2_:LY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BY(t){const n={x:E(t,"x","atanh")};return I.runKernel(SI,n)}const zR=$({atanh_:BY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jY(t,e,n,r,s="NHWC",i){const o=t[3],a=[...e,o],l=WR(s);return Af(t,a,n,i,r,null,null,l)}function VR(t,e,n,r,s,i,o="channelsLast"){const[a,l]=Yc(e);let u;if(o==="channelsLast")u=[a,l,t[3],t[3]];else if(o==="channelsFirst")u=[a,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return Af(t,u,n,r,s,i,!1,o)}function zY(t,e,n,r,s,i,o="NDHWC"){const[a,l,u]=sv(e);let c,f;if(o==="NDHWC")f="channelsLast",c=[a,l,u,t[4],t[4]];else if(o==="NCDHW")f="channelsFirst",c=[a,l,u,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return UR(t,c,n,r,s,!1,f,i)}function Af(t,e,n,r,s,i,o=!1,a="channelsLast"){let[l,u,c,f]=[-1,-1,-1,-1];if(a==="channelsLast")[l,u,c,f]=t;else if(a==="channelsFirst")[l,f,u,c]=t;else throw new Error(`Unknown dataFormat ${a}`);const[d,h,,m]=e,[p,g]=Yc(n),[y,v]=Yc(r),w=ul(d,y),x=ul(h,v),{padInfo:S,outHeight:_,outWidth:T}=WY(s,u,c,p,g,w,x,i,a),k=o?m*f:m;let P;return a==="channelsFirst"?P=[l,k,_,T]:a==="channelsLast"&&(P=[l,_,T,k]),{batchSize:l,dataFormat:a,inHeight:u,inWidth:c,inChannels:f,outHeight:_,outWidth:T,outChannels:k,padInfo:S,strideHeight:p,strideWidth:g,filterHeight:d,filterWidth:h,effectiveFilterHeight:w,effectiveFilterWidth:x,dilationHeight:y,dilationWidth:v,inShape:t,outShape:P,filterShape:e}}function UR(t,e,n,r,s,i=!1,o="channelsLast",a){let[l,u,c,f,d]=[-1,-1,-1,-1,-1];if(o==="channelsLast")[l,u,c,f,d]=t;else if(o==="channelsFirst")[l,d,u,c,f]=t;else throw new Error(`Unknown dataFormat ${o}`);const[h,m,p,,g]=e,[y,v,w]=sv(n),[x,S,_]=sv(r),T=ul(h,x),k=ul(m,S),P=ul(p,_),{padInfo:O,outDepth:D,outHeight:F,outWidth:z}=HY(s,u,c,f,y,v,w,T,k,P,a),L=i?g*d:g;let W;return o==="channelsFirst"?W=[l,L,D,F,z]:o==="channelsLast"&&(W=[l,D,F,z,L]),{batchSize:l,dataFormat:o,inDepth:u,inHeight:c,inWidth:f,inChannels:d,outDepth:D,outHeight:F,outWidth:z,outChannels:L,padInfo:O,strideDepth:y,strideHeight:v,strideWidth:w,filterDepth:h,filterHeight:m,filterWidth:p,effectiveFilterDepth:T,effectiveFilterHeight:k,effectiveFilterWidth:P,dilationDepth:x,dilationHeight:S,dilationWidth:_,inShape:t,outShape:W,filterShape:e}}function VY(t,e,n,r,s){r==null&&(r=nb(t,e,n));const i=t[0],o=t[1],a=Xc((i-e+2*r)/n+1,s),l=Xc((o-e+2*r)/n+1,s);return[a,l]}function UY(t,e,n,r,s,i){s==null&&(s=nb(t,e[0],r[0]));const o=[0,0,0,n];for(let a=0;a<3;a++)t[a]+2*s>=e[a]&&(o[a]=Xc((t[a]-e[a]+2*s)/r[a]+1,i));return o}function nb(t,e,n,r=1){const s=ul(e,r);return Math.floor((t[0]*(n-1)-n+s)/2)}function Yc(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function sv(t){return typeof t=="number"?[t,t,t]:t}function ul(t,e){return e<=1?t:t+(t-1)*(e-1)}function WY(t,e,n,r,s,i,o,a,l){let u,c,f;if(typeof t=="number"){u={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const h=VY([e,n],i,r,t,a);c=h[0],f=h[1]}else if(t==="same"){c=Math.ceil(e/r),f=Math.ceil(n/s);const d=Math.max(0,(c-1)*r+i-e),h=Math.max(0,(f-1)*s+o-n),m=Math.floor(d/2),p=d-m,g=Math.floor(h/2),y=h-g;u={top:m,bottom:p,left:g,right:y,type:"SAME"}}else if(t==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-i+1)/r),f=Math.ceil((n-o+1)/s);else if(typeof t=="object"){const d=l==="channelsLast"?t[1][0]:t[2][0],h=l==="channelsLast"?t[1][1]:t[2][1],m=l==="channelsLast"?t[2][0]:t[3][0],p=l==="channelsLast"?t[2][1]:t[3][1];u={top:d,bottom:h,left:m,right:p,type:d===0&&h===0&&m===0&&p===0?"VALID":"EXPLICIT"},c=Xc((e-i+d+h)/r+1,a),f=Xc((n-o+m+p)/s+1,a)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:u,outHeight:c,outWidth:f}}function HY(t,e,n,r,s,i,o,a,l,u,c){let f,d,h,m;if(t==="valid"&&(t=0),typeof t=="number"){f={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const g=UY([e,n,r,1],[a,l,u],1,[s,i,o],t,c);d=g[0],h=g[1],m=g[2]}else if(t==="same"){d=Math.ceil(e/s),h=Math.ceil(n/i),m=Math.ceil(r/o);const p=(d-1)*s+a-e,g=(h-1)*i+l-n,y=(m-1)*o+u-r,v=Math.floor(p/2),w=p-v,x=Math.floor(g/2),S=g-x,_=Math.floor(y/2),T=y-_;f={top:x,bottom:S,left:_,right:T,front:v,back:w,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:f,outDepth:d,outHeight:h,outWidth:m}}function Xc(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function Qc(t){const[e,n,r]=Yc(t);return e===1&&n===1&&r===1}function Hs(t,e){return Qc(t)||Qc(e)}function ia(t){return Yc(t).every(e=>e>0)}function WR(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function dr(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")A(zl(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(s=>{A(zl(s),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GY(t,e){const r={x:E(t,"x","reshape","string_or_numeric")},s={shape:e};return I.runKernel(uD,r,s)}const B=$({reshape_:GY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KY(t,e,n,r,s){const i=E(t,"x","avgPool","float32"),o=1;A(Hs(n,o),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);let a=i,l=!1;i.rank===3&&(l=!0,a=B(i,[1,i.shape[0],i.shape[1],i.shape[2]])),A(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),dr("avgPool",r,s);const u={x:a},c={filterSize:e,strides:n,pad:r,dimRoundingMode:s};let f=I.runKernel(TI,u,c);return f=ye(f,i.dtype),l?B(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const rb=$({avgPool_:KY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qY(t,e,n,r,s,i="NDHWC"){const o=E(t,"x","avgPool3d","float32");let a=o,l=!1;o.rank===4&&(l=!0,a=B(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),A(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),A(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),A(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),dr("avgPool3d",r,s);const u={x:a},c={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i};let f=I.runKernel(EI,u,c);return f=ye(f,a.dtype),l?B(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const HR=$({avgPool3d_:qY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YY(t,e=0){A(t.length>=1,()=>"Pass at least one tensor to concat");const n=qc(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return Cs(n[0]);const r=n,s={axis:e};return I.runKernel(RI,r,s)}const Et=$({concat_:YY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XY(t,e,n=!1,r=!1){let s=E(t,"a","matMul"),i=E(e,"b","matMul");[s,i]=Ue(s,i);const o={a:s,b:i},a={transposeA:n,transposeB:r};return I.runKernel(NI,o,a)}const me=$({matMul_:XY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QY(t){const n={x:E(t,"x","sigmoid","float32")};return I.runKernel(ED,n)}const Ps=$({sigmoid_:QY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZY(t,e,n){const r=E(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},i={begin:e,size:n};return I.runKernel(xD,s,i)}const _e=$({slice_:ZY});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JY(t){const n={x:E(t,"x","tanh","float32")};return I.runKernel(HD,n)}const ap=$({tanh_:JY});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eX(t,e,n,r,s,i){const o=E(t,"forgetBias","basicLSTMCell"),a=E(e,"lstmKernel","basicLSTMCell"),l=E(n,"lstmBias","basicLSTMCell"),u=E(r,"data","basicLSTMCell"),c=E(s,"c","basicLSTMCell"),f=E(i,"h","basicLSTMCell"),d=Et([u,f],1),h=me(d,a),m=J(h,l),p=m.shape[0],g=m.shape[1]/4,y=[p,g],v=_e(m,[0,0],y),w=_e(m,[0,g],y),x=_e(m,[0,g*2],y),S=_e(m,[0,g*3],y),_=J(Y(Ps(v),ap(w)),Y(c,Ps(J(o,x)))),T=Y(ap(_),Ps(S));return[_,T]}const GR=$({basicLSTMCell_:eX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tX(t,e,n){const r=E(t,"x","batchToSpaceND"),s=e.reduce((a,l)=>a*l);A(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),A(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),A(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${s}`);const i={x:r},o={blockShape:e,crops:n};return I.runKernel(kI,i,o)}const sb=$({batchToSpaceND_:tX});function nX(t){let e;return t.rank===0||t.rank===1?e=B(t,[1,1,1,t.size]):t.rank===2?e=B(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=B(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rX(t,e,n,r,s,i){i==null&&(i=.001);const o=E(t,"x","batchNorm"),a=E(e,"mean","batchNorm"),l=E(n,"variance","batchNorm");let u;s!=null&&(u=E(s,"scale","batchNorm"));let c;r!=null&&(c=E(r,"offset","batchNorm")),A(a.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),A(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),A(u==null||a.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:nX(o),scale:u,offset:c,mean:a,variance:l},h={varianceEpsilon:i},m=I.runKernel(dO,d,h);return B(m,o.shape)}const Cf=$({batchNorm_:rX});function sX(t,e,n,r,s,i){const o=E(t,"x","batchNorm"),a=E(e,"mean","batchNorm"),l=E(n,"variance","batchNorm");let u;s!=null&&(u=E(s,"scale","batchNorm"));let c;return r!=null&&(c=E(r,"offset","batchNorm")),A(o.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`),A(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),A(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&A(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&A(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),Cf(o,a,l,c,u,i)}const KR=$({batchNorm2d_:sX});function iX(t,e,n,r,s,i){const o=E(t,"x","batchNorm"),a=E(e,"mean","batchNorm"),l=E(n,"variance","batchNorm");let u;s!=null&&(u=E(s,"scale","batchNorm"));let c;return r!=null&&(c=E(r,"offset","batchNorm")),A(o.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`),A(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),A(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&A(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&A(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),Cf(o,a,l,c,u,i)}const qR=$({batchNorm3d_:iX});function oX(t,e,n,r,s,i){const o=E(t,"x","batchNorm"),a=E(e,"mean","batchNorm"),l=E(n,"variance","batchNorm");let u;s!=null&&(u=E(s,"scale","batchNorm"));let c;return r!=null&&(c=E(r,"offset","batchNorm")),A(o.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`),A(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),A(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&A(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&A(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),Cf(o,a,l,c,u,i)}const YR=$({batchNorm4d_:oX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aX(t,e,n){const r=E(t,"x","bincount"),s=E(e,"weights","bincount");A(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),A(n>=0,()=>`size must be non-negative, but got ${n}.`),A(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const i={x:r,weights:s},o={size:n};return I.runKernel(AI,i,o)}const ib=$({bincount_:aX});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lX(t,e){const n=E(t,"x","bitwiseAnd"),r=E(e,"y","bitwiseAnd");if(!Mr(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const s={a:n,b:r};return I.runKernel(CI,s)}const XR=$({bitwiseAnd_:lX});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uX(t,e){const n=E(t,"s0","broadcastArgs","int32"),r=E(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return I.runKernel(PI,s)}const QR=$({broadcastArgs_:uX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cX(t,e){let n=E(t,"broadcastTo","x");const r=n.shape;if(bn(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const u=n.shape.slice();for(;u.length<e.length;)u.unshift(1);n=B(n,u)}const s=n.shape,i=Array.from(e);for(let u=e.length-1;u>=0;u--)if(s[u]===e[u])i[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(i.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return Cs(n);const a={x:n},l={reps:i};return I.runKernel(Uw,a,l)}const oc=$({broadcastTo_:cX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fX(t){const n={x:E(t,"x","ceil","float32")};return I.runKernel($I,n)}const ZR=$({ceil_:fX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function au(t,e,n){bn(t),n=n||Tf(e);const r={shape:t,value:e,dtype:n};return I.runKernel(lO,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dX(t,e,n){const r=E(t,"x","clipByValue");if(A(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return au(r.shape,e,r.dtype);const s={x:r},i={clipValueMin:e,clipValueMax:n};return I.runKernel(II,s,i)}const JR=$({clipByValue_:dX});function hX(t){return Et(t,0)}const e3=$({concat1d_:hX});function pX(t,e){return Et(t,e)}const t3=$({concat2d_:pX});function mX(t,e){return Et(t,e)}const n3=$({concat3d_:mX});function gX(t,e){return Et(t,e)}const r3=$({concat4d_:gX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yX(t,e,n,r,s="NHWC",i=[1,1],o){const a=E(t,"x","conv2d","float32"),l=E(e,"filter","conv2d","float32");let u=a,c=!1;a.rank===3&&(c=!0,u=B(a,[1,a.shape[0],a.shape[1],a.shape[2]])),A(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),A(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),dr("conv2d",r,o);const f=s==="NHWC"?u.shape[3]:u.shape[1];A(f===l.shape[2],()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${l.shape[2]}.`),A(Hs(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),A(ia(i),()=>"Error in conv2D: Dilated rates should be larger than 0."),A(ia(n),()=>"Error in conv2D: Strides should be larger than 0.");const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o},m=I.runKernel(FI,d,h);return c?B(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const Pf=$({conv2d_:yX});function vX(t,e,n,r,s="NWC",i=1,o){const a=E(t,"x","conv1d"),l=E(e,"filter","conv1d");let u=a,c=!1;a.rank===2&&(c=!0,u=B(a,[1,a.shape[0],a.shape[1]])),A(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),A(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),dr("conv1d",r,o),A(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),A(Hs(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),A(ia(i),()=>"Error in conv1D: Dilated rates should be larger than 0."),A(ia(n),()=>"Error in conv1D: Stride should be larger than 0."),A(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const f=B(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=B(u,[u.shape[0],1,u.shape[1],u.shape[2]]),g=Pf(d,f,[1,n],r,"NHWC",[1,i],o);return c?B(g,[g.shape[2],g.shape[3]]):B(g,[g.shape[0],g.shape[2],g.shape[3]])}const s3=$({conv1d_:vX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wX(t,e,n,r,s,i="NHWC",o){A(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let a=t,l=e,u=!1;e.rank===3&&(u=!0,l=B(e,[1,e.shape[0],e.shape[1],e.shape[2]]),a=[1,t[0],t[1],t[2]]),A(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),A(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),A(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=i==="NHWC"?a[3]:a[1],f=i==="NHWC"?l.shape[3]:l.shape[1];A(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),A(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`),dr("conv2dDerInput",s,o);const d={dy:l,filter:n},h={strides:r,pad:s,dataFormat:i,dimRoundingMode:o,inputShape:a},m=I.runKernel(LI,d,h);return u?B(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const i3=$({conv2DBackpropInput_:wX});function bX(t,e,n,r,s,i){const o=E(t,"x","conv2dTranspose"),a=E(e,"filter","conv2dTranspose");return i3(n,o,a,r,s,"NHWC",i)}const o3=$({conv2dTranspose_:bX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xX(t,e,n,r,s="NDHWC",i=[1,1,1]){const o=E(t,"x","conv3d"),a=E(e,"filter","conv3d");let l=o,u=!1;o.rank===4&&(u=!0,l=B(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),A(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),A(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),A(l.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${a.shape[3]}.`),A(Hs(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),A(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`),A(ia(i),()=>"Error in conv3D: Dilated rates should be larger than 0."),A(ia(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:a},f={strides:n,pad:r,dataFormat:s,dilations:i},d=I.runKernel(BI,c,f);return u?B(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const a3=$({conv3d_:xX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SX(t,e,n,r,s){A(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,o=e,a=!1;e.rank===4&&(a=!0,o=B(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),i=[1,t[0],t[1],t[2],t[3]]);const l=i[4],u=o.shape[4];A(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),A(o.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`),A(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),A(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),A(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:o,filter:n},f={pad:s,strides:r,inputShape:i},d=I.runKernel(jI,c,f);return a?B(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const _X=$({conv3DBackpropInput_:SX});function TX(t,e,n,r,s){const i=E(t,"x","conv3dTranspose"),o=E(e,"filter","conv3dTranspose");return _X(n,i,o,r,s)}const l3=$({conv3dTranspose_:TX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EX(t){const n={x:E(t,"x","cos","float32")};return I.runKernel(zI,n)}const u3=$({cos_:EX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NX(t){const n={x:E(t,"x","cosh","float32")};return I.runKernel(VI,n)}const c3=$({cosh_:NX});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kX(t,e=0,n=!1,r=!1){const i={x:E(t,"x","cumprod")},o={axis:e,exclusive:n,reverse:r};return I.runKernel(UI,i,o)}const f3=$({cumprod_:kX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AX(t,e=0,n=!1,r=!1){const i={x:E(t,"x","cumsum")},o={axis:e,exclusive:n,reverse:r};return I.runKernel(WI,i,o)}const d3=$({cumsum_:AX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CX(t,e,n,r=!1){const s=E(t,"x","denseBincount"),i=E(e,"weights","denseBincount");A(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),A(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),A(n>=0,()=>`size must be non-negative, but got ${n}.`),A(i.size===s.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${i.shape}.`);const o={x:s,weights:i},a={size:n,binaryOutput:r};return I.runKernel(GI,o,a)}const h3=$({denseBincount_:CX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PX(t,e,n="NHWC"){const r=E(t,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];A(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),A(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e}  for depthToSpace with input shape
    ${r.shape}`),A(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e} for depthToSpace with input shape
        ${r.shape}`),A(o%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${o} for depthToSpace with input shape ${r.shape}`);const a={x:r},l={blockSize:e,dataFormat:n};return I.runKernel(KI,a,l)}const p3=$({depthToSpace_:PX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $X(t,e,n,r,s="NHWC",i=[1,1],o){const a=E(t,"x","depthwiseConv2d","float32"),l=E(e,"filter","depthwiseConv2d","float32");let u=a,c=!1;a.rank===3&&(c=!0,u=B(a,[1,a.shape[0],a.shape[1],a.shape[2]])),A(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),A(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const f=s==="NHWC"?u.shape[3]:u.shape[1];A(f===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${l.shape[2]}.`),dr("depthwiseConv2d",r,o);const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o},m=I.runKernel(qI,d,h);return c?B(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const im=$({depthwiseConv2d_:$X});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IX(t){const n={x:E(t,"x","diag")};return I.runKernel(QI,n)}const m3=$({diag_:IX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OX(t,e,n,r,s=[1,1],i="NHWC"){const o=E(t,"x","dilation2d"),a=E(e,"filter","dilation2d");A(o.rank===3||o.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`),A(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),A(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=o,u=!1;o.rank===3&&(l=B(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=!0),A(l.shape[3]===a.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${a.shape[2]}`);const c={x:l,filter:a},f={strides:n,pad:r,dilations:s},d=I.runKernel(ZI,c,f);return u?B(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const g3=$({dilation2d_:OX});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y3(t,e){const n=t.length,r=[];for(let s=0;s<n;s++){const i=n-1-s,o=t[i]||1;(e[e.length-1-s]||1)>1&&o===1&&r.unshift(i)}return r}function ob(t,e){const n=[];for(let r=0;r<e.length;r++){const s=t[t.length-r-1],i=e.length-r-1,o=e[i];(s==null||s===1&&o>1)&&n.unshift(i)}return n}function st(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let s=0;s<n;s++){let i=t[t.length-s-1];i==null&&(i=1);let o=e[e.length-s-1];if(o==null&&(o=1),i===1)r[n-s-1]=o;else if(o===1)r[n-s-1]=i;else if(i!==o){const a=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(a)}else r[n-s-1]=i}return r}const DX=Object.freeze(Object.defineProperty({__proto__:null,assertAndGetBroadcastShape:st,getBroadcastDims:y3,getReductionAxes:ob},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RX(t,e){let n=E(t,"a","equal","string_or_numeric"),r=E(e,"b","equal","string_or_numeric");[n,r]=Ue(n,r),st(n.shape,r.shape);const s={a:n,b:r};return I.runKernel(rO,s)}const $f=$({equal_:RX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FX(t,e,n){const r=E(e,"a","where"),s=E(n,"b","where"),i=E(t,"condition","where","bool"),o=st(st(i.shape,r.shape),s.shape),a=oc(i,o),l=oc(r,o),u=oc(s,o),c={condition:a,t:l,e:u};return I.runKernel(wD,c)}const $s=$({where_:FX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MX(t){const n={x:E(t,"x","zerosLike")};return I.runKernel(QD,n)}const gn=$({zerosLike_:MX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LX(t,e){let n=E(t,"a","div"),r=E(e,"b","div");[n,r]=Ue(n,r);const s=Te(n,r),i=gn(s),o=$f(r,i);return $s(o,i,s)}const v3=$({divNoNan_:LX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BX(t,e){const n=E(t,"t1","dot"),r=E(e,"t2","dot");A((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(A(s===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${i}.`),n.rank===1&&r.rank===1){const o=B(n,[1,-1]),a=B(r,[-1,1]),l=me(o,a);return B(l,[])}else if(n.rank===1&&r.rank===2){const o=B(n,[1,-1]),a=B(r,[r.shape[0],r.shape[1]]),l=me(o,a);return B(l,[l.size])}else if(n.rank===2&&r.rank===1){const o=B(r,[-1,1]),a=me(n,o);return B(a,[a.size])}else{const o=B(r,[r.shape[0],r.shape[1]]);return me(n,o)}}const w3=$({dot_:BX});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jX(t,...e){const n=e.map((s,i)=>E(s,`tensors${i}`,"einsum")),r={equation:t};return I.runKernel(eO,n,r)}const wo=$({einsum_:jX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zX(t){const n={x:E(t,"x","elu","float32")};return I.runKernel(tO,n)}const ab=$({elu_:zX});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VX(t,e){const n=E(t,"x","ensureShape","string_or_numeric");if(!eI(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const b3=$({ensureShape_:VX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UX(t){let e=E(t,"x","erf");A(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=ye(e,"float32"));const n={x:e};return I.runKernel(nO,n)}const x3=$({erf_:UX});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lb(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function S3(t,e,n){const r=t.length+e.length,s=[];let i=0,o=0;for(let a=0;a<r;a++)n.indexOf(a)===-1?s.push(t[i++]):s.push(e[o++]);return s}function WX(t,e){const n=[],r=t.length;for(let i=0;i<r;i++)e.indexOf(i)===-1&&n.push(t[i]);const s=e.map(i=>t[i]);return[n,s]}function If(t,e){const n=e.map(r=>1);return S3(t,n,e)}function HX(t,e,n){A(lb(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function GX(t,e){if(lb(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function KX(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function qX(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YX(t,e=null,n=!1){const s={x:E(t,"x","max")},i={reductionIndices:e,keepDims:n};return I.runKernel(IO,s,i)}const Ko=$({max_:YX});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XX(t,e=null,n=!1){const s={x:E(t,"x","min")},i={axis:e,keepDims:n};return I.runKernel(LO,s,i)}const lp=$({min_:XX});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QX(t,e){let n=E(t,"base","pow"),r=E(e,"exp","pow");[n,r]=Ue(n,r);const s={a:n,b:r};return I.runKernel(JO,s)}const Hl=$({pow_:QX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ue(t,e){if((ht(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&ht(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return no(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZX(t){const n={x:E(t,"x","sqrt","float32")};return I.runKernel(kD,n)}const fs=$({sqrt_:ZX});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JX(t){const e=E(t,"x","square"),n={};return I.runKernel("Square",{x:e},n)}const lr=$({square_:JX});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eQ(t,e=null,n=!1){let r=E(t,"x","sum");r.dtype==="bool"&&(r=ye(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return I.runKernel(AD,s,i)}const Ce=$({sum_:eQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tQ(t,e="euclidean",n=null,r=!1){t=E(t,"x","norm");const s=_3(t,e,n);let i=s.shape;if(r){const o=_f(n,t.shape);i=If(s.shape,o)}return B(s,i)}function _3(t,e,n=null){if(t.rank===0)return nn(t);if(t.rank!==1&&n===null)return _3(B(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return Ce(nn(t),n);if(e===1/0)return Ko(nn(t),n);if(e===-1/0)return lp(nn(t),n);if(e==="euclidean"||e===2)return fs(Ce(Hl(nn(t),ue(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return Ko(Ce(nn(t),n[0]),n[1]-1);if(e===1/0)return Ko(Ce(nn(t),n[1]),n[0]);if(e===-1/0)return lp(Ce(nn(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return fs(Ce(lr(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Of=$({norm_:tQ});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nQ(t,e=null,n=!1){return Of(t,"euclidean",e,n)}const T3=$({euclideanNorm_:nQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rQ(t){const n={x:E(t,"x","exp")};return I.runKernel(sO,n)}const Ki=$({exp_:rQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sQ(t,e=0){const n=E(t,"x","expandDims","string_or_numeric");A(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:e};return I.runKernel(iO,r,s)}const An=$({expandDims_:sQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iQ(t){const n={x:E(t,"x","expm1")};return I.runKernel(oO,n)}const E3=$({expm1_:iQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oQ(t,e){const n=E(t,"x","tile","string_or_numeric");A(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},s={reps:e};return I.runKernel(Uw,r,s)}const cl=$({tile_:oQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aQ(t,e,n,r="float32"){e==null&&(e=t);const s=cs([t,e],r),i=t<=e?t:e;for(let a=0;a<i;++a)s.set(1,a,a);const o=B(s.toTensor(),[t,e]);if(n==null)return o;if(n.length===1)return cl(An(o,0),[n[0],1,1]);if(n.length===2)return cl(An(An(o,0),0),[n[0],n[1],1,1]);if(n.length===3)return cl(An(An(An(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const ub=$({eye_:aQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lQ(t){const n={x:E(t,"x","floor","float32")};return I.runKernel(cO,n)}const cb=$({floor_:lQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uQ(t,e,n=0,r=0){const s=E(t,"x","gather"),i=E(e,"indices","gather","int32"),o={x:s,indices:i},a={axis:n,batchDims:r};return I.runKernel(hO,o,a)}const fb=$({gather_:uQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cQ(t,e){let n=E(t,"a","greater","string_or_numeric"),r=E(e,"b","greater","string_or_numeric");[n,r]=Ue(n,r),st(n.shape,r.shape);const s={a:n,b:r};return I.runKernel(mO,s)}const lu=$({greater_:cQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fQ(t,e){let n=E(t,"a","greaterEqual","string_or_numeric"),r=E(e,"b","greaterEqual","string_or_numeric");[n,r]=Ue(n,r),st(n.shape,r.shape);const s={a:n,b:r};return I.runKernel(gO,s)}const db=$({greaterEqual_:fQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dQ(t){const n={input:E(t,"input","imag")};return I.runKernel(vO,n)}const Df=$({imag_:dQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hQ(t){const n={x:E(t,"x","isFinite")};return I.runKernel(wO,n)}const N3=$({isFinite_:hQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pQ(t){const n={x:E(t,"x","isInf")};return I.runKernel(bO,n)}const k3=$({isInf_:pQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mQ(t){const n={x:E(t,"x","isNaN")};return I.runKernel(xO,n)}const A3=$({isNaN_:mQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gQ(t,e=.2){const r={x:E(t,"x","leakyRelu")},s={alpha:e};return I.runKernel(SO,r,s)}const hb=$({leakyRelu_:gQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yQ(t,e){let n=E(t,"a","less","string_or_numeric"),r=E(e,"b","less","string_or_numeric");[n,r]=Ue(n,r),st(n.shape,r.shape);const s={a:n,b:r};return I.runKernel(_O,s)}const up=$({less_:yQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vQ(t,e){let n=E(t,"a","lessEqual","string_or_numeric"),r=E(e,"b","lessEqual","string_or_numeric");[n,r]=Ue(n,r),st(n.shape,r.shape);const s={a:n,b:r};return I.runKernel(TO,s)}const om=$({lessEqual_:vQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C3(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return I.runKernel(EO,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wQ(t,e=5,n=1,r=1,s=.5){const i=E(t,"x","localResponseNormalization");A(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),A(zl(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let o=i,a=!1;i.rank===3&&(a=!0,o=B(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:o},u={depthRadius:e,bias:n,alpha:r,beta:s},c=I.runKernel($O,l,u);return a?B(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const P3=$({localResponseNormalization_:wQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bQ(t){const n={x:E(t,"x","log","float32")};return I.runKernel(NO,n)}const Gl=$({log_:bQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xQ(t){const n={x:E(t,"x","log1p")};return I.runKernel(kO,n)}const pb=$({log1p_:xQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SQ(t){return A(Ui(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const r=E(e,"x","tf.grad","string_or_numeric"),s=n!=null?E(n,"dy","tf.grad"):null;return I.tidy(()=>{const{value:i,grads:o}=I.gradients(()=>t(r),[r],s);return s!=null&&zt(i.shape,s.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),am(o),o[0]})}}function _Q(t){return A(Ui(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{A(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const r=qc(e,"args","tf.grads","string_or_numeric"),s=n!=null?E(n,"dy","tf.grads"):null;return I.tidy(()=>{const{value:i,grads:o}=I.gradients(()=>t(...r),r,s);return s!=null&&zt(i.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),am(o),o})}}function TQ(t){return A(Ui(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{A(e instanceof Fe,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),A(n==null||n instanceof Fe,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:r,value:s}=I.gradients(()=>t(e),[e],n);return am(r),{grad:r[0],value:s}}}function EQ(t){return A(Ui(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{A(Array.isArray(e)&&e.every(s=>s instanceof Fe),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),A(n==null||n instanceof Fe,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const r=I.gradients(()=>t(...e),e,n);return n!=null&&zt(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),am(r.grads),r}}function $3(t,e){A(Ui(t),()=>"The f passed in variableGrads(f) must be a function"),A(e==null||Array.isArray(e)&&e.every(u=>u instanceof Kc),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const u in I.registeredVariables)e.push(I.registeredVariables[u])}const r=n?e.filter(u=>!u.trainable):null,s=e.length;e=e.filter(u=>u.trainable),A(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const i=!0,{value:o,grads:a}=I.gradients(t,e,null,i);A(a.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),A(o.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);const l={};return e.forEach((u,c)=>{a[c]!=null&&(l[u.name]=a[c])}),r!=null&&r.forEach(u=>l[u.name]=null),{value:o,grads:l}}function ds(t){return I.customGrad(t)}function am(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NQ(t){const n={x:E(t,"x","neg")};return I.runKernel(WO,n)}const Ir=$({neg_:NQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kQ(t){const n={x:E(t,"x","softplus")};return I.runKernel(ND,n)}const mb=$({softplus_:kQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AQ(t){const e=E(t,"x","logSigmoid");return ds(r=>({value:Ir(mb(Ir(r))),gradFunc:o=>Y(o,Ps(Ir(r)))}))(e)}const I3=$({logSigmoid_:AQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CQ(t,e){let n=E(t,"a","sub"),r=E(e,"b","sub");[n,r]=Ue(n,r);const s={a:n,b:r};return I.runKernel(UD,s)}const ae=$({sub_:CQ});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PQ(t,e=-1){const n=E(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return ds((s,i)=>{const a=Ko(s,e,!0),l=ae(s,a),u=ae(ye(l,"float32"),Gl(Ce(Ki(l),e,!0)));return i([u]),{value:u,gradFunc:(f,d)=>{const[h]=d,m=!0,p=Ki(h);return ae(f,Y(Ce(f,e,m),p))}}})(n)}const O3=$({logSoftmax_:PQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Q(t,e=null,n=!1){const r=E(t,"x","logSumExp"),s=_f(e,r.shape),i=Ko(r,s,!0),o=ae(r,i),a=Ki(o),l=Ce(a,s),u=Gl(l),c=J(B(i,u.shape),u);if(n){const f=If(c.shape,s);return B(c,f)}return c}const gb=$({logSumExp_:$Q});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IQ(t,e){const n=E(t,"a","logicalAnd","bool"),r=E(e,"b","logicalAnd","bool");st(n.shape,r.shape);const s={a:n,b:r};return I.runKernel(AO,s)}const Zc=$({logicalAnd_:IQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OQ(t){const n={x:E(t,"x","logicalNot","bool")};return I.runKernel(CO,n)}const yb=$({logicalNot_:OQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DQ(t,e){const n=E(t,"a","logicalOr","bool"),r=E(e,"b","logicalOr","bool");st(n.shape,r.shape);const s={a:n,b:r};return I.runKernel(PO,s)}const vb=$({logicalOr_:DQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RQ(t,e){const n=E(t,"a","logicalXor","bool"),r=E(e,"b","logicalXor","bool");return st(n.shape,r.shape),Zc(vb(t,e),yb(Zc(t,e)))}const D3=$({logicalXor_:RQ});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vd=2147483648;function FQ(t,e,n="left"){const r=E(t,"sortedSequence","searchSorted"),s=E(e,"values","searchSorted"),i=r.shape[r.shape.length-1],o=s.shape[s.shape.length-1],a=B(r,[-1,i]),l=B(s,[-1,o]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(xe(l.shape)>=vd)throw new Error(`values tensor size must less than ${vd}`);if(a.shape[1]>=vd)throw new Error(`trailing dim_size must less than ${vd} for int32 output type, was ${a.shape[1]}`);const u={sortedSequence:a,values:l},c={side:n};return I.runKernel(vD,u,c)}const lm=$({searchSorted_:FQ});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R3(t,e){return lm(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MQ(t,e,n,r,s){const i=E(t,"x","maxPool"),o=1;let a=i,l=!1;i.rank===3&&(l=!0,a=B(i,[1,i.shape[0],i.shape[1],i.shape[2]])),A(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),A(Hs(n,o),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),dr("maxPool",r,s);const u={x:a},c={filterSize:e,strides:n,pad:r,dimRoundingMode:s},f=I.runKernel(DO,u,c);return l?B(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const wb=$({maxPool_:MQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LQ(t,e=[1,1,1],n,r,s,i="NDHWC"){const o=E(t,"x","maxPool3d");let a=o,l=!1;o.rank===4&&(l=!0,a=B(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),A(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),A(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),dr("maxPool3d",r,s);const u={x:a},c={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i},f=I.runKernel(RO,u,c);return l?B(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const F3=$({maxPool3d_:LQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BQ(t,e,n,r,s=!1){const o={x:E(t,"x","maxPoolWithArgmax")},a={filterSize:e,strides:n,pad:r,includeBatchInIndex:s},l=I.runKernel(FO,o,a);return{result:l[0],indexes:l[1]}}const M3=$({maxPoolWithArgmax_:BQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jQ(t,e){let n=E(t,"a","maximum"),r=E(e,"b","maximum");[n,r]=Ue(n,r),n.dtype==="bool"&&(n=ye(n,"int32"),r=ye(r,"int32")),st(n.shape,r.shape);const s={a:n,b:r};return I.runKernel(OO,s)}const bb=$({maximum_:jQ});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zQ(t,e=null,n=!1){const s={x:E(t,"x","mean")},i={axis:e,keepDims:n};return I.runKernel(MO,s,i)}const Jc=$({mean_:zQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oa(t,e="float32"){if(bn(t),e==="complex64"){const r=oa(t,"float32"),s=oa(t,"float32");return Us(r,s)}const n=nm(xe(t),e);return I.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Si(t,e="float32"){if(bn(t),e==="complex64"){const r=Si(t,"float32"),s=oa(t,"float32");return Us(r,s)}const n=Fw(xe(t),e);return I.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L3(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=E(t,"x","meshgrid",t instanceof Fe?t.dtype:"float32");if(e===void 0)return[r];let s=E(e,"y","meshgrid",e instanceof Fe?e.dtype:"float32");const i=xe(r.shape),o=xe(s.shape);return n==="xy"?(r=B(r,[1,-1]),s=B(s,[-1,1]),[me(Si([o,1],r.dtype),r),me(s,Si([1,i],s.dtype))]):(r=B(r,[-1,1]),s=B(s,[1,-1]),[me(r,Si([1,o],r.dtype)),me(Si([i,1],s.dtype),s)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VQ(t,e){let n=E(t,"a","minimum"),r=E(e,"b","minimum");[n,r]=Ue(n,r),n.dtype==="bool"&&(n=ye(n,"int32"),r=ye(r,"int32")),st(n.shape,r.shape);const s={a:n,b:r};return I.runKernel(BO,s)}const ef=$({minimum_:VQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UQ(t,e,n){A(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=E(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");A(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const s=n==="reflect"?1:0;for(let a=0;a<r.rank;a++)A(e[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),A(e[a][0]>=0&&e[a][0]<=r.shape[a]-s&&e[a][1]>=0&&e[a][1]<=r.shape[a]-s,()=>`Padding in dimension ${a} cannot be greater than or equal to ${r.shape[a]-s} or less than 0 for input of shape ${r.shape}`);const i={paddings:e,mode:n},o={x:r};return I.runKernel(jO,o,i)}const B3=$({mirrorPad_:UQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WQ(t,e){let n=E(t,"a","mod"),r=E(e,"b","mod");[n,r]=Ue(n,r);const s={a:n,b:r};return I.runKernel(zO,s)}const j3=$({mod_:WQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HQ(t,e=null,n=!1){t=E(t,"x","moments");const r=_f(e,t.shape),s=Jc(t,r,n);let i=s.shape;n||(i=If(s.shape,r));const o=lr(ae(ye(t,"float32"),B(s,i))),a=Jc(o,r,n);return{mean:s,variance:a}}const z3=$({moments_:HQ});function GQ(t,e,n,r){const s=E(e,"data","multiRNNCell"),i=qc(n,"c","multiRNNCell"),o=qc(r,"h","multiRNNCell");let a=s;const l=[];for(let f=0;f<t.length;f++){const d=t[f](a,i[f],o[f]);l.push(d[0]),l.push(d[1]),a=d[1]}const u=[],c=[];for(let f=0;f<l.length;f+=2)u.push(l[f]),c.push(l[f+1]);return[u,c]}const V3=$({multiRNNCell_:GQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KQ(t,e,n,r=!1){const s=E(t,"logits","multinomial"),i=s.size,o=s.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();const l={logits:o===1?B(s,[1,-1]):s},u={numSamples:e,seed:n,normalized:r},c=I.runKernel(VO,l,u);return o===1?B(c,[c.size]):c}const U3=$({multinomial_:KQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qQ(t,e){let n=E(t,"a","notEqual","string_or_numeric"),r=E(e,"b","notEqual","string_or_numeric");[n,r]=Ue(n,r),st(n.shape,r.shape);const s={a:n,b:r};return I.runKernel(HO,s)}const xb=$({notEqual_:qQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YQ(t,e,n=1,r=0,s="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const o={indices:E(t,"indices","oneHot","int32")},a={dtype:s,depth:e,onValue:n,offValue:r};return I.runKernel(XO,o,a)}const tf=$({oneHot_:YQ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XQ(t){const n={x:E(t,"x","onesLike")};return I.runKernel(YO,n)}const W3=$({onesLike_:XQ});function QQ(t,e){const n=E(t,"v1","outerProduct"),r=E(e,"v2","outerProduct");A(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const s=B(n,[-1,1]),i=B(r,[1,-1]);return me(s,i)}const H3=$({outerProduct_:QQ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZQ(t,e,n=0){const r=E(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:e,constantValue:n},i={x:r};return I.runKernel(ZO,i,s)}const uu=$({pad_:ZQ});function JQ(t,e,n=0){return A(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),uu(t,[e],n)}const G3=$({pad1d_:JQ});function eZ(t,e,n=0){return A(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),uu(t,e,n)}const K3=$({pad2d_:eZ});function tZ(t,e,n=0){return A(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),uu(t,e,n)}const Sb=$({pad3d_:tZ});function nZ(t,e,n=0){return A(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),uu(t,e,n)}const q3=$({pad4d_:nZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rZ(t,e,n){const r=E(t,"x","spaceToBatchND");A(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),A(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),A(r.shape.reduce((o,a,l)=>l>0&&l<=e.length?o&&(a+n[l-1][0]+n[l-1][1])%e[l-1]===0:o,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const s={x:r},i={blockShape:e,paddings:n};return I.runKernel(CD,s,i)}const _b=$({spaceToBatchND_:rZ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sZ(t,e,n,r,s,i,o){s==null&&(s=[1,1]),i==null&&(i=1),r===0&&(r="valid");const a=E(t,"x","maxPool");let l=a,u=!1;a.rank===3&&(u=!0,l=B(a,[1,a.shape[0],a.shape[1],a.shape[2]])),A(Hs(i,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${s}'`);const c=VR(l.shape,e,i,s,r),f=[c.dilationHeight,c.dilationWidth];let d;r==="same"?d=oZ([c.filterHeight,c.filterWidth],f):d=[[0,0],[0,0]];const h=f[0]===1&&f[1]===1,[m,p]=iZ([c.inHeight,c.inWidth],f,d),g=h?r:"valid",y=h?l:_b(l,f,m),w=(n==="avg"?()=>rb(y,e,i,g,o):()=>wb(y,e,i,g,o))(),x=h?w:sb(w,f,p);return u?B(x,[x.shape[1],x.shape[2],x.shape[3]]):x}function iZ(t,e,n){const r=n.map(c=>c[0]),s=n.map(c=>c[1]),i=t.concat(r,s),o=e.map((c,f)=>(c-i[f]%c)%c),a=s.map((c,f)=>c+o[f]),l=e.map((c,f)=>[r[f],a[f]]),u=e.map((c,f)=>[0,o[f]]);return[l,u]}function oZ(t,e){const r=t.map((o,a)=>o+(o-1)*(e[a]-1)).map(o=>o-1),s=r.map(o=>Math.floor(o/2)),i=r.map((o,a)=>o-s[a]);return r.map((o,a)=>[s[a],i[a]])}const Y3=$({pool_:sZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aZ(t,e){const n=E(t,"x","prelu"),r=E(e,"alpha","prelu"),s={x:n,alpha:r};return I.runKernel(eD,s)}const Tb=$({prelu_:aZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lZ(t,e=null,n=!1){let r=E(t,"x","prod");r.dtype==="bool"&&(r=ye(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return I.runKernel(tD,s,i)}const X3=$({prod_:lZ});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uZ(t,e,n,r){const s=t.map((c,f)=>E(c,`tensors${f}`,"raggedGather","int32")),i=E(e,"paramsDenseValues","raggedGather"),o=E(n,"indices","raggedGather","int32"),a={paramsNestedSplits:s,paramsDenseValues:i,indices:o},l={outputRaggedRank:r},u=I.runKernel(nD,a,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const Q3=$({raggedGather_:uZ});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cZ(t,e,n){const r=E(t,"starts","raggedRange"),s=E(e,"limits","raggedRange",r.dtype),i=E(n,"deltas","raggedRange",r.dtype),o={starts:r,limits:s,deltas:i},a=I.runKernel(rD,o);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}const Z3=$({raggedRange_:cZ});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fZ(t,e,n,r,s){const i=E(t,"shape","raggedTensorToTensor","int32"),o=E(e,"values","raggedTensorToTensor"),a=E(n,"defaultValue","raggedTensorToTensor",o.dtype),l=r.map((f,d)=>E(f,`tensors${d}`,"raggedTensorToTensor","int32")),u={shape:i,values:o,defaultValue:a,rowPartitionTensors:l},c={rowPartitionTypes:s};return I.runKernel(sD,u,c)}const J3=$({raggedTensorToTensor_:fZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dZ(t,e,n){bn(t);const r=xe(t);let s=null;if(n==null||n==="float32")s=new Float32Array(r);else if(n==="int32")s=new Int32Array(r);else if(n==="bool")s=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let i=0;i<r;i++)s[i]=e();return I.makeTensor(s,t,n)}const eF=$({rand_:dZ});var Eb={exports:{}};Eb.exports;(function(t){(function(e,n,r){function s(l){var u=this,c=a();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function i(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function o(l,u){var c=new s(l),f=u&&u.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&i(f,c),d.state=function(){return i(c,{})}),d}function a(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=o:this.alea=o})(ua,t)})(Eb);var hZ=Eb.exports,Nb={exports:{}};Nb.exports;(function(t){(function(e,n,r){function s(a){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},a===(a|0)?l.x=a:u+=a;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function i(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,m=(d+h)/(1<<21);while(m===0);return m},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.xor128=o})(ua,t)})(Nb);var pZ=Nb.exports,kb={exports:{}};kb.exports;(function(t){(function(e,n,r){function s(a){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:u+=a;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,m=(d+h)/(1<<21);while(m===0);return m},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.xorwow=o})(ua,t)})(kb);var mZ=kb.exports,Ab={exports:{}};Ab.exports;(function(t){(function(e,n,r){function s(a){var l=this;l.next=function(){var c=l.x,f=l.i,d,h;return d=c[f],d^=d>>>7,h=d^d<<24,d=c[f+1&7],h^=d^d>>>10,d=c[f+3&7],h^=d^d>>>3,d=c[f+4&7],h^=d^d<<7,d=c[f+7&7],d=d^d<<13,h^=d^d<<9,c[f]=h,l.i=f+1&7,h};function u(c,f){var d,h=[];if(f===(f|0))h[0]=f;else for(f=""+f,d=0;d<f.length;++d)h[d&7]=h[d&7]<<15^f.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}u(l,a)}function i(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,m=(d+h)/(1<<21);while(m===0);return m},f.int32=u.next,f.quick=f,c&&(c.x&&i(c,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.xorshift7=o})(ua,t)})(Ab);var gZ=Ab.exports,Cb={exports:{}};Cb.exports;(function(t){(function(e,n,r){function s(a){var l=this;l.next=function(){var c=l.w,f=l.X,d=l.i,h,m;return l.w=c=c+1640531527|0,m=f[d+34&127],h=f[d=d+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,m=f[d]=m^h,l.i=d,m+(c^c>>>16)|0};function u(c,f){var d,h,m,p,g,y=[],v=128;for(f===(f|0)?(h=f,f=null):(f=f+"\0",h=0,v=Math.max(v,f.length)),m=0,p=-32;p<v;++p)f&&(h^=f.charCodeAt((p+32)%f.length)),p===0&&(g=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,p>=0&&(g=g+1640531527|0,d=y[p&127]^=h+g,m=d==0?m+1:0);for(m>=128&&(y[(f&&f.length||0)&127]=-1),m=127,p=4*128;p>0;--p)h=y[m+34&127],d=y[m=m+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,y[m]=h^d;c.w=g,c.X=y,c.i=m}u(l,a)}function i(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,m=(d+h)/(1<<21);while(m===0);return m},f.int32=u.next,f.quick=f,c&&(c.X&&i(c,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.xor4096=o})(ua,t)})(Cb);var yZ=Cb.exports,Pb={exports:{}};Pb.exports;(function(t){(function(e,n,r){function s(a){var l=this,u="";l.next=function(){var f=l.b,d=l.c,h=l.d,m=l.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^m,m=m-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-h|0,l.d=h<<16^d>>>16^m,l.a=m-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):u+=a;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function i(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var u=new s(a),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,m=(d+h)/(1<<21);while(m===0);return m},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&i(c,u),f.state=function(){return i(u,{})}),f}n&&n.exports?n.exports=o:this.tychei=o})(ua,t)})(Pb);var vZ=Pb.exports,tF={exports:{}};const wZ={},bZ=Object.freeze(Object.defineProperty({__proto__:null,default:wZ},Symbol.toStringTag,{value:"Module"})),xZ=QM(bZ);(function(t){(function(e,n,r){var s=256,i=6,o=52,a="random",l=r.pow(s,i),u=r.pow(2,o),c=u*2,f=s-1,d;function h(x,S,_){var T=[];S=S==!0?{entropy:!0}:S||{};var k=y(g(S.entropy?[x,w(n)]:x??v(),3),T),P=new m(T),O=function(){for(var D=P.g(i),F=l,z=0;D<u;)D=(D+z)*s,F*=s,z=P.g(1);for(;D>=c;)D/=2,F/=2,z>>>=1;return(D+z)/F};return O.int32=function(){return P.g(4)|0},O.quick=function(){return P.g(4)/4294967296},O.double=O,y(w(P.S),n),(S.pass||_||function(D,F,z,L){return L&&(L.S&&p(L,P),D.state=function(){return p(P,{})}),z?(r[a]=D,F):D})(O,k,"global"in S?S.global:this==r,S.state)}function m(x){var S,_=x.length,T=this,k=0,P=T.i=T.j=0,O=T.S=[];for(_||(x=[_++]);k<s;)O[k]=k++;for(k=0;k<s;k++)O[k]=O[P=f&P+x[k%_]+(S=O[k])],O[P]=S;(T.g=function(D){for(var F,z=0,L=T.i,W=T.j,G=T.S;D--;)F=G[L=f&L+1],z=z*s+G[f&(G[L]=G[W=f&W+F])+(G[W]=F)];return T.i=L,T.j=W,z})(s)}function p(x,S){return S.i=x.i,S.j=x.j,S.S=x.S.slice(),S}function g(x,S){var _=[],T=typeof x,k;if(S&&T=="object")for(k in x)try{_.push(g(x[k],S-1))}catch{}return _.length?_:T=="string"?x:x+"\0"}function y(x,S){for(var _=x+"",T,k=0;k<_.length;)S[f&k]=f&(T^=S[f&k]*19)+_.charCodeAt(k++);return w(S)}function v(){try{var x;return d&&(x=d.randomBytes)?x=x(s):(x=new Uint8Array(s),(e.crypto||e.msCrypto).getRandomValues(x)),w(x)}catch{var S=e.navigator,_=S&&S.plugins;return[+new Date,e,_,e.screen,w(n)]}}function w(x){return String.fromCharCode.apply(0,x)}if(y(r.random(),n),t.exports){t.exports=h;try{d=xZ}catch{}}else r["seed"+a]=h})(typeof self<"u"?self:ua,[],Math)})(tF);var SZ=tF.exports,_Z=hZ,TZ=pZ,EZ=mZ,NZ=gZ,kZ=yZ,AZ=vZ,ma=SZ;ma.alea=_Z;ma.xor128=TZ;ma.xorwow=EZ;ma.xorshift7=NZ;ma.xor4096=kZ;ma.tychei=AZ;var $b=ma;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CZ=.001,nF=.1;function PZ(t,e,n){return n==null&&(n=Ib()),iv(t,e,(r,s)=>Ob(r,s,n))}function Ib(){return I.backend.floatPrecision()===32?CZ:nF}function iv(t,e,n){let r=!0;if((ht(t)||ht(e))&&(r=!1),ht(t)&&ht(e)&&(r=!0),r){const o=t.constructor.name,a=e.constructor.name;if(o!==a)throw new Error(`Arrays are of different type. Actual: ${o}. Expected: ${a}`)}if(Array.isArray(t)&&Array.isArray(e)){const o=us(t),a=us(e);if(!Mr(o,a))throw new Error(`Arrays have different shapes. Actual: [${o}]. Expected: [${a}]`)}const s=ht(t)?t:Hi(t),i=ht(e)?e:Hi(e);if(s.length!==i.length)throw new Error(`Arrays have different lengths actual: ${s.length} vs expected: ${i.length}.
Actual:   ${s}.
Expected: ${i}.`);for(let o=0;o<i.length;++o){const a=s[o],l=i[o];if(!n(a,l))throw new Error(`Arrays differ: actual[${o}] = ${a}, expected[${o}] = ${l}.
Actual:   ${s}.
Expected: ${i}.`)}typeof expect<"u"&&expect().nothing()}function $Z(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function IZ(t,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return bi(t)||bi(t[0])||bi(e)||bi(e[0])?iv(t,n,(r,s)=>r==s):iv(t,e,(r,s)=>Ob(r,s,0))}function OZ(t,e,n){if(n==null&&(n=Ib()),!Ob(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function Ob(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function DZ(t,e,n){for(let r=0;r<t.length;r++)if(t[r]<e||t[r]>n)throw new Error(`Value out of range:${t[r]} low: ${e}, high: ${n}`)}function RZ(t,e){const n=new Float32Array(t),r=new Float32Array(e);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let s=0;s<r.length;s++)if(n[s]!==r[s])throw new Error(`Expected ArrayBuffer value at ${s} to be ${r[s]} but got ${n[s]} instead`)}function rF(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?rF(n):t[e]=Nf(n)}return t}function FZ(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",r=>n(e)),e.load()})}async function MZ(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}const LZ=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:nF,createVideoElement:FZ,encodeStrings:rF,expectArrayBuffersEqual:RZ,expectArraysClose:PZ,expectArraysEqual:IZ,expectNumbersClose:OZ,expectPromiseToFail:$Z,expectValuesInRange:DZ,play:MZ,testEpsilon:Ib},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Db{constructor(e,n,r,s,i){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const o=i||Math.random();this.random=$b.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let e,n,r=!1;for(;!r;){let s,i,o;do s=2*this.random()-1,i=2*this.random()-1,o=s*s+i*i;while(o>=1||o===0);const a=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*s*a,n=this.mean+this.stdDev*i*a,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class BZ{constructor(e,n,r,s){this.alpha=e,this.beta=1/n,this.dtype=r;const i=s||Math.random();this.randu=$b.alea(i.toString()),this.randn=new Db(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,s,i,o;for(;;){do s=this.randn.nextValue(),o=1+this.c*s;while(o<=0);if(o*=o*o,e=s*s,n=1-.331*e*e,r=.5*e+this.d*(1-o+Math.log(o)),i=this.randu(),i<n||Math.log(i)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class jZ{constructor(e=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=$b.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zZ(t,e,n=1,r="float32",s){if(bn(t),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const i=new BZ(e,n,r,s),o=cs(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const sF=$({randomGamma_:zZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VZ(t,e=0,n=1,r,s){if(bn(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new Db(e,n,r,!1,s),o=cs(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const Rb=$({randomNormal_:VZ});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UZ(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return Rb(t,0,1,e,n)}const iF=$({randomStandardNormal_:UZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WZ(t,e=0,n=1,r="float32",s){bn(t);const i=cs(t,r),o=new jZ(e,n,null,s);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const um=$({randomUniform_:WZ});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HZ(t,e,n,r){return um(t,e,n,"int32",r)}const oF=$({randomUniformInt_:HZ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qi(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:t,stop:e,step:n,dtype:r};return I.runKernel(iD,{},s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GZ(t){const n={input:E(t,"input","real")};return I.runKernel(oD,n)}const Kl=$({real_:GZ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KZ(t){const n={x:E(t,"x","reciprocal")};return I.runKernel(aD,n)}const aF=$({reciprocal_:KZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qZ(t){const n={x:E(t,"x","relu")};return I.runKernel(lD,n)}const Rf=$({relu_:qZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YZ(t){const n={x:E(t,"x","relu6")};return I.runKernel(dD,n)}const Fb=$({relu6_:YZ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XZ(t,e){const r={x:E(t,"x","reverse")},s={dims:e};return I.runKernel(hD,r,s)}const Yi=$({reverse_:XZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QZ(t){const e=E(t,"x","reverse");return A(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Yi(e,0)}const lF=$({reverse1d_:QZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZZ(t,e){const n=E(t,"x","reverse");return A(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Yi(n,e)}const uF=$({reverse2d_:ZZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JZ(t,e){const n=E(t,"x","reverse");return A(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Yi(n,e)}const cF=$({reverse3d_:JZ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eJ(t,e){const n=E(t,"x","reverse");return A(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Yi(n,e)}const fF=$({reverse4d_:eJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tJ(t){const n={x:E(t,"x","round")};return I.runKernel(pD,n)}const Mb=$({round_:tJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nJ(t){const n={x:E(t,"x","rsqrt","float32")};return I.runKernel(mD,n)}const dF=$({rsqrt_:nJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rJ(t){const n={x:E(t,"x","selu")};return I.runKernel(bD,n)}const hF=$({selu_:rJ});function sJ(t,e,n,r,s,i=[1,1],o="NHWC"){const a=E(t,"x","separableConv2d"),l=E(e,"depthwiseFilter","separableConv2d"),u=E(n,"pointwiseFilter","separableConv2d");let c=a,f=!1;if(a.rank===3&&(f=!0,c=B(a,[1,a.shape[0],a.shape[1],a.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");A(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),A(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),A(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),A(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),A(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const d=l.shape[2],h=l.shape[3];A(u.shape[2]===d*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*h}, but got ${u.shape[2]}.`);const m=im(c,l,r,s,o,i),g=Pf(m,u,1,"valid",o);return f?B(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const pF=$({separableConv2d_:sJ});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function iJ(t,e){const n=E(t,"x","setdiff1d"),r=E(e,"y","setdiff1d");A(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),A(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),A(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const s=await n.data(),i=await r.data(),o=new Set(i);let a=0;for(let c=0;c<s.length;c++)o.has(s[c])||a++;const l=new op([a],n.dtype),u=new op([a],"int32");for(let c=0,f=0;c<s.length;c++)o.has(s[c])||(l.values[f]=s[c],u.values[f]=c,f++);return[l.toTensor(),u.toTensor()]}const mF=iJ;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oJ(t){const n={x:E(t,"x","sign")};return I.runKernel(TD,n)}const gF=$({sign_:oJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aJ(t){const n={x:E(t,"x","sin","float32")};return I.runKernel(SD,n)}const yF=$({sin_:aJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lJ(t){const n={x:E(t,"x","sinh")};return I.runKernel(_D,n)}const vF=$({sinh_:lJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uJ(t,e,n){const r=E(t,"x","slice1d");return A(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),_e(r,[e],[n])}const wF=$({slice1d_:uJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cJ(t,e,n){const r=E(t,"x","slice2d");return A(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),_e(r,e,n)}const bF=$({slice2d_:cJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fJ(t,e,n){const r=E(t,"x","slice3d");return A(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),_e(r,e,n)}const xF=$({slice3d_:fJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dJ(t,e,n){const r=E(t,"x","slice4d");return A(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),_e(r,e,n)}const SF=$({slice4d_:dJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hJ(t,e=-1){const n=E(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},s={dim:e};return I.runKernel($D,r,s)}const _F=$({softmax_:hJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pJ(t){A(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return I.runKernel(aO,e)}const cm=$({fft_:pJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mJ(t){A(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return I.runKernel(yO,e)}const nf=$({ifft_:mJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gJ(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const s=B(t,[n,e]);r=nf(s)}else{const s=[n,2*(e-1)],i=B(Kl(t),[n,e]),o=B(Df(t),[n,e]),a=Yi(_e(i,[0,1],[n,e-2]),1),l=Y(Yi(_e(o,[0,1],[n,e-2]),1),ue(-1)),u=Et([i,a],1),c=Et([o,l],1),f=B(Us(u,c),[s[0],s[1]]);r=nf(f)}if(r=Kl(r),t.rank===3&&t.shape[0]!==0){const s=r,i=t.shape[0];r=B(r,[i,r.shape[0]/i,r.shape[1]]),s.dispose()}return r}const Lb=$({irfft_:gJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yJ(t,e,n=0){const s={x:E(t,"x","split")},i={numOrSizeSplits:e,axis:n};return I.runKernel(PD,s,i)}const ql=$({split_:yJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vJ(t,e){A(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let s;if(e!=null&&e<n){const m=t.shape.map(g=>0),p=t.shape.map(g=>g);p[t.shape.length-1]=e,s=_e(t,m,p),n=e}else if(e!=null&&e>n){const m=t.shape.map(p=>p);m[t.shape.length-1]=e-n,s=Et([t,oa(m)],t.shape.length-1),n=e}else s=t;const i=gn(s),o=B(Us(s,i),[r,n]),a=cm(o),l=Math.floor(n/2)+1,u=Kl(a),c=Df(a),f=ql(u,[l,n-l],u.shape.length-1),d=ql(c,[l,n-l],c.shape.length-1),h=s.shape.slice();return h[s.shape.length-1]=l,B(Us(f[0],d[0]),h)}const fm=$({rfft_:vJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wJ(t,e){let n=E(t,"a","squaredDifference"),r=E(e,"b","squaredDifference");[n,r]=Ue(n,r),st(n.shape,r.shape);const s={a:n,b:r},i={};return I.runKernel(MD,s,i)}const Bb=$({squaredDifference_:wJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bJ(t,e){const n=E(t,"x","squeeze","string_or_numeric");return B(n,tI(n.shape,e).newShape)}const Jr=$({squeeze_:bJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xJ(t,e=0){const n=qc(t,"tensors","stack","string_or_numeric");A(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&A(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:e};return I.runKernel(QO,r,s)}const hs=$({stack_:xJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SJ(t,e=0){const r={x:E(t,"x","step")},s={alpha:e};return I.runKernel(ZD,r,s)}const jb=$({step_:SJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _J(t,e,n,r,s=0,i=0,o=0,a=0,l=0){const c={x:E(t,"x","stridedSlice","string_or_numeric")},f={begin:e,end:n,strides:r,beginMask:s,endMask:i,ellipsisMask:o,newAxisMask:a,shrinkAxisMask:l};return I.runKernel(BD,c,f)}const TF=$({stridedSlice_:_J});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TJ(t){const n={x:E(t,"x","tan","float32")};return I.runKernel(WD,n)}const EF=$({tan_:TJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function In(t,e){ha(t);const n=us(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return no(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fl(t,e,n){if(ha(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=us(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return no(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zb(t,e,n){if(ha(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=us(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return no(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NF(t,e,n){if(ha(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=us(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return no(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kF(t,e,n){if(ha(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=us(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return no(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AF(t,e,n){if(ha(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=us(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,no(t,e,r,n)}function Vb(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,s=e.rank>1?e.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(i+` update.rank < ${s}. `);if(t.length<r+(n.rank-s))throw new Error(i+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+t.length-r)throw new Error(i+` update.rank != ${s+t.length-r}`);for(let o=0;o<s;++o)if(n.shape[o]!==e.shape[o])throw new Error(i+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${e.shape[o]}).`);for(let o=0;o<n.rank-s;++o)if(n.shape[o+s]!==t[o+r])throw new Error(i+` updates.shape[${o+s}] (${n.shape[o+s]}) != shape[${o+s}] (${t[o+s]})`)}function dm(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}Vb(n,e,t)}function CF(t,e,n){const r=e.shape.length,s=r>1?e.shape[r-1]:1,i=n.length;let o=1;for(let f=s;f<i;++f)o*=n[f];const a=s<1?1:s,l=xe(e.shape)/a,u=[...ou(n.slice(0,s)),1],c=xe(n);return{sliceRank:s,numUpdates:l,sliceSize:o,strides:u,outputSize:c}}const EJ=Object.freeze(Object.defineProperty({__proto__:null,calculateShapes:CF,validateInput:dm,validateUpdateShape:Vb},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NJ(t,e,n){const r=E(t,"tensor","tensorScatterupdate"),s=E(e,"indices","tensorScatterupdate","int32"),i=E(n,"updates","tensorScatterupdate");if(dm(i,s,r.shape),r.dtype!==i.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${i.dtype}.`);const o={tensor:r,indices:s,updates:i},a={};return I.runKernel(yD,o,a)}const PF=$({tensorScatterUpdate_:NJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kJ(t,e=1,n=!0){const r=E(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${e}`);const i={x:r},o={k:e,sorted:n},[a,l]=I.runKernel(GD,i,o);return{values:a,indices:l}}const $F=$({topk_:kJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AJ(t,e=0,n=1,r,s){if(bn(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new Db(e,n,r,!0,s),o=cs(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const IF=$({truncatedNormal_:AJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CJ(t,e=0){const n=E(t,"x","unique","string_or_numeric");A(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:e},[i,o]=I.runKernel(qD,r,s);return{values:i,indices:o}}const OF=$({unique_:CJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PJ(t,e,n){const r=E(t,"x","unsortedSegmentSum"),s=E(e,"segmentIds","unsortedSegmentSum","int32");A(zl(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:s},o={numSegments:n};return I.runKernel(XD,i,o)}const DF=$({unsortedSegmentSum_:PJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $J(t,e=0){const n=E(t,"x","unstack","string_or_numeric");A(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:e};return I.runKernel(YD,r,s)}const ro=$({unstack_:$J});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RF(t,e){return lm(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FF(t,e=!0,n,r){return I.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MF(t,e){const n=[];for(let i=0;i<e.length;i++)e[i]&&n.push(i);const r=cs(t,"int32"),s=cs([n.length,t.length],"int32");for(let i=0;i<n.length;i++){const o=r.indexToLoc(n[i]),a=i*t.length;s.values.set(o,a)}return s.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function IJ(t){const e=E(t,"condition","whereAsync","bool"),n=await e.data(),r=MF(e.shape,n);return t!==e&&e.dispose(),r}const Ub=IJ;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function OJ(t,e,n){const r=E(t,"tensor","boolMask"),s=E(e,"mask","boolMask","bool"),i=n??0,o=s.rank,a=r.shape;A(o>0,()=>"mask cannot be scalar"),zt(a.slice(i,i+o),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let p=i;p<i+o;p++)l*=a[p];const u=a.slice(0,i).concat([l],a.slice(i+o)),c=B(r,u),f=B(s,[-1]),d=await Ub(f),h=Jr(d,[1]),m=fb(c,h,i);return t!==r&&r.dispose(),e!==s&&s.dispose(),h.dispose(),c.dispose(),f.dispose(),d.dispose(),m}const LF=OJ;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DJ(t,e,n){const r=E(t,"x","transpose");if(e==null&&(e=r.shape.map((o,a)=>a).reverse()),A(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(o=>{A(o>=0&&o<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const s={x:r},i={perm:e};return r.dtype==="complex64"?re(()=>{let o=Kl(r),a=Df(r);return o=I.runKernel(th,{x:o},i),a=I.runKernel(th,{x:a},i),n&&(a=Ir(a)),Us(o,a)}):I.runKernel(th,s,i)}const rf=$({transpose_:DJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RJ(t,e,n,r,s=!0){const i=E(t,"v","movingAverage"),o=E(e,"x","movingAverage"),a=E(n,"decay","movingAverage");pR(i,o),A(Mr(i.shape,o.shape),()=>"Shape mismatch in v and x");const l=ue(1),u=ae(l,a);let c=Y(ae(o,i),u);if(s){A(r!=null,()=>"When using zeroDebias: true, step is required.");const f=E(r,"step","movingAverage");c=Te(c,ae(l,Hl(a,f)))}return J(i,c)}const BF=$({movingAverage_:RJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FJ(t,e,n){bn(n);const r=E(t,"indices","scatterND","int32"),s=E(e,"updates","scatterND");dm(s,r,n);const i={indices:r,updates:s},o={shape:n};return I.runKernel(gD,i,o)}const jF=$({scatterND_:FJ});function MJ(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const s=t.rank>0?t.shape[0]:1,i=t.rank>1?t.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);const o=e.size;if(!(e.rank===0||e.rank===1&&o===s))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${s}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LJ(t,e,n,r=0){bn(n);const s=E(t,"sparseIndices","sparseToDense","int32"),i=E(e,"sparseValues","sparseToDense","string_or_numeric"),o=E(r,"defaultValue","sparseToDense",i.dtype);MJ(s,i,n,o);const a={sparseIndices:s,sparseValues:i,defaultValue:o},l={outputShape:n};return I.runKernel(FD,a,l)}const zF=$({sparseToDense_:LJ});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BJ(t,e){const n=E(e,"indices","gatherND","int32"),s={params:E(t,"x","gatherND","string_or_numeric"),indices:n};return I.runKernel(pO,s)}const VF=$({gatherND_:BJ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jJ(t,e){if(e==null)return t.shape.slice();if(Mr(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zJ(t,e,n,r){const s=E(t,"x","dropout");if(A(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),A(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof Fe?s.clone():s;const i=jJ(s,n),o=1-e,a=Te(cb(J(um(i,0,1,"float32",r),o)),o);return Y(s,a)}const UF=$({dropout_:zJ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wb(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function hm(t,e,n){const r=1-t%2,s=new Float32Array(t);for(let i=0;i<t;++i){const o=2*Math.PI*i/(t+r-1);s[i]=e-n*Math.cos(o)}return In(s,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function VJ(t,e,n=1){const r=E(t,"predictions","inTopK"),s=E(e,"targets","inTopK");A(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),A(r.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`),zt(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const i=r.shape[r.shape.length-1];A(n>0&&n<=i,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`);const o=await r.data(),a=await s.data(),[l,u]=[o.length/i,i],c=nI("bool",l);for(let f=0;f<l;f++){const d=f*u,h=o.subarray(d,d+u),m=[];for(let p=0;p<h.length;p++)m.push({value:h[p],index:p});m.sort((p,g)=>g.value-p.value),c[f]=0;for(let p=0;p<n;p++)if(m[p].index===a[f]){c[f]=1;break}}return t!==r&&r.dispose(),e!==s&&s.dispose(),ar(c,s.shape,"bool")}const WF=VJ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UJ(t,e,n,r,s,i="NHWC",o){let a=t;t.rank===3&&(a=B(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=B(e,[1,e.shape[0],e.shape[1],e.shape[2]])),A(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),A(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),A(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=i==="NHWC"?a.shape[3]:a.shape[1],c=i==="NHWC"?l.shape[3]:l.shape[1];A(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),A(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),dr("conv2dDerFilter",s,o);const f={x:a,dy:l},d={strides:r,pad:s,dataFormat:i,dimRoundingMode:o,filterShape:n};return I.runKernel(MI,f,d)}const WJ=$({conv2DBackpropFilter_:UJ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pm(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return Y(t,jb(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function mm(t,e){let n=e;const r=ob(t.shape,e.shape);return r.length>0&&(n=Ce(n,r)),B(n,t.shape)}function gm(t,e,n,r){if(e==="linear")return t;if(e==="relu")return Rf(t);if(e==="elu")return ab(t);if(e==="relu6")return Fb(t);if(e==="prelu")return Tb(t,n);if(e==="leakyrelu")return hb(t,r);if(e==="sigmoid")return Ps(t);throw new Error(`Unknown fused activation ${e}.`)}const ym=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HJ({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:o,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",ym(I.state.gradientDepth,l)===!1){A(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let _=Pf(t,e,n,r,s,i,o);return a!=null&&(_=J(_,a)),gm(_,l,u,c)}const f=E(t,"x","conv2d","float32"),d=E(e,"filter","conv2d","float32");let h=f,m=!1;f.rank===3&&(m=!0,h=B(f,[1,f.shape[0],f.shape[1],f.shape[2]])),A(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),A(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),dr("fused conv2d",r,o);const p=s==="NHWC"?h.shape[3]:h.shape[1];A(d.shape[2]===p,()=>`Error in conv2d: depth of input (${p}) must match input depth for filter ${d.shape[2]}.`),A(Hs(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const g=Af(h.shape,d.shape,n,i,r,o);let y;a!=null&&(y=E(a,"bias","fused conv2d"),[y]=Ue(y,f),s==="NHWC"?st(g.outShape,y.shape):(A(y.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`),A(y.shape.length===0||y.shape[0]===g.outChannels||y.shape[0]===1,()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${g.outChannels})`)));let v;if(u!=null){const _=u.shape;if(A(_.length<=1||_.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${_.length}.`),_.length===1)A(_[0]===1||_[0]===g.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${_}) is not compatible with the number of output channels (${g.outChannels}).`);else if(_.length===3)try{st(_,g.outShape)}catch{const k=`Error in fused conv2d: PReLU activation weights (${_}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(k)}v=E(u,"prelu weights","fused conv2d")}const w=(_,T)=>{A(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[k,P,O,D]=T,F=pm(_,O,l);A(Qc(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const z=i3(P.shape,F,k,n,r),L=WJ(P,F,k.shape,n,r),W=[z,L];if(D!=null){const G=mm(D,F);W.push(G)}return W},x={x:h,filter:d,bias:y,preluActivationWeights:v},S={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o,activation:l,leakyreluAlpha:c};return a==null?ds((T,k,P)=>{let O=I.runKernel(U0,x,S);return P([k,T,O]),m&&(O=B(O,[O.shape[1],O.shape[2],O.shape[3]])),{value:O,gradFunc:w}})(h,d):ds((T,k,P,O)=>{let D=I.runKernel(U0,x,S);return O([k,T,D,P]),m&&(D=B(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:w}})(h,d,y)}const GJ=$({fusedConv2d_:HJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KJ(t,e,n,r,s,i=[1,1],o){let a=t;t.rank===3&&(a=B(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=B(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={x:a,dy:l},c={strides:r,pad:s,dimRoundingMode:o,dilations:i,filterShape:n};return I.runKernel(YI,u,c)}const qJ=$({depthwiseConv2dNativeBackpropFilter_:KJ});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YJ(t,e,n,r,s,i=[1,1],o){let a=e,l=!1;e.rank===3&&(l=!0,a=B(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={dy:a,filter:n},c={strides:r,pad:s,dimRoundingMode:o,dilations:i,inputShape:t},f=I.runKernel(XI,u,c);return l?B(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const XJ=$({depthwiseConv2dNativeBackpropInput_:YJ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QJ({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:o,bias:a,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(ym(I.state.gradientDepth,l)===!1){let S=im(t,e,n,r,s,i,o);return a!=null&&(S=J(S,a)),gm(S,l,u,c)}const f=E(t,"x","depthwiseConv2d","float32"),d=E(e,"filter","depthwiseConv2d","float32");let h=f,m=!1;f.rank===3&&(m=!0,h=B(f,[1,f.shape[0],f.shape[1],f.shape[2]])),A(h.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),A(d.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`),A(h.shape[3]===d.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`),i==null&&(i=[1,1]),A(Hs(n,i),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),dr("fused depthwiseConv2d",r,o);const p=Af(h.shape,d.shape,n,i,r,o,!0);let g;a!=null&&(g=E(a,"bias","fused conv2d"),[g]=Ue(g,f),st(p.outShape,g.shape));let y;u!=null&&(y=E(u,"prelu weights","fused depthwiseConv2d"));const v=(S,_)=>{A(Qc(i),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`);const[T,k,P,O]=_,D=pm(S,P,l),F=XJ(k.shape,D,T,n,r,i,o),z=qJ(k,D,T.shape,n,r,i,o);if(O!=null){const L=mm(g,D);return[F,z,L]}return[F,z]},w={x:h,filter:d,bias:g,preluActivationWeights:y},x={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o,activation:l,leakyreluAlpha:c};return a==null?ds((_,T,k)=>{let P=I.runKernel(W0,w,x);return k([T,_,P]),m&&(P=B(P,[P.shape[1],P.shape[2],P.shape[3]])),{value:P,gradFunc:v}})(h,d):ds((_,T,k,P)=>{let O=I.runKernel(W0,w,x);return P([T,_,O,k]),m&&(O=B(O,[O.shape[1],O.shape[2],O.shape[3]])),{value:O,gradFunc:v}})(h,d,g)}const ZJ=$({fusedDepthwiseConv2d_:QJ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JJ({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:s,activation:i="linear",preluActivationWeights:o,leakyreluAlpha:a=.2}){if(ym(I.state.gradientDepth,i)===!1){let D=me(t,e,n,r);return s!=null&&(D=J(D,s)),gm(D,i,o,a)}let l=E(t,"a","fused matMul"),u=E(e,"b","fused matMul");[l,u]=Ue(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],f=r?u.shape[u.rank-1]:u.shape[u.rank-2],d=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=r?u.shape[u.rank-2]:u.shape[u.rank-1],m=l.shape.slice(0,-2),p=u.shape.slice(0,-2),g=xe(m),y=xe(p);A(c===f,()=>`Error in fused matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);const w=st(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([d,h]),x=n?B(l,[g,c,d]):B(l,[g,d,c]),S=r?B(u,[y,h,f]):B(u,[y,f,h]);let _;s!=null&&(_=E(s,"bias","fused matMul"),[_]=Ue(_,l),st(w,_.shape));let T;o!=null&&(T=E(o,"prelu weights","fused matMul"));const k=(D,F)=>{const[z,L,W,G]=F,V=pm(B(D,W.shape),W,i);let R,M;if(!n&&!r?(R=me(V,L,!1,!0),M=me(z,V,!0,!1)):!n&&r?(R=me(V,L,!1,!1),M=me(V,z,!0,!1)):n&&!r?(R=me(L,V,!1,!0),M=me(z,V,!1,!1)):(R=me(L,V,!0,!0),M=me(V,z,!0,!0)),s!=null){const H=mm(G,V);return[R,M,H]}else return[R,M]},P={a:x,b:S,bias:_,preluActivationWeights:T},O={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:a};return s==null?ds((F,z,L)=>{const W=I.runKernel(V0,P,O);return L([F,z,W]),{value:B(W,w),gradFunc:k}})(x,S):ds((F,z,L,W)=>{const G=I.runKernel(V0,P,O);return W([F,z,G,L]),{value:B(G,w),gradFunc:k}})(x,S,_)}const eee=$({fusedMatMul_:JJ});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HF=Object.freeze(Object.defineProperty({__proto__:null,conv2d:GJ,depthwiseConv2d:ZJ,matMul:eee},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tee(t){return hm(t,.54,.46)}const nee=$({hammingWindow_:tee});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ree(t){return hm(t,.5,.5)}const GF=$({hannWindow_:ree});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function see(t,e,n,r=!1,s=0){let i=0;const o=[];for(;i+e<=t.size;)o.push(_e(t,i,e)),i+=n;if(r)for(;i<t.size;){const a=i+e-t.size,l=Et([_e(t,i,e-a),au([a],s)]);o.push(l),i+=n}return o.length===0?fl([],[0,e]):B(Et(o),[o.length,e])}const KF=$({frame_:see});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iee(t,e,n,r,s=GF){r==null&&(r=Wb(e));const i=KF(t,e,n),o=Y(i,s(e));return fm(o,r)}const oee=$({stft_:iee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aee(t,e,n,r,s="bilinear",i=0){const o=E(t,"image","cropAndResize"),a=E(e,"boxes","cropAndResize","float32"),l=E(n,"boxInd","cropAndResize","int32"),u=a.shape[0];A(o.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`),A(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${a.shape}.`),A(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${a.shape}.`),A(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),A(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),A(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const c={image:o,boxes:a,boxInd:l},f={method:s,extrapolationValue:i,cropSize:r};return I.runKernel(HI,c,f)}const lee=$({cropAndResize_:aee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uee(t){const e=E(t,"image","flipLeftRight","float32");A(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return I.runKernel(uO,n,{})}const cee=$({flipLeftRight_:uee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fee(t){const e=E(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];A(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),A(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(e.rank);return s.fill(1,0,n),s[n]=3,cl(e,s)}const dee=$({grayscaleToRGB_:fee});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hee(t){const e=E(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];A(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),A(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const s=e.dtype,i=ye(e,"float32"),o=In([.2989,.587,.114]);let a;switch(e.rank){case 2:a=wo("ij,j->i",i,o);break;case 3:a=wo("ijk,k->ij",i,o);break;case 4:a=wo("ijkl,l->ijk",i,o);break;case 5:a=wo("ijklm,m->ijkl",i,o);break;case 6:a=wo("ijklmn,n->ijklm",i,o);break;default:throw new Error("Not a valid tensor rank.")}return a=An(a,-1),ye(a,s)}const pee=$({rgbToGrayscale_:hee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mee(t,e,n=0,r=.5){const s=E(t,"image","rotateWithOffset","float32");A(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const i={image:s},o={radians:e,fillValue:n,center:r};return I.runKernel(JD,i,o)}const gee=$({rotateWithOffset_:mee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cu(t,e,n,r,s,i){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),i==null&&(i=0);const o=t.shape[0];return n=Math.min(n,o),A(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),A(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),A(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),A(e.rank===1,()=>"scores must be a 1D tensor"),A(e.shape[0]===o,()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${e.shape[0]}`),A(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yee(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=E(t,"boxes","nonMaxSuppression","float32"),o=E(e,"scores","nonMaxSuppression","float32"),a=cu(i,o,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return I.runKernel(GO,{boxes:i,scores:o},l)}const vee=$({nonMaxSuppression_:yee});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wee(t,e,n){const r=bee(t,e,n),s=r<0?-(r+1):r;t.splice(s,0,e)}function bee(t,e,n){return See(t,e,n||xee)}function xee(t,e){return t>e?1:t<e?-1:0}function See(t,e,n){let r=0,s=t.length,i=0,o=!1;for(;r<s;){i=r+(s-r>>>1);const a=n(e,t[i]);a>0?r=i+1:(s=i,o=!a)}return o?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qF(t,e,n,r,s){return Hb(t,e,n,r,s,0)}function YF(t,e,n,r,s,i){return Hb(t,e,n,r,s,0,!1,i,!0)}function XF(t,e,n,r,s,i){return Hb(t,e,n,r,s,i,!0)}function Hb(t,e,n,r,s,i,o=!1,a=!1,l=!1){const u=[];for(let g=0;g<e.length;g++)e[g]>s&&u.push({score:e[g],boxIndex:g,suppressBeginIndex:0});u.sort(cE);const c=i>0?-.5/i:0,f=[],d=[];for(;f.length<n&&u.length>0;){const g=u.pop(),{score:y,boxIndex:v,suppressBeginIndex:w}=g;if(y<s)break;let x=!1;for(let S=f.length-1;S>=w;--S){const _=_ee(t,v,f[S]);if(_>=r){x=!0;break}if(g.score=g.score*Tee(r,c,_),g.score<=s)break}g.suppressBeginIndex=f.length,x||(g.score===y?(f.push(v),d.push(g.score)):g.score>s&&wee(u,g,cE))}const h=f.length,m=n-h;a&&m>0&&(f.push(...new Array(m).fill(0)),d.push(...new Array(m).fill(0)));const p={selectedIndices:f};return o&&(p.selectedScores=d),l&&(p.validOutputs=h),p}function _ee(t,e,n){const r=t.subarray(e*4,e*4+4),s=t.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(s[0],s[2]),c=Math.min(s[1],s[3]),f=Math.max(s[0],s[2]),d=Math.max(s[1],s[3]),h=(a-i)*(l-o),m=(f-u)*(d-c);if(h<=0||m<=0)return 0;const p=Math.max(i,u),g=Math.max(o,c),y=Math.min(a,f),v=Math.min(l,d),w=Math.max(y-p,0)*Math.max(v-g,0);return w/(h+m-w)}function Tee(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function cE(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Eee(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=E(t,"boxes","nonMaxSuppressionAsync"),o=E(e,"scores","nonMaxSuppressionAsync"),a=cu(i,o,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const l=await Promise.all([i.data(),o.data()]),u=l[0],c=l[1],{selectedIndices:f}=qF(u,c,n,r,s);return i!==t&&i.dispose(),o!==e&&o.dispose(),In(f,"int32")}const Nee=Eee;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kee(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const o=E(t,"boxes","nonMaxSuppression"),a=E(e,"scores","nonMaxSuppression"),l=cu(o,a,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const u={boxes:o,scores:a},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i},f=I.runKernel(qO,u,c);return{selectedIndices:f[0],selectedScores:f[1]}}const Aee=$({nonMaxSuppressionWithScore_:kee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Cee(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const o=E(t,"boxes","nonMaxSuppressionAsync"),a=E(e,"scores","nonMaxSuppressionAsync"),l=cu(o,a,n,r,s,i);n=l.maxOutputSize,r=l.iouThreshold,s=l.scoreThreshold,i=l.softNmsSigma;const u=await Promise.all([o.data(),a.data()]),c=u[0],f=u[1],{selectedIndices:d,selectedScores:h}=XF(c,f,n,r,s,i);return o!==t&&o.dispose(),a!==e&&a.dispose(),{selectedIndices:In(d,"int32"),selectedScores:In(h)}}const Pee=Cee;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ee(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const o=E(t,"boxes","nonMaxSuppression"),a=E(e,"scores","nonMaxSuppression"),l=cu(o,a,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,d={boxes:o,scores:a},h={maxOutputSize:u,iouThreshold:c,scoreThreshold:f,padToMaxOutputSize:i},m=I.runKernel(KO,d,h);return{selectedIndices:m[0],validOutputs:m[1]}}const Iee=$({nonMaxSuppressionPadded_:$ee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Oee(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const o=E(t,"boxes","nonMaxSuppressionAsync"),a=E(e,"scores","nonMaxSuppressionAsync"),l=cu(o,a,n,r,s,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,[d,h]=await Promise.all([o.data(),a.data()]),{selectedIndices:m,validOutputs:p}=YF(d,h,u,c,f,i);return o!==t&&o.dispose(),a!==e&&a.dispose(),{selectedIndices:In(m,"int32"),validOutputs:ue(p,"int32")}}const Dee=Oee;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ree(t,e,n=!1,r=!1){const s=E(t,"images","resizeBilinear");A(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),A(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),A(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=s,o=!1;s.rank===3&&(o=!0,i=B(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},u=I.runKernel(fD,a,l);return o?B(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const Fee=$({resizeBilinear_:Ree});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mee(t,e,n=!1,r=!1){const s=E(t,"images","resizeNearestNeighbor");A(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),A(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),A(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),A(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=s,o=!1;s.rank===3&&(o=!0,i=B(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},u=I.runKernel(cD,a,l);return o?B(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const Lee=$({resizeNearestNeighbor_:Mee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bee(t,e="binary",n=!1,r=.5){const s=E(t,"image","threshold"),i=.2989,o=.587,a=.114,l=s.shape[0]*s.shape[1];let u=Y(In([r]),255),c,f,d,h;if(A(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),A(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),A(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),A(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),s.shape[2]===3){[c,f,d]=ql(s,[1,1,1],-1);const g=Y(c,i),y=Y(f,o),v=Y(d,a);h=J(J(g,y),v)}else h=t;if(e==="otsu"){const g=ib(ye(Mb(h),"int32"),ar([]),256);u=jee(g,l)}const m=n?om(h,u):lu(h,u);return ye(Y(m,255),"int32")}function jee(t,e){let n=In([-1]),r=In([0]),s=In([0]),i,o,a,l,u,c;for(let f=0;f<t.size-1;f++){i=_e(t,0,f+1),o=_e(t,f+1),u=Te(Ce(i),e),c=Te(Ce(o),e);const d=Ce(Y(i,qi(0,i.size)));a=Te(d,Ce(i));const h=au(o.shape,i.size),m=J(qi(0,o.size),h),p=Y(o,m);l=Te(Ce(p),Ce(o));const g=ae(a,l),y=ae(a,l),v=Y(u,c);s=Y(Y(v,g),y);const w=lu(s,r);r=$s(w,s,r),n=$s(w,In([f]),n)}return n}const zee=$({threshold_:Bee});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vee(t,e,n="nearest",r="constant",s=0,i){const o=E(t,"image","transform","float32"),a=E(e,"transforms","transform","float32");A(o.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`),A(a.rank===2&&(a.shape[0]===o.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),A(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const l={image:o,transforms:a},u={interpolation:n,fillMode:r,fillValue:s,outputShape:i};return I.runKernel(KD,l,u)}const Uee=$({transform_:Vee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wee(t,e,n){const r=E(t,"a","bandPart");A(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[i,o]=r.shape.slice(-2);let a,l;typeof e=="number"?(A(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),A(e<=i,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${i}).`),a=E(e<0?i:e,"numLower","bandPart")):(A(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=$s(up(e,0),i,ef(e,i))),typeof n=="number"?(A(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),A(n<=o,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`),l=E(n<0?o:n,"numUpper","bandPart")):(A(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=$s(up(n,0),o,ef(n,o)));const u=B(qi(0,i,1,"int32"),[-1,1]),c=qi(0,o,1,"int32"),f=ae(u,c),d=Zc(om(f,a),db(f,Ir(l))),h=oa([i,o],r.dtype);return B(hs(ro(B(r,[-1,i,o])).map(m=>$s(d,m,h))),s)}const Hee=$({bandPart_:Wee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gee(t){let e;if(Array.isArray(t)){e=!1,A(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=t[0].shape[0];for(let i=1;i<t.length;++i)A(t[i].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[i].shape[0]} vs. ${s})`)}else e=!0,t=ql(t,t.shape[0],0).map(s=>Jr(s,[0]));A(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let s=0;s<t.length;++s)n.push(I.tidy(()=>{let i=r[s];if(s>0)for(let o=0;o<s;++o){const a=Y(Ce(Y(n[o],i)),n[o]);i=ae(i,a)}return Te(i,Of(i,"euclidean"))}));return e?hs(n,0):n}const Kee=$({gramSchmidt_:Gee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qee(t,e=!1){if(A(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return fE(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,u)=>l*u),r=ro(B(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),s=[],i=[];r.forEach(l=>{const[u,c]=fE(l,e);s.push(u),i.push(c)});const o=B(hs(s,0),t.shape),a=B(hs(i,0),t.shape);return[o,a]}}function fE(t,e=!1){return I.tidy(()=>{A(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let s=ub(n),i=Cs(t);const o=fl([[1]],[1,1]);let a=Cs(o);const l=n>=r?r:n;for(let u=0;u<l;++u){const c=i,f=a,d=s;[a,i,s]=I.tidy(()=>{const h=_e(i,[u,u],[n-u,1]),m=Of(h),p=_e(i,[u,u],[1,1]),g=$s(lu(p,0),fl([[-1]]),fl([[1]])),y=ae(p,Y(g,m)),v=Te(h,y);v.shape[0]===1?a=Cs(o):a=Et([o,_e(v,[1,0],[v.shape[0]-1,v.shape[1]])],0);const w=Ir(Te(me(g,y),m)),x=_e(i,[u,0],[n-u,r]),S=Y(w,a),_=rf(a);if(u===0)i=ae(x,me(S,me(_,x)));else{const P=ae(x,me(S,me(_,x)));i=Et([_e(i,[0,0],[u,r]),P],0)}const T=rf(S),k=_e(s,[0,u],[n,s.shape[1]-u]);if(u===0)s=ae(k,me(me(k,a),T));else{const P=ae(k,me(me(k,a),T));s=Et([_e(s,[0,0],[n,u]),P],1)}return[a,i,s]}),Bt([c,f,d])}return!e&&n>r&&(s=_e(s,[0,0],[n,r]),i=_e(i,[0,0],[r,r])),[s,i]})}const Yee=$({qr_:qee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ft;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Ft||(Ft={}));function Xee(t,e,n=Ft.SUM_BY_NONZERO_WEIGHTS){const r=E(t,"losses","computeWeightedLoss");let s=null;e!=null&&(s=E(e,"weights","computeWeightedLoss"));const i=s==null?r:Y(r,s);if(n===Ft.NONE)return i;if(n===Ft.SUM)return Ce(i);if(n===Ft.MEAN){if(s==null)return Jc(i);{const o=r.size/s.size,a=Te(Ce(i),Ce(s));return o>1?Te(a,ue(o)):a}}if(n===Ft.SUM_BY_NONZERO_WEIGHTS){if(s==null)return Te(Ce(i),ue(r.size));{const o=Y(s,Si(r.shape)),a=ye(Ce(xb(o,ue(0))),"float32");return Te(Ce(i),a)}}throw Error(`Unknown reduction: ${n}`)}const Gs=$({computeWeightedLoss_:Xee});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qee(t,e,n,r=Ft.SUM_BY_NONZERO_WEIGHTS){const s=E(t,"labels","absoluteDifference"),i=E(e,"predictions","absoluteDifference");let o=null;n!=null&&(o=E(n,"weights","absoluteDifference")),zt(s.shape,i.shape,"Error in absoluteDifference: ");const a=nn(ae(s,i));return Gs(a,o,r)}const Zee=$({absoluteDifference_:Qee});function Jee(t,e,n,r,s=Ft.SUM_BY_NONZERO_WEIGHTS){const i=E(t,"labels","cosineDistance"),o=E(e,"predictions","cosineDistance");let a=null;r!=null&&(a=E(r,"weights","cosineDistance")),zt(i.shape,o.shape,"Error in cosineDistance: ");const l=ue(1),u=ae(l,Ce(Y(i,o),n,!0));return Gs(u,a,s)}const ete=$({cosineDistance_:Jee});function tte(t,e,n,r=Ft.SUM_BY_NONZERO_WEIGHTS){let s=E(t,"labels","hingeLoss");const i=E(e,"predictions","hingeLoss");let o=null;n!=null&&(o=E(n,"weights","hingeLoss")),zt(s.shape,i.shape,"Error in hingeLoss: ");const a=ue(1);s=ae(Y(ue(2),s),a);const l=Rf(ae(a,Y(s,i)));return Gs(l,o,r)}const nte=$({hingeLoss_:tte});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rte(t,e,n,r=1,s=Ft.SUM_BY_NONZERO_WEIGHTS){const i=E(t,"labels","huberLoss"),o=E(e,"predictions","huberLoss");let a=null;n!=null&&(a=E(n,"weights","huberLoss")),zt(i.shape,o.shape,"Error in huberLoss: ");const l=ue(r),u=nn(ae(o,i)),c=ef(u,l),f=ae(u,c),d=J(Y(ue(.5),lr(c)),Y(l,f));return Gs(d,a,s)}const ste=$({huberLoss_:rte});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ite(t,e,n,r=1e-7,s=Ft.SUM_BY_NONZERO_WEIGHTS){const i=E(t,"labels","logLoss"),o=E(e,"predictions","logLoss");let a=null;n!=null&&(a=E(n,"weights","logLoss")),zt(i.shape,o.shape,"Error in logLoss: ");const l=ue(1),u=ue(r),c=Ir(Y(i,Gl(J(o,u)))),f=Y(ae(l,i),Gl(J(ae(l,o),u))),d=ae(c,f);return Gs(d,a,s)}const ote=$({logLoss_:ite});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ate(t,e,n,r=Ft.SUM_BY_NONZERO_WEIGHTS){const s=E(t,"labels","meanSquaredError"),i=E(e,"predictions","meanSquaredError");let o=null;n!=null&&(o=E(n,"weights","meanSquaredError")),zt(s.shape,i.shape,"Error in meanSquaredError: ");const a=Bb(s,i);return Gs(a,o,r)}const lte=$({meanSquaredError_:ate});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ute(t,e){const n=E(t,"labels","sigmoidCrossEntropyWithLogits"),r=E(e,"logits","sigmoidCrossEntropyWithLogits");zt(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=Rf(r),i=Y(r,n),o=pb(Ki(Ir(nn(r))));return J(ae(s,i),o)}function cte(t,e,n,r=0,s=Ft.SUM_BY_NONZERO_WEIGHTS){let i=E(t,"multiClassLabels","sigmoidCrossEntropy");const o=E(e,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=E(n,"weights","sigmoidCrossEntropy")),zt(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){const u=ue(r),c=ue(1),f=ue(.5);i=J(Y(i,ae(c,u)),Y(f,u))}const l=ute(i,o);return Gs(l,a,s)}const fte=$({sigmoidCrossEntropy_:cte});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dte(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return ds((s,i,o)=>{const l=gb(i,[n],!0),u=ae(ye(i,"float32"),l);o([s,u]);const c=Ir(Y(u,s));return{value:Ce(c,[n]),gradFunc:(h,m)=>{const[p,g]=m,y=If(h.shape,[n]);return[Y(B(h,y),ae(ye(p,"float32"),Ki(g))),Y(B(h,y),ae(Ki(g),ye(p,"float32")))]}}})(t,e)}function hte(t,e,n,r=0,s=Ft.SUM_BY_NONZERO_WEIGHTS){let i=E(t,"onehotLabels","softmaxCrossEntropy");const o=E(e,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=E(n,"weights","softmaxCrossEntropy")),zt(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){const u=ue(r),c=ue(1),f=ue(i.shape[1]);i=J(Y(i,ae(c,u)),Te(u,f))}const l=dte(i,o);return Gs(l,a,s)}const pte=$({softmaxCrossEntropy_:hte});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mte(t,e,n,r){const s=E(t,"indices","sparseFillEmptyRows","int32"),i=E(e,"values","sparseFillEmptyRows"),o=E(n,"denseShape","sparseFillEmptyRows","int32"),a=E(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(i.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(o.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);const l={indices:s,values:i,denseShape:o,defaultValue:a},u=I.runKernel(ID,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const gte=$({sparseFillEmptyRows_:mte});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yte(t,e,n){const r=E(t,"inputIndices","sparseReshape","int32"),s=E(e,"inputShape","sparseReshape","int32"),i=E(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(i.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);const o={inputIndices:r,inputShape:s,newShape:i},a=I.runKernel(OD,o);return{outputIndices:a[0],outputShape:a[1]}}const vte=$({sparseReshape_:yte});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wte(t,e,n){const r=E(t,"data","sparseSegmentMean"),s=E(e,"indices","sparseSegmentMean","int32"),i=E(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${i.shape}`);const o={data:r,indices:s,segmentIds:i};return I.runKernel(DD,o)}const bte=$({sparseSegmentMean_:wte});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xte(t,e,n){const r=E(t,"data","sparseSegmentSum"),s=E(e,"indices","sparseSegmentSum","int32"),i=E(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${i.shape}`);const o={data:r,indices:s,segmentIds:i};return I.runKernel(RD,o)}const Ste=$({sparseSegmentSum_:xte});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _te(t,e,n,r,s,i,o,a){const l=E(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=E(e,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:s,rightPad:i,padWidth:o,preserveShortSequences:a},f={data:l,dataSplits:u},d=I.runKernel(jD,f,c);return{nGrams:d[0],nGramsSplits:d[1]}}const Tte=$({stringNGrams_:_te});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ete(t,e,n=!0){const r=E(t,"input","stringSplit","string"),s=E(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const i={skipEmpty:n},o={input:r,delimiter:s},a=I.runKernel(zD,o,i);return{indices:a[0],values:a[1],shape:a[2]}}const Nte=$({stringSplit_:Ete});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kte(t,e){const n=E(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return I.runKernel(VD,s,r)}const Ate=$({stringToHashBucketFast_:kte});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cte(t,e,n,r=!0){const s=E(t,"input","staticRegexReplace","string"),i={pattern:e,rewrite:n,replaceGlobal:r};return I.runKernel(LD,{x:s},i)}const Pte=$({staticRegexReplace_:Cte});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QF={fft:cm,ifft:nf,rfft:fm,irfft:Lb},ZF={hammingWindow:nee,hannWindow:GF,frame:KF,stft:oee},Ff={flipLeftRight:cee,grayscaleToRGB:dee,resizeNearestNeighbor:Lee,resizeBilinear:Fee,rgbToGrayscale:pee,rotateWithOffset:gee,cropAndResize:lee,nonMaxSuppression:vee,nonMaxSuppressionAsync:Nee,nonMaxSuppressionWithScore:Aee,nonMaxSuppressionWithScoreAsync:Pee,nonMaxSuppressionPadded:Iee,nonMaxSuppressionPaddedAsync:Dee,threshold:zee,transform:Uee},JF={bandPart:Hee,gramSchmidt:Kee,qr:Yee},eM={absoluteDifference:Zee,computeWeightedLoss:Gs,cosineDistance:ete,hingeLoss:nte,huberLoss:ste,logLoss:ote,meanSquaredError:lte,sigmoidCrossEntropy:fte,softmaxCrossEntropy:pte},tM={sparseFillEmptyRows:gte,sparseReshape:vte,sparseSegmentMean:bte,sparseSegmentSum:Ste},nM={stringNGrams:Tte,stringSplit:Nte,stringToHashBucketFast:Ate,staticRegexReplace:Pte};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $te=new Map,ov=new Map;class rM{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class li{constructor(){this.classNameMap={}}static getMap(){return li.instance==null&&(li.instance=new li),li.instance}static register(e){li.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function sM(t,e,n){A(t.className!=null,()=>"Class being registered does not have the static className property defined."),A(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),A(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const r=n,s=e+">"+r;return li.register(t),$te.set(s,t),ov.set(t,s),t}function Ite(t){return ov.has(t)?ov.get(t):t.className}const Ote=Object.freeze(Object.defineProperty({__proto__:null,Serializable:rM,SerializationMap:li,getRegisteredName:Ite,registerClass:sM},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class so extends rM{minimize(e,n=!1,r){const{value:s,grads:i}=this.computeGradients(e,r);if(r!=null){const o=r.map(a=>({name:a.name,tensor:i[a.name]}));this.applyGradients(o)}else this.applyGradients(i);return Bt(i),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return $3(e,n)}dispose(){this.iterations_!=null&&Bt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:ue(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(so,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gb extends so{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=I.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=I.registeredVariables[r],o=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:re(()=>gn(i).variable(o))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:re(()=>gn(i).variable(o))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const l=this.accumulatedGrads[s].variable,u=this.accumulatedUpdates[s].variable;re(()=>{const c=J(Y(l,this.rho),Y(lr(a),1-this.rho)),f=Y(Te(fs(J(u,this.epsilon)),fs(J(l,this.epsilon))),a),d=J(Y(u,this.rho),Y(lr(f),1-this.rho));l.assign(c),u.assign(d);const h=J(Y(f,-this.learningRate),i);i.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Bt(this.accumulatedGrads.map(e=>e.variable)),Bt(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Kb extends so{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=I.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:re(()=>au(i.shape,this.initialAccumulatorValue).variable(!1))});const o=Array.isArray(e)?e[s].tensor:e[r];if(o==null)return;const a=this.accumulatedGrads[s].variable;re(()=>{const l=J(a,lr(o));a.assign(l);const u=J(Y(Te(o,fs(J(l,I.backend.epsilon()))),-this.learningRate),i);i.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Bt(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qb extends so{static get className(){return"Adam"}constructor(e,n,r,s=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],re(()=>{this.accBeta1=ue(n).variable(),this.accBeta2=ue(r).variable()}),s==null&&(this.epsilon=I.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);re(()=>{const r=ae(1,this.accBeta1),s=ae(1,this.accBeta2);n.forEach((i,o)=>{const a=I.registeredVariables[i],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:re(()=>gn(a).variable(l))}),this.accumulatedSecondMoment[o]==null&&(this.accumulatedSecondMoment[o]={originalName:`${i}/v`,variable:re(()=>gn(a).variable(l))});const u=Array.isArray(e)?e[o].tensor:e[i];if(u==null)return;const c=this.accumulatedFirstMoment[o].variable,f=this.accumulatedSecondMoment[o].variable,d=J(Y(c,this.beta1),Y(u,1-this.beta1)),h=J(Y(f,this.beta2),Y(lr(u),1-this.beta2)),m=Te(d,r),p=Te(h,s);c.assign(d),f.assign(h);const g=J(Y(Te(m,J(fs(p),this.epsilon)),-this.learningRate),a);a.assign(g)}),this.accBeta1.assign(Y(this.accBeta1,this.beta1)),this.accBeta2.assign(Y(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Bt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Bt(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),re(()=>{this.accBeta1.assign(Hl(this.beta1,this.iterations_+1)),this.accBeta2.assign(Hl(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Yb extends so{static get className(){return"Adamax"}constructor(e,n,r,s=null,i=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],re(()=>{this.iteration=ue(0).variable(),this.accBeta1=ue(n).variable()}),s==null&&(this.epsilon=I.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);re(()=>{const r=ae(1,this.accBeta1),s=Te(-this.learningRate,J(Y(this.iteration,this.decay),1));n.forEach((i,o)=>{const a=I.registeredVariables[i],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:gn(a).variable(l)}),this.accumulatedWeightedInfNorm[o]==null&&(this.accumulatedWeightedInfNorm[o]={originalName:`${i}/v`,variable:gn(a).variable(l)});const u=Array.isArray(e)?e[o].tensor:e[i];if(u==null)return;const c=this.accumulatedFirstMoment[o].variable,f=this.accumulatedWeightedInfNorm[o].variable,d=J(Y(c,this.beta1),Y(u,1-this.beta1)),h=Y(f,this.beta2),m=nn(u),p=bb(h,m);c.assign(d),f.assign(p);const g=J(Y(Te(s,r),Te(d,J(p,this.epsilon))),a);a.assign(g)}),this.iteration.assign(J(this.iteration,1)),this.accBeta1.assign(Y(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Bt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Bt(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vm extends so{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Array.isArray(e)?e[s].tensor:e[r];if(i==null)return;const o=I.registeredVariables[r];re(()=>{const a=J(Y(this.c,i),o);o.assign(a)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Ar(ue(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xb extends vm{static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=ue(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=I.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:re(()=>gn(i).variable(!1))});const o=this.accumulations[s].variable,a=Array.isArray(e)?e[s].tensor:e[r];a!=null&&re(()=>{let l;const u=J(Y(this.m,o),a);this.useNesterov?l=J(Y(this.c,J(a,Y(u,this.m))),i):l=J(Y(this.c,u),i),o.assign(u),i.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Bt(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Qb extends so{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,s=null,i=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,s==null&&(this.epsilon=I.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=I.registeredVariables[r],o=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:re(()=>gn(i).variable(o))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:re(()=>gn(i).variable(o))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:re(()=>gn(i).variable(o))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const l=this.accumulatedMeanSquares[s].variable,u=this.accumulatedMoments[s].variable;re(()=>{const c=J(Y(l,this.decay),Y(lr(a),1-this.decay));if(this.centered){const f=this.accumulatedMeanGrads[s].variable,d=J(Y(f,this.decay),Y(a,1-this.decay)),h=Te(Y(a,this.learningRate),fs(ae(c,J(lr(d),this.epsilon)))),m=J(Y(u,this.momentum),h);l.assign(c),f.assign(d),u.assign(m);const p=ae(i,m);i.assign(p)}else{const f=J(Y(l,this.decay),Y(lr(a),1-this.decay)),d=J(Y(u,this.momentum),Te(Y(a,this.learningRate),fs(J(f,this.epsilon))));l.assign(f),u.assign(d);const h=ae(i,d);i.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Bt(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Bt(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Bt(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dte=[Gb,Kb,qb,Yb,Xb,Qb,vm];function Rte(){for(const t of Dte)sM(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fte="model",Mte=".json",Lte=".weights.bin";function dE(t){return new Promise(e=>setTimeout(e)).then(t)}class aa{constructor(e){if(!te().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(aa.URL_SCHEME)&&(e=e.slice(aa.URL_SCHEME.length)),(e==null||e.length===0)&&(e=Fte),this.modelJsonFileName=e+Mte,this.weightDataFileName=e+Lte}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=Br.join(e.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const s=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],i=SR(e,s),o=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),a=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=o,await dE(()=>a.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=r,await dE(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:kf(e)}}}}aa.URL_SCHEME="downloads://";class Bte{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=s=>{const i=JSON.parse(s.target.result),o=i.modelTopology;if(o==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(i.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:o});return}const l=Zw(i,u=>this.loadWeights(u));e(l)},r.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const o of e)n.push(...o.weights),r.push(...o.paths);const s=this.checkManifestAndWeightFiles(e),i=r.map(o=>this.loadWeightsFile(o,s[o]));return Promise.all(i).then(o=>[n,o])}loadWeightsFile(e,n){return new Promise((r,s)=>{const i=new FileReader;i.onload=o=>{const a=o.target.result;r(a)},i.onerror=o=>s(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(i=>uE(i.name)),s={};for(const i of e)i.paths.forEach(o=>{const a=uE(o);if(n.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(n.push(a),r.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);s[o]=this.weightsFiles[r.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const jte=t=>te().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(aa.URL_SCHEME)?zte(t.slice(aa.URL_SCHEME.length)):null;je.registerSaveRouter(jte);function zte(t="model"){return new aa(t)}function Vte(t){return new Bte(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hE(t,e,n,r){o(t),n=n??0,r=r??1,a(n,r);let s=0;const i=l=>(l.then(u=>{const c=n+ ++s/t.length*(r-n);return e(c),u}),l);function o(l){A(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function a(l,u){A(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),A(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),A(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(t.map(i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function iM(t,e){e==null&&(e={});const n=e.fetchFunc==null?te().platform.fetch:e.fetchFunc,r=t.map(f=>n(f,e.requestInit,{isBinary:!0})),a=(e.onProgress==null?await Promise.all(r):await hE(r,e.onProgress,0,.5)).map(f=>f.arrayBuffer());return e.onProgress==null?await Promise.all(a):await hE(a,e.onProgress,.5,1)}function Ute(t,e){var n;const r=e.fetchFunc==null?te().platform.fetch:e.fetchFunc;let s=0,i;return(n=e.onProgress)===null||n===void 0||n.call(e,0),new ReadableStream({pull:async o=>{for(var a;s<t.length;){i||(i=(await r(t[s],e.requestInit,{isBinary:!0})).body.getReader());const{done:l,value:u}=await i.read();if(l){s++,i=void 0,(a=e.onProgress)===null||a===void 0||a.call(e,s/t.length);continue}o.enqueue(u);return}o.close()}})}async function Wte(t,e="",n,r){return oM(o=>iM(o,{requestInit:r}))(t,e,n)}function oM(t){return async(e,n="",r)=>{const s=e.map(()=>!1),i={},o=r!=null?r.map(()=>!1):[],a=[];if(e.forEach((h,m)=>{let p=0;h.weights.forEach(g=>{const y="quantization"in g?g.quantization.dtype:g.dtype,v=na[y]*xe(g.shape),w=()=>{s[m]=!0,i[m]==null&&(i[m]=[]),i[m].push({manifestEntry:g,groupOffset:p,sizeBytes:v})};r!=null?r.forEach((x,S)=>{x===g.name&&(w(),o[S]=!0)}):w(),a.push(g.name),p+=v})}),!o.every(h=>h)){const h=r.filter((m,p)=>!o[p]);throw new Error(`Could not find weights in manifest with names: ${h.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}const l=s.reduce((h,m,p)=>(m&&h.push(p),h),[]),u=[];l.forEach(h=>{e[h].paths.forEach(m=>{const p=n+(n.endsWith("/")?"":"/")+m;u.push(p)})});const c=await t(u),f={};let d=0;return l.forEach(h=>{const m=e[h].paths.length,p=new Br(c.slice(d,d+m));i[h].forEach(y=>{const v=p.slice(y.groupOffset,y.groupOffset+y.sizeBytes),w=wR(v,[y.manifestEntry]);for(const x in w)f[x]=w[x]}),d+=m}),f}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hte="application/octet-stream",Gte="application/json";class Zb{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(A(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=te().platform.fetch,A(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&A(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],s=SR(e,r);if(n.body.append("model.json",new Blob([JSON.stringify(s)],{type:Gte}),"model.json"),e.weightData!=null){const o=Br.join(e.weightData);n.body.append("model.weights.bin",new Blob([o],{type:Hte}),"model.weights.bin")}const i=await this.fetch(this.path,n);if(i.ok)return{modelArtifactsInfo:kf(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let o=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?o+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":o+=" Please make sure the server is serving valid JSON for this request.",new Error(o)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return Zw(e,n=>this.loadWeights(n))}async loadStream(){const e=await this.loadModelJSON(),n=await this.getWeightUrls(e.weightsManifest),r=ev(e.weightsManifest),s=()=>Ute(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:r,getWeightStream:s})}async getWeightUrls(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=Kte(n),i=this.weightPathPrefix||r,o=[],a=[];for(const l of e)for(const u of l.paths)this.weightUrlConverter!=null?a.push(this.weightUrlConverter(u)):o.push(i+u+s);return this.weightUrlConverter&&o.push(...await Promise.all(a)),o}async loadWeights(e){const n=await this.getWeightUrls(e),r=ev(e),s=await iM(n,this.loadOptions);return[r,s]}}Zb.URL_SCHEME_REGEX=/^https?:\/\//;function Kte(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),s=n>e?t.substring(n):"";return[r+"/",s]}function av(t){return t.match(Zb.URL_SCHEME_REGEX)!=null}const aM=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>av(r)):n=av(t),n)return Jb(t,e)}return null};je.registerSaveRouter(aM);je.registerLoadRouter(aM);function Jb(t,e){return new Zb(t,e)}function qte(t,e){return Jb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Fg{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class lM{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Yte{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function Xte(t,e,n,r){const s=arguments;return new Yte(uM(...s))}function uM(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new Fg(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Fg({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Fg({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function Qte(t){return new lM(t)}function Zte(t){return new lM(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ex=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:Br,browserFiles:Vte,browserHTTPRequest:qte,concatenateArrayBuffers:Kq,copyModel:mY,decodeWeights:wR,decodeWeightsStream:xR,encodeWeights:zq,fromMemory:Xte,fromMemorySync:uM,getLoadHandlers:tY,getModelArtifactsForJSON:Zw,getModelArtifactsForJSONSync:_R,getModelArtifactsInfoForJSON:kf,getSaveHandlers:eY,getWeightSpecs:ev,http:Jb,isHTTPScheme:av,listModels:hY,loadWeights:Wte,moveModel:gY,registerLoadRouter:Jq,registerSaveRouter:Zq,removeModel:pY,weightsLoaderFactory:oM,withSaveHandler:Qte,withSaveHandlerSync:Zte},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jte(t,e,n){const r=E(t,"labels","confusionMatrix"),s=E(e,"predictions","confusionMatrix");A(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),A(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),A(s.rank===1,()=>`Expected the rank of predictions to be 1, but got ${s.rank}`),A(r.shape[0]===s.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${s.shape[0]}. Labels and predictions should have the same number of elements.`),A(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const i=tf(ye(r,"int32"),n),o=tf(ye(s,"int32"),n),a=rf(i),l=me(a,o);return ye(l,"int32")}const ene=$({confusionMatrix_:Jte});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tne=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:ene},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let fo,pE=!1;function cM(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,i=!1,o=!1,a=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)i=!0;else if(t.getContext!=null)o=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(Hc(z0,I.backendName)!=null){const m={pixels:t},p={numChannels:e};return I.runKernel(z0,m,p)}const[u,c]=s?[t.videoWidth,t.videoHeight]:[t.width,t.height];let f;if(o)f=t.getContext("2d").getImageData(0,0,u,c).data;else if(r||n)f=t.data;else if(i||s||a){if(fo==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")fo=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else fo=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});fo.canvas.width=u,fo.canvas.height=c,fo.drawImage(t,0,0,u,c),f=fo.getImageData(0,0,u,c).data}let d;if(e===4)d=new Int32Array(f);else{const m=u*c;d=new Int32Array(m*e);for(let p=0;p<m;p++)for(let g=0;g<e;++g)d[p*e+g]=f[p*4+g]}return zb(d,[c,u,e],"int32")}function nne(t){return t!=null&&t.data instanceof Uint8Array}function rne(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function sne(t){return t!=null&&t.width!==0&&t.height!==0}function ine(t){return rne()&&!(t instanceof ImageBitmap)&&sne(t)&&!nne(t)}async function one(t,e=3){let n=null;if(te().getBool("WRAP_TO_IMAGEBITMAP")&&ine(t)){let r;try{r=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===t.width&&r.height===t.height?n=r:n=t}else n=t;return cM(n,e)}function fM(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}function ane(t){const e=(t==null?void 0:t.alpha)||1;if(e>1||e<0)throw new Error(`Alpha value ${e} is suppoed to be in range [0 - 1].`)}async function lne(t,e){let n=E(t,"img","toPixels");if(!(t instanceof Fe)){const u=n;n=ye(u,"int32"),u.dispose()}fM(n);const[r,s]=n.shape.slice(0,2),i=n.rank===2?1:n.shape[2],o=await n.data(),a=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(s*r*4);for(let u=0;u<r*s;++u){const c=[0,0,0,255];for(let d=0;d<i;d++){const h=o[u*i+d];if(n.dtype==="float32"){if(h<0||h>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${h}.`)}else if(n.dtype==="int32"&&(h<0||h>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${h}.`);i===1?(c[0]=h*a,c[1]=h*a,c[2]=h*a):c[d]=h*a}const f=u*4;l[f+0]=Math.round(c[0]),l[f+1]=Math.round(c[1]),l[f+2]=Math.round(c[2]),l[f+3]=Math.round(c[3])}if(e!=null){pE||Hc(zw,I.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),pE=!0),e.width=s,e.height=r;const u=e.getContext("2d"),c=new ImageData(l,s,r);u.putImageData(c,0,0)}return n!==t&&n.dispose(),l}function une(t,e,n){let r=E(t,"img","draw");if(!(t instanceof Fe)){const o=r;r=ye(o,"int32"),o.dispose()}fM(r),ane(n==null?void 0:n.imageOptions);const s={image:r},i={canvas:e,options:n};I.runKernel(zw,s,i)}const dM=$({fromPixels_:cM}),cne=Object.freeze(Object.defineProperty({__proto__:null,draw:une,fromPixels:dM,fromPixelsAsync:one,toPixels:lne},Symbol.toStringTag,{value:"Module"}));function hM(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(xe(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const s=e.shape,i=s[s.length-1];let o=1;for(let f=0;f<s.length-1;++f)o*=s[f];const a=t.shape,l=s.slice();l.pop();let u=1;for(let f=i;f<n;++f)u*=a[f],l.push(a[f]);const c=[...ou(t.shape).map(f=>f/u),1].slice(0,i);return[l,o,u,c]}const fne=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:hM},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lv=-2,dne=-1;function hne(t,e,n){const r=t.shape.length;A(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),A(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let s=0;s<r;++s)A(e[s]+n[s]<=t.shape[s],()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${e[s]+n[s]}) would overflow input.shape[${s}] (${t.shape[s]})`)}function pne(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function mne(t,e,n){const r=[];for(let s=0;s<t.length;s++)r[s]=Math.ceil((e[s]-t[s])/n[s]);return r}function pM(t,e,n,r){const s=[...t];for(let i=s.length;i<r.length;i++)s.push(1);for(let i=0;i<n;i++)i===0?s[e]=1:(s.splice(e,0,1),s.pop());return s}function mM(t,e,n){return n<=t?n:n-(e-1)}function gM(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function gne(t,e,n,r,s,i,o,a,l){const u=t.length;let c=new Array(u),f=new Array(u),d=new Array(u);if(e.length&&n>0){const h=e[0],m=n+1;c=yM(o,h,m,r,t),f=vM(a,h,m,s,t),d=pM(i,h,m,t)}else for(let h=0;h<u;h++)c[h]=bM(o,r,i,t,h,l),f[h]=xM(a,s,i,t,h,l),d[h]=wM(i,h,l);return{begin:c,end:f,strides:d}}function yM(t,e,n,r,s){const i=[...s],o=gM(n,e);for(let a=0;a<i.length;a++)if(o.indexOf(a)>-1)i[a]=0;else{const l=mM(e,n,a);let u=r[l];t&1<<l&&(u=0),i[a]=u}return i}function vM(t,e,n,r,s){const i=[...s],o=gM(n,e);for(let a=0;a<i.length;a++)if(o.indexOf(a)>-1)i[a]=Number.MAX_SAFE_INTEGER;else{const l=mM(e,n,a);let u=r[l];t&1<<l&&(u=Number.MAX_SAFE_INTEGER),i[a]=u}for(let a=0;a<i.length;a++){const l=s[a];i[a]<0&&(i[a]+=l),i[a]=Uc(0,i[a],s[a])}return i}function wM(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function bM(t,e,n,r,s,i){let o=e[s];const a=n[s]||1;(t&1<<s||i&1<<s||o==null)&&(a>0?o=Number.MIN_SAFE_INTEGER:o=Number.MAX_SAFE_INTEGER);const l=r[s];return o<0&&(o+=l),o=Uc(0,o,l-1),o}function xM(t,e,n,r,s,i){let o=e[s];const a=n[s]||1;(t&1<<s||i&1<<s||o==null)&&(a>0?o=Number.MAX_SAFE_INTEGER:o=Number.MIN_SAFE_INTEGER);const l=r[s];return o<0&&(o+=l),a>0?o=Uc(0,o,l):o=Uc(-1,o,l-1),o}function yne(t,e,n){let r=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){r=s;break}for(let s=r+1;s<n.length;s++)if(e[s]>0||n[s]!==t[s])return!1;return!0}function vne(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function wne(t,e,n){let r;const s=t.shape.length;typeof e=="number"?r=[e,...new Array(s-1).fill(0)]:e.length<s?r=e.concat(new Array(s-e.length).fill(0)):r=e.slice(),r.forEach(o=>{A(o!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(s).fill(-1):typeof n=="number"?i=[n,...new Array(s-1).fill(-1)]:n.length<s?i=n.concat(new Array(s-n.length).fill(-1)):i=n,i=i.map((o,a)=>o>=0?o:(A(o===-1,()=>`Negative size values should be exactly -1 but got ${o} for the slice() size at index ${a}.`),t.shape[a]-r[a])),[r,i]}function bne(t,e,n,r,s,i,o,a,l){let u;if(r==null?(u=new Array(e.length),u.fill(1)):u=r,o!=null&&o&o-1)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const f={dims:u.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:u.slice(),beginMask:s,endMask:i,ellipsisMask:o,newAxisMask:a,shrinkAxisMask:l};for(let w=0;w<f.dims;w++)c&&1<<w&a&&f.numAddAxisAfterEllipsis++,1<<w&o&&(c=!0);c||(f.ellipsisMask|=1<<f.dims,f.dims++);const d={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};xne(f,d);let h=!0,m=!0,p=!0;const g=[],y=[];for(let w=0;w<t.length;++w){if(d.strides[w]===0)throw Error(`strides[${w}] must be non-zero`);const x=!!(d.shrinkAxisMask&1<<w),S=t[w];if(S===-1){g.push(x?1:-1);continue}const _=[d.beginMask&1<<w,d.endMask&1<<w],T=[d.strides[w]>0?0:-1,d.strides[w]>0?S:S-1];if(x&&d.strides[w]<=0)throw Error("only stride 1 allowed on non-range indexing.");p=p&&d.strides[w]===1;const k=!!(d.beginMask&1<<w&&d.endMask&1<<w);if(d.beginValid&&d.endValid){if(x){const F=d.begin[w]<0?S+d.begin[w]:d.begin[w];if(d.begin[w]=F,d.end[w]=d.begin[w]+1,F<0||F>=S)throw Error(`slice index ${d.begin[w]} of dimension ${w} out of bounds.`)}else d.begin[w]=mE(d.begin[w],0,d.strides[w],S,_,T),d.end[w]=mE(d.end[w],1,d.strides[w],S,_,T);const D=d.strides[w]===1&&d.begin[w]===0&&d.end[w]===S;h=h&&D,m=m&&(w===0&&d.strides[w]===1||D)}else h=h&&d.strides[w]===1&&k,m=m&&(w===0&&d.strides[w]===1||k);let P,O=!1;if(d.beginValid&&d.endValid?(P=d.end[w]-d.begin[w],O=!0):x?(P=1,O=!0):k&&S>=0&&(d.strides[w]<0?P=-S:P=S,O=!0),O){let D;P===0||P<0!=d.strides[w]<0?D=0:D=Math.trunc(P/d.strides[w])+(P%d.strides[w]!==0?1:0),g.push(D)}else g.push(-1)}for(let w=0;w<d.finalShapeGatherIndices.length;++w){const x=d.finalShapeGatherIndices[w];x>=0?y.push(g[x]):x===lv&&y.push(1)}return{finalShapeSparse:y.filter((w,x)=>d.finalShapeGatherIndices[x]!==lv),finalShape:y,isIdentity:h,sliceDim0:m,isSimpleSlice:p,begin:d.begin,end:d.end,strides:d.strides}}function xne(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const s=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<s;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(lv),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(dne),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function mE(t,e,n,r,s,i){if(s[e])return n>0?i[e]:i[e+1&1];{const o=t<0?r+t:t;return o<i[0]?i[0]:o>i[1]?i[1]:o}}const SM=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:hne,computeFlatOffset:vne,computeOutShape:mne,getNormalizedAxes:gne,isSliceContinous:yne,maskToAxes:pne,parseSliceParams:wne,sliceInfo:bne,startForAxis:bM,startIndicesWithElidedDims:yM,stopForAxis:xM,stopIndicesWithElidedDims:vM,stridesForAxis:wM,stridesWithElidedDims:pM},Symbol.toStringTag,{value:"Module"}));/** @license See the LICENSE file. */const Sne="4.22.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _M{static sgd(e){return new vm(e)}static momentum(e,n,r=!1){return new Xb(e,n,r)}static rmsprop(e,n=.9,r=0,s=null,i=!1){return new Qb(e,n,r,s,i)}static adam(e=.001,n=.9,r=.999,s=null){return new qb(e,n,r,s)}static adadelta(e=.001,n=.95,r=null){return new Gb(e,n,r)}static adamax(e=.002,n=.9,r=.999,s=null,i=0){return new Yb(e,n,r,s,i)}static adagrad(e,n=.1){return new Kb(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ne=_M;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tne=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function Ene(){return new Promise(t=>Tne(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nne(t,e){const n=t[0].length;t.forEach((s,i)=>{A(s.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),A(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((s,i)=>{for(let o=0;o<n;o++)A(o===e||s[o]===r[o],()=>`Error in concat${n}D: Shape of tensors[${i}] (${s}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function kne(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var qr;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(qr||(qr={}));function Ane(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let s=1;s<n.length;++s){const i=n[s],o=r[r.length-n.length+s],a=r[o];if(i>=0)if(a>=0){if(a!==i)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${s+t}] = ${i} but shape[${s+t}] = ${a}`)}else r[o]=i}return r}function Cne(t){const e={FIRST_DIM_SIZE:qr.FIRST_DIM_SIZE,VALUE_ROWIDS:qr.VALUE_ROWIDS,ROW_LENGTHS:qr.ROW_LENGTHS,ROW_SPLITS:qr.ROW_SPLITS,ROW_LIMITS:qr.ROW_LIMITS,ROW_STARTS:qr.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function Pne(t){return t.length===0?0:t[0]===qr.FIRST_DIM_SIZE?t.length-1:t.length}function $ne(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let s=0;s<Math.min(n,r-1);++s){const i=t[s],o=e[s+1];if(i>=0&&o>=0&&i!==1&&i!==o)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${s-t.length}] = ${i} but ragged tensor input.flatValues.shape[${s-t.length}] = ${o}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tx=30;function Ine(t){return t<=tx?t:np(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function One(t,e,n){const r=n*(typeof t=="number"?t:t[0]),s=e*(typeof t=="number"?t:t[1]);return[r,s]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dne(t,e,n,r=!0){let s=[];if(r)s=s.concat(e.slice(0)),s.push(t[0]/n),s=s.concat(t.slice(1));else{s=s.concat(t[0]);const i=e.length;for(let o=0;o<i;++o)s=s.concat([t[o+1]/e[o],e[o]]);s=s.concat(t.slice(i+1))}return s}function Rne(t,e,n=!0){const r=[];if(n){r.push(e);for(let s=e+1;s<t;++s)s<=2*e?(r.push(s),r.push(s-(e+1))):r.push(s)}else{const s=[],i=[];for(let o=1;o<t;++o)o>=e*2+1||o%2===1?i.push(o):s.push(o);r.push(...s),r.push(0),r.push(...i)}return r}function Fne(t,e,n,r=!0){const s=[];r?s.push(t[0]/n):s.push(t[0]*n);for(let i=1;i<t.length;++i)i<=e.length?r?s.push(e[i-1]*t[i]):s.push(t[i]/e[i-1]):s.push(t[i]);return s}function Mne(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function Lne(t,e,n){const r=t.slice(0,1);for(let s=0;s<n;++s)r.push(t[s+1]-e[s][0]-e[s][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bne=1.7580993408473768,jne=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zne=.3275911,Vne=.254829592,Une=-.284496736,Wne=1.421413741,Hne=-1.453152027,Gne=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kne(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function qne(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function Yne(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=0;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function Xne(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=2;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function Qne(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function Zne(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function Jne(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let s=0;s<Math.ceil(t/2);s++){const i=(e?2:-2)*Math.PI*(s/t);n[s]=Math.cos(i),r[s]=Math.sin(i)}return{real:n,imag:r}}function ere(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),s=Math.cos(r),i=Math.sin(r);return{real:s,imag:i}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mg="->",tre=/->/g,gE=",",yE="...";function nre(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(tre,"").length)/Mg.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${Mg}").`);const[r,s]=t.split(Mg);A(r.indexOf(yE)===-1,()=>`The ellipsis notation ("${yE}") is not supported yet.`);const i=r.split(gE),o=i.length;if(e!==o)throw new Error(`Expected ${o} input tensors, received ${e}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let d=0;d<s.length;++d){const h=s[d];if(!i.some(m=>m.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);a.indexOf(h)===-1&&a.push(h)}for(let d=0;d<r.length;++d){const h=r[d];a.indexOf(h)===-1&&h!==gE&&a.push(h)}const l=new Array(i.length);for(let d=0;d<o;++d){if(new Set(i[d].split("")).size!==i[d].length)throw new Error(`Found duplicate axes in input component ${i[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let h=0;h<i[d].length;++h)l[d].push(a.indexOf(i[d][h]))}const u=a.length,c=s.length,f=[];for(let d=c;d<u;++d)f.push(d);return{allDims:a,summedDims:f,idDims:l}}function rre(t,e){let n=new Array(t);n.fill(-1);for(let s=0;s<e.length;++s)n[e[s]]=s;const r=[];for(let s=0;s<t;++s)n[s]===-1&&r.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:r}}function sre(t,e,n){const r=new Array(t);for(let s=0;s<n.length;++s){const i=n[s].shape;for(let o=0;o<e[s].length;++o)r[e[s][o]]===void 0?r[e[s][o]]=i[o]:A(r[e[s][o]]===i[o],()=>`Expected dimension ${r[e[s][o]]} at axis ${o} of input shaped ${JSON.stringify(i)}, but got dimension ${i[o]}`)}}function ire(t,e){const n=t,r=[];let s=0;t.length===0&&n.push(-1),s=t.length+1;for(let o=0;o<s;++o)r.push([]);const i=[];for(let o=0;o<n.length;++o){const a=n[o],l=are(e,a);for(const u of l)i.indexOf(u)===-1&&(r[o].push(u),i.push(u))}return{path:n,steps:r}}function ore(t){return t.every((e,n)=>e===n)}function are(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function lre(t,e,n=0){let r=[];if(typeof e=="number")A(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const s=e.reduce((o,a)=>(a===-1&&(o+=1),o),0);A(s<=1,()=>"There should be only one negative value in split array.");const i=e.indexOf(-1);if(i!==-1){const o=e.reduce((a,l)=>l>0?a+l:a);e[i]=t.shape[n]-o}A(t.shape[n]===e.reduce((o,a)=>o+a),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ure(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function cre(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function fre(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dre(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function hre(t,e){return`size ${t} must be non-negative, not ${e}`}function pre(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function mre(t,e){const n=xe(t),r=xe(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function gre(t,e){const n=xe(t),r=xe(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yre(){return"segment ids must be >= 0"}function vre(){return"segment ids are not increasing"}function wre(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function bre(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xre(t,e){let n=!1,r;for(t<=tx?(r=t,n=!0):r=np(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=np(t,r+1);return r}function Sre(t,e,n){const r=[],s=t.length;for(let i=0;i<s;i++)i!==e?r.push(t[i]):r.push(n);return r}function _re(t,e,n,r){const s=e.shape.length,i=t.shape.length;if(r!==0&&(r<-s||r>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${r}`);if(r<0&&(r+=s),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(t.shape[f]!==e.shape[f])throw new Error(`x.shape[${f}]: ${t.shape[f]} should be equal to indices.shape[${f}]: ${e.shape[f]}.`);const o=t.shape[n],a=[];let l=1,u=1,c=1;for(let f=0;f<r;++f)a.push(t.shape[f]),l*=t.shape[f];for(let f=r;f<n;f++)a.push(t.shape[f]),u*=t.shape[f];for(let f=r;f<s;f++)a.push(e.shape[f]);for(let f=n+1;f<i;f++)a.push(t.shape[f]),c*=t.shape[f];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:o,outputShape:a}}const Tre=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:_re,computeOutShape:Sre,segOpComputeOptimalWindowSize:xre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ere(t){try{return t.map(e=>ip(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function Nre(t){return t.map(e=>Nf(e))}const kre=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:Vne,ERF_A2:Une,ERF_A3:Wne,ERF_A4:Hne,ERF_A5:Gne,ERF_P:zne,PARALLELIZE_THRESHOLD:tx,get RowPartitionType(){return qr},SELU_SCALE:jne,SELU_SCALEALPHA:Bne,applyActivation:gm,assertAndGetBroadcastShape:st,assertAxesAreInnerMostDims:HX,assertParamsConsistent:Nne,assignToTypedArray:Zne,axesAreInnerMostDims:lb,calculateShapes:CF,checkEinsumDimSizes:sre,checkPadOnDimRoundingMode:dr,combineLocations:S3,combineRaggedTensorToTensorShapes:Ane,complexWithEvenIndex:Yne,complexWithOddIndex:Xne,computeConv2DInfo:Af,computeConv3DInfo:UR,computeDefaultPad:nb,computeDilation2DInfo:jY,computeOptimalWindowSize:Ine,computeOutAndReduceShapes:WX,computeOutShape:kne,computePool2DInfo:VR,computePool3DInfo:zY,convertConv2DDataFormat:WR,decodeEinsumEquation:nre,eitherStridesOrDilationsAreOne:Hs,expandShapeToKeepDim:If,exponent:ere,exponents:Jne,fromStringArrayToUint8:Nre,fromUint8ToStringArray:Ere,getAxesPermutation:GX,getBroadcastDims:y3,getComplexWithIndex:Qne,getEinsumComputePath:ire,getEinsumPermutation:rre,getFusedBiasGradient:mm,getFusedDyActivation:pm,getImageCenter:One,getInnerMostAxes:qX,getPermuted:Rne,getRaggedRank:Pne,getReductionAxes:ob,getReshaped:Dne,getReshapedPermuted:Fne,getRowPartitionTypesHelper:Cne,getSliceBeginCoords:Mne,getSliceSize:Lne,getSparseFillEmptyRowsIndicesDenseShapeMismatch:ure,getSparseFillEmptyRowsNegativeIndexErrorMessage:cre,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:fre,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:pre,getSparseReshapeInputOutputMismatchErrorMessage:gre,getSparseReshapeInputOutputMultipleErrorMessage:mre,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:dre,getSparseReshapeNegativeOutputDimErrorMessage:hre,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:bre,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:yre,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:vre,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:wre,getUndoAxesPermutation:KX,isIdentityPermutation:ore,log:VK,mergeRealAndImagArrays:Kne,prepareAndValidate:hM,prepareSplitSize:lre,segment_util:Tre,shouldFuse:ym,slice_util:SM,splitRealAndImagArrays:qne,stridesOrDilationsArePositive:ia,tupleValuesAreOne:Qc,upcastType:sm,validateDefaultValueShape:$ne,validateInput:dm,validateUpdateShape:Vb,warn:ai},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Are=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:qF,nonMaxSuppressionV4Impl:YF,nonMaxSuppressionV5Impl:XF,whereImpl:MF},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Rte();const TM=Object.freeze(Object.defineProperty({__proto__:null,Abs:fI,Acos:dI,Acosh:hI,AdadeltaOptimizer:Gb,AdagradOptimizer:Kb,AdamOptimizer:qb,AdamaxOptimizer:Yb,Add:Bw,AddN:pI,All:mI,Any:gI,ArgMax:yI,ArgMin:vI,Asin:wI,Asinh:bI,Atan:xI,Atan2:_I,Atanh:SI,AvgPool:TI,AvgPool3D:EI,AvgPool3DGrad:TK,AvgPoolGrad:_K,BatchMatMul:NI,BatchToSpaceND:kI,Bincount:AI,BitwiseAnd:CI,BroadcastArgs:PI,BroadcastTo:EK,Cast:jw,Ceil:$I,ClipByValue:II,Complex:OI,ComplexAbs:DI,Concat:RI,Conv2D:FI,Conv2DBackpropFilter:MI,Conv2DBackpropInput:LI,Conv3D:BI,Conv3DBackpropFilterV2:NK,Conv3DBackpropInputV2:jI,Cos:zI,Cosh:VI,CropAndResize:HI,Cumprod:UI,Cumsum:WI,DataStorage:tK,DenseBincount:GI,DepthToSpace:KI,DepthwiseConv2dNative:qI,DepthwiseConv2dNativeBackpropFilter:YI,DepthwiseConv2dNativeBackpropInput:XI,Diag:QI,Dilation2D:ZI,Dilation2DBackpropFilter:AK,Dilation2DBackpropInput:kK,Draw:zw,get ENV(){return Mw},Einsum:eO,Elu:tO,EluGrad:CK,Environment:uI,Equal:rO,Erf:nO,Exp:sO,ExpandDims:iO,Expm1:oO,FFT:aO,Fill:lO,FlipLeftRight:uO,Floor:cO,FloorDiv:fO,FromPixels:z0,FusedBatchNorm:dO,FusedConv2D:U0,FusedDepthwiseConv2D:W0,GatherNd:pO,GatherV2:hO,Greater:mO,GreaterEqual:gO,IFFT:yO,Identity:Vw,Imag:vO,IsFinite:wO,IsInf:bO,IsNan:xO,KernelBackend:Z$,LRN:$O,LRNGrad:OK,LeakyRelu:SO,Less:_O,LessEqual:TO,LinSpace:EO,Log:NO,Log1p:kO,LogSoftmax:$K,LogicalAnd:AO,LogicalNot:CO,LogicalOr:PO,LogicalXor:PK,LowerBound:IK,MatrixBandPart:DK,Max:IO,MaxPool:DO,MaxPool3D:RO,MaxPool3DGrad:FK,MaxPoolGrad:RK,MaxPoolWithArgmax:FO,Maximum:OO,Mean:MO,Min:LO,Minimum:BO,MirrorPad:jO,Mod:zO,MomentumOptimizer:Xb,Multinomial:VO,Multiply:UO,Neg:WO,NonMaxSuppressionV3:GO,NonMaxSuppressionV4:KO,NonMaxSuppressionV5:qO,NotEqual:HO,OP_SCOPE_SUFFIX:Kw,OneHot:XO,OnesLike:YO,Optimizer:so,OptimizerConstructors:_M,Pack:QO,PadV2:ZO,Pool:MK,Pow:JO,Prelu:eD,Prod:tD,RMSPropOptimizer:Qb,RaggedGather:nD,RaggedRange:rD,RaggedTensorToTensor:sD,Range:iD,get Rank(){return q0},Real:oD,RealDiv:JI,Reciprocal:aD,get Reduction(){return Ft},Relu:lD,Relu6:dD,Reshape:uD,ResizeBilinear:fD,ResizeBilinearGrad:BK,ResizeNearestNeighbor:cD,ResizeNearestNeighborGrad:LK,Reverse:hD,RotateWithOffset:JD,Round:pD,Rsqrt:mD,SGDOptimizer:vm,ScatterNd:gD,SearchSorted:vD,Select:wD,Selu:bD,Sigmoid:ED,Sign:TD,Sin:SD,Sinh:_D,Slice:xD,Softmax:$D,Softplus:ND,SpaceToBatchND:CD,SparseFillEmptyRows:ID,SparseReshape:OD,SparseSegmentMean:DD,SparseSegmentSum:RD,SparseToDense:FD,SplitV:PD,Sqrt:kD,Square:jK,SquaredDifference:MD,StaticRegexReplace:LD,Step:ZD,StridedSlice:BD,StringNGrams:jD,StringSplit:zD,StringToHashBucketFast:VD,Sub:UD,Sum:AD,Tan:WD,Tanh:HD,Tensor:Fe,TensorBuffer:op,TensorScatterUpdate:yD,Tile:Uw,TopK:GD,Transform:KD,Transpose:th,Unique:qD,Unpack:YD,UnsortedSegmentSum:XD,UpperBound:zK,Variable:Kc,ZerosLike:QD,_FusedMatMul:V0,abs:nn,acos:$R,acosh:IR,add:J,addN:OR,all:DR,any:RR,argMax:tb,argMin:FR,asin:MR,asinh:LR,atan:BR,atan2:jR,atanh:zR,avgPool:rb,avgPool3d:HR,backend:Xw,backend_util:kre,basicLSTMCell:GR,batchNorm:Cf,batchNorm2d:KR,batchNorm3d:qR,batchNorm4d:YR,batchToSpaceND:sb,bincount:ib,bitwiseAnd:XR,booleanMaskAsync:LF,broadcastArgs:QR,broadcastTo:oc,broadcast_util:DX,browser:cne,buffer:cs,cast:ye,ceil:ZR,clipByValue:JR,clone:Cs,complex:Us,concat:Et,concat1d:e3,concat2d:t3,concat3d:n3,concat4d:r3,conv1d:s3,conv2d:Pf,conv2dTranspose:o3,conv3d:a3,conv3dTranspose:l3,copyRegisteredKernels:GK,cos:u3,cosh:c3,cosineWindow:hm,cumprod:f3,cumsum:d3,customGrad:ds,denseBincount:h3,deprecationWarn:Cq,depthToSpace:p3,depthwiseConv2d:im,device_util:_q,diag:m3,dilation2d:g3,disableDeprecationWarnings:Aq,dispose:Bt,disposeVariables:Pq,div:Te,divNoNan:v3,dot:w3,dropout:UF,einsum:wo,elu:ab,enableDebugMode:kq,enableProdMode:Nq,enclosingPowerOfTwo:Wb,engine:qw,ensureShape:b3,env:te,equal:$f,erf:x3,euclideanNorm:T3,exp:Ki,expandDims:An,expm1:E3,eye:ub,fft:cm,fill:au,findBackend:Mq,findBackendFactory:Lq,floor:cb,floorDiv:eb,fused:HF,gather:fb,gatherND:VF,gather_util:fne,getBackend:Yw,getGradient:H0,getKernel:Hc,getKernelsForBackend:rp,grad:SQ,grads:_Q,greater:lu,greaterEqual:db,ifft:nf,imag:Df,image:Ff,inTopKAsync:WF,io:ex,irfft:Lb,isFinite:N3,isInf:k3,isNaN:A3,keep:Ar,kernel_impls:Are,leakyRelu:hb,less:up,lessEqual:om,linalg:JF,linspace:C3,localResponseNormalization:P3,log:Gl,log1p:pb,logSigmoid:I3,logSoftmax:O3,logSumExp:gb,logicalAnd:Zc,logicalNot:yb,logicalOr:vb,logicalXor:D3,losses:eM,lowerBound:R3,matMul:me,math:tne,max:Ko,maxPool:wb,maxPool3d:F3,maxPoolWithArgmax:M3,maximum:bb,mean:Jc,memory:$q,meshgrid:L3,min:lp,minimum:ef,mirrorPad:B3,mod:j3,moments:z3,movingAverage:BF,mul:Y,multiRNNCell:V3,multinomial:U3,neg:Ir,nextFrame:Ene,norm:Of,notEqual:xb,oneHot:tf,ones:Si,onesLike:W3,op:$,outerProduct:H3,pad:uu,pad1d:G3,pad2d:K3,pad3d:Sb,pad4d:q3,pool:Y3,pow:Hl,prelu:Tb,print:Jw,prod:X3,profile:Iq,raggedGather:Q3,raggedRange:Z3,raggedTensorToTensor:J3,rand:eF,randomGamma:sF,randomNormal:Rb,randomStandardNormal:iF,randomUniform:um,randomUniformInt:oF,range:qi,ready:Rq,real:Kl,reciprocal:aF,registerBackend:Bq,registerGradient:UK,registerKernel:eR,relu:Rf,relu6:Fb,removeBackend:Fq,reshape:B,reverse:Yi,reverse1d:lF,reverse2d:uF,reverse3d:cF,reverse4d:fF,rfft:fm,round:Mb,rsqrt:dF,scalar:ue,scatterND:jF,scatter_util:EJ,searchSorted:lm,selu:hF,separableConv2d:pF,serialization:Ote,setBackend:Dq,setPlatform:jq,setdiff1dAsync:mF,sigmoid:Ps,sign:gF,signal:ZF,sin:yF,sinh:vF,slice:_e,slice1d:wF,slice2d:bF,slice3d:xF,slice4d:SF,slice_util:SM,softmax:_F,softplus:mb,spaceToBatchND:_b,sparse:tM,sparseToDense:zF,spectral:QF,split:ql,sqrt:fs,square:lr,squaredDifference:Bb,squeeze:Jr,stack:hs,step:jb,stridedSlice:TF,string:nM,sub:ae,sum:Ce,sumOutType:pq,tan:EF,tanh:ap,tensor:ar,tensor1d:In,tensor2d:fl,tensor3d:zb,tensor4d:NF,tensor5d:kF,tensor6d:AF,tensorScatterUpdate:PF,tensor_util:yq,test_util:LZ,tidy:re,tile:cl,time:Oq,topk:$F,train:_ne,transpose:rf,truncatedNormal:IF,unique:OF,unregisterGradient:HK,unregisterKernel:WK,unsortedSegmentSum:DF,unstack:ro,upcastType:sm,upperBound:RF,util:rq,valueAndGrad:TQ,valueAndGrads:EQ,variable:FF,variableGrads:$3,version_core:Sne,where:$s,whereAsync:Ub,zeros:oa,zerosLike:gn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cre=te();Cre.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Jt;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Jt||(Jt={}));var vE;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(vE||(vE={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pre={};function EM(t){return Pre[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b(t,e,n,r,s){const i=e.inputParams[t];if(i&&i.inputIndexStart!==void 0){const a=i.inputIndexStart,l=i.inputIndexEnd===0?void 0:i.inputIndexEnd===void 0?a+1:i.inputIndexEnd,u=a<0?e.inputNames.length+a:a;if(i.type==="tensor")return yt(e.inputNames[u],n,r,s);if(i.type==="tensors"){const d=e.inputs.slice(a,l);return e.inputNames.slice(a,l).filter((m,p)=>{var g;return((g=d[p])===null||g===void 0?void 0:g.op)!=="NoOp"}).map(m=>yt(m,n,r,s))}const c=yt(e.inputNames[u],n,r,s),f=c.dataSync();return i.type==="number"?f[0]:Go(c.shape,f)}const o=e.attrParams[t];return o&&o.value}function yt(t,e,n,r){const[s,i]=tn(t,n);if(r!=null){const a=r.getHashTableHandleByName(s);if(a!=null)return a}const o=n.currentContextIds.find(a=>!!e[cp(s,a)]);return o!==void 0?e[cp(s,o)][i]:void 0}function wE(t,e,n){return e[cp(t,n.currentContextId)]}function Ss(t,e){const[n,r,s]=tn(t,e);return[cp(n,e&&e.currentContextId),r,s]}function cp(t,e){return e?`${t}-${e}`:t}function tn(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const i=e.parseNodeNameCache.get(t);if(i!=null)return i}const r=t.split(":");let s;if(r.length===1)s=[t,0,void 0];else{const i=r[0],o=r.length===3?r[1]:void 0,a=Number(r[r.length-1]);s=[i,a,o]}return n&&e.parseNodeNameCache.set(t,s),s}function sh(t,e,n){let r=b("pad",t,e,n);if(r==="explicit"){r=b("explicitPaddings",t,e,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let i=0;i<4;i++)s[i][0]=r[i*2],s[i][1]=r[i*2+1];return s}return r}function _s(t){return t.kept?t:Cs(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $re=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Ire=Object.freeze(Object.defineProperty({__proto__:null,json:$re},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ore=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Dre=Object.freeze(Object.defineProperty({__proto__:null,json:Ore},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rre=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Fre=Object.freeze(Object.defineProperty({__proto__:null,json:Rre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mre=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Lre=Object.freeze(Object.defineProperty({__proto__:null,json:Mre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bre=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],jre=Object.freeze(Object.defineProperty({__proto__:null,json:Bre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zre=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Vre=Object.freeze(Object.defineProperty({__proto__:null,json:zre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ure=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Wre=Object.freeze(Object.defineProperty({__proto__:null,json:Ure},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hre=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Gre=Object.freeze(Object.defineProperty({__proto__:null,json:Hre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kre=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],qre=Object.freeze(Object.defineProperty({__proto__:null,json:Kre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yre=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Xre=Object.freeze(Object.defineProperty({__proto__:null,json:Yre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qre=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],Zre=Object.freeze(Object.defineProperty({__proto__:null,json:Qre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jre=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],ese=Object.freeze(Object.defineProperty({__proto__:null,json:Jre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tse=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],nse=Object.freeze(Object.defineProperty({__proto__:null,json:tse},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rse=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],sse=Object.freeze(Object.defineProperty({__proto__:null,json:rse},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ise=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],ose=Object.freeze(Object.defineProperty({__proto__:null,json:ise},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ase=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],lse=Object.freeze(Object.defineProperty({__proto__:null,json:ase},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const use=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],cse=Object.freeze(Object.defineProperty({__proto__:null,json:use},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fse=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],dse=Object.freeze(Object.defineProperty({__proto__:null,json:fse},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hse=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],pse=Object.freeze(Object.defineProperty({__proto__:null,json:hse},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bE{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[Ire,Dre,Fre,Lre,jre,Vre,Wre,Gre,qre,Xre,Zre,ese,nse,sse,ose,lse,cse,dse,pse],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,s)=>(r[s.tfOpName]=s,r),{})}transformGraph(e,n={}){const r=e.node,s=[],i=[],o=[],a=r.reduce((p,g)=>(p[g.name]=this.mapNode(g),g.op.startsWith("Placeholder")?s.push(p[g.name]):g.op==="Const"?i.push(p[g.name]):(g.input==null||g.input.length===0)&&o.push(p[g.name]),p),{});let l=[];const u=[];let c={},f={};n!=null&&(c=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));const d=Object.keys(a);d.forEach(p=>{const g=a[p];g.inputNames.forEach((y,v)=>{const[w,,x]=Ss(y),S=a[w];if(S.outputs!=null){const _=S.outputs.indexOf(x);if(_!==-1){const T=`${w}:${_}`;g.inputNames[v]=T}}g.inputs.push(S),S.children.push(g)})}),Object.keys(f).length===0?d.forEach(p=>{const g=a[p];g.children.length===0&&u.push(g)}):Object.keys(f).forEach(p=>{const[g]=Ss(p),y=a[g];y!=null&&(y.signatureKey=f[p],u.push(y))}),Object.keys(c).length>0?Object.keys(c).forEach(p=>{const[g]=Ss(p),y=a[g];y&&(y.signatureKey=c[p],l.push(y))}):l=s;let h={};e.library!=null&&e.library.function!=null&&(h=e.library.function.reduce((p,g)=>(p[g.signature.name]=this.mapFunction(g),p),{}));const m={nodes:a,inputs:l,outputs:u,weights:i,placeholders:s,signature:n,functions:h};return o.length>0&&(m.initNodes=o),m}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=EM(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(s=>s.startsWith("^")?s.slice(1):s),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((s,i)=>(s[i.name]={type:i.type,inputIndexStart:i.start,inputIndexEnd:i.end},s),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((s,i)=>{const o=i.type;let a;switch(i.type){case"string":a=uv(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=uv(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"string[]":a=gv(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=gv(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number":a=fv(e.attr,i.tfName,i.defaultValue||0),a===void 0&&i.tfDeprecatedName&&(a=fv(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number[]":a=mv(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=mv(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool":a=cv(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=cv(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool[]":a=vv(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=vv(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape":a=pv(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=pv(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape[]":a=yv(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=yv(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype":a=dv(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=dv(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype[]":a=hv(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=hv(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"func":a=xE(e.attr,i.tfName,i.defaultValue),a===void 0&&i.tfDeprecatedName&&(a=xE(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${i.type} for op: ${e.op}`)}return s[i.name]={value:a,type:o},s},{})),r}mapFunction(e){const n=e.nodeDef,r=[],s=[];let i={};n!=null&&(i=n.reduce((f,d)=>(f[d.name]=this.mapNode(d),d.op==="Const"&&s.push(f[d.name]),f),{}));const o=[],a=[];e.signature.inputArg.forEach(f=>{const[d]=Ss(f.name),h={name:d,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:nx(f.type),type:"dtype"}},children:[]};h.signatureKey=f.name,o.push(h),i[d]=h}),Object.keys(i).forEach(f=>{const d=i[f];d.inputNames.forEach((h,m)=>{const[p,,g]=Ss(h),y=i[p];if(y.outputs!=null){const v=y.outputs.indexOf(g);if(v!==-1){const w=`${p}:${v}`;d.inputNames[m]=w}}d.inputs.push(y),y.children.push(d)})});const u=e.ret;e.signature.outputArg.forEach(f=>{const[d,h]=Ss(u[f.name]),m=i[d];m!=null&&(m.defaultOutput=h,a.push(m))});const c=this.mapArgsToSignature(e);return{nodes:i,inputs:o,outputs:a,weights:s,placeholders:r,signature:c}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function mse(t){const e=te().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function NM(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):mse(t);return e?n:n.toLowerCase()}function uv(t,e,n,r=!1){const s=t[e];return s!=null?NM(s.s,r):n}function cv(t,e,n){const r=t[e];return r?r.b:n}function fv(t,e,n){const r=t[e]||{},s=r.i!=null?r.i:r.f!=null?r.f:n;return typeof s=="number"?s:parseInt(s,10)}function nx(t){switch(typeof t=="string"&&(t=Jt[t]),t){case Jt.DT_FLOAT:case Jt.DT_HALF:return"float32";case Jt.DT_INT32:case Jt.DT_INT64:case Jt.DT_INT8:case Jt.DT_UINT8:return"int32";case Jt.DT_BOOL:return"bool";case Jt.DT_DOUBLE:return"float32";case Jt.DT_STRING:return"string";case Jt.DT_COMPLEX64:case Jt.DT_COMPLEX128:return"complex64";default:return null}}function xE(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function dv(t,e,n){const r=t[e];return r&&r.type?nx(r.type):n}function hv(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(s=>nx(s)):n}function kM(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function pv(t,e,n){const r=t[e];return r&&r.shape?kM(r.shape):n}function mv(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(s=>typeof s=="number"?s:parseInt(s,10)):n}function gv(t,e,n,r=!1){const s=t[e];return s&&s.list&&s.list.s?s.list.s.map(i=>NM(i,r)):n}function yv(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(s=>kM(s)):n}function vv(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gse{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(s=>this.getInput(s)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((s,i)=>(s[i]=this.getAttr(i),s),{}))}getInput(e){return yt(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return yt(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return fv(this.node.rawAttrs,e,n);if(r.s!=null)return uv(this.node.rawAttrs,e,n);if(r.b!=null)return cv(this.node.rawAttrs,e,n);if(r.shape!=null)return pv(this.node.rawAttrs,e,n);if(r.type!=null)return dv(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return mv(this.node.rawAttrs,e,n);if(r.list.s!=null)return gv(this.node.rawAttrs,e,n);if(r.list.shape!=null)return yv(this.node.rawAttrs,e,n);if(r.list.b!=null)return vv(this.node.rawAttrs,e,n);if(r.list.type!=null)return hv(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bt=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:Kw,abs:nn,acos:$R,acosh:IR,add:J,addN:OR,all:DR,any:RR,argMax:tb,argMin:FR,asin:MR,asinh:LR,atan:BR,atan2:jR,atanh:zR,avgPool:rb,avgPool3d:HR,basicLSTMCell:GR,batchNorm:Cf,batchNorm2d:KR,batchNorm3d:qR,batchNorm4d:YR,batchToSpaceND:sb,bincount:ib,bitwiseAnd:XR,booleanMaskAsync:LF,broadcastArgs:QR,broadcastTo:oc,buffer:cs,cast:ye,ceil:ZR,clipByValue:JR,clone:Cs,complex:Us,concat:Et,concat1d:e3,concat2d:t3,concat3d:n3,concat4d:r3,conv1d:s3,conv2d:Pf,conv2dTranspose:o3,conv3d:a3,conv3dTranspose:l3,cos:u3,cosh:c3,cosineWindow:hm,cumprod:f3,cumsum:d3,denseBincount:h3,depthToSpace:p3,depthwiseConv2d:im,diag:m3,dilation2d:g3,div:Te,divNoNan:v3,dot:w3,dropout:UF,einsum:wo,elu:ab,enclosingPowerOfTwo:Wb,ensureShape:b3,equal:$f,erf:x3,euclideanNorm:T3,exp:Ki,expandDims:An,expm1:E3,eye:ub,fft:cm,fill:au,floor:cb,floorDiv:eb,fused:HF,gather:fb,gatherND:VF,greater:lu,greaterEqual:db,ifft:nf,imag:Df,image:Ff,inTopKAsync:WF,irfft:Lb,isFinite:N3,isInf:k3,isNaN:A3,leakyRelu:hb,less:up,lessEqual:om,linalg:JF,linspace:C3,localResponseNormalization:P3,log:Gl,log1p:pb,logSigmoid:I3,logSoftmax:O3,logSumExp:gb,logicalAnd:Zc,logicalNot:yb,logicalOr:vb,logicalXor:D3,losses:eM,lowerBound:R3,matMul:me,max:Ko,maxPool:wb,maxPool3d:F3,maxPoolWithArgmax:M3,maximum:bb,mean:Jc,meshgrid:L3,min:lp,minimum:ef,mirrorPad:B3,mod:j3,moments:z3,movingAverage:BF,mul:Y,multiRNNCell:V3,multinomial:U3,neg:Ir,norm:Of,notEqual:xb,oneHot:tf,ones:Si,onesLike:W3,op:$,outerProduct:H3,pad:uu,pad1d:G3,pad2d:K3,pad3d:Sb,pad4d:q3,pool:Y3,pow:Hl,prelu:Tb,print:Jw,prod:X3,raggedGather:Q3,raggedRange:Z3,raggedTensorToTensor:J3,rand:eF,randomGamma:sF,randomNormal:Rb,randomStandardNormal:iF,randomUniform:um,randomUniformInt:oF,range:qi,real:Kl,reciprocal:aF,relu:Rf,relu6:Fb,reshape:B,reverse:Yi,reverse1d:lF,reverse2d:uF,reverse3d:cF,reverse4d:fF,rfft:fm,round:Mb,rsqrt:dF,scalar:ue,scatterND:jF,searchSorted:lm,selu:hF,separableConv2d:pF,setdiff1dAsync:mF,sigmoid:Ps,sign:gF,signal:ZF,sin:yF,sinh:vF,slice:_e,slice1d:wF,slice2d:bF,slice3d:xF,slice4d:SF,softmax:_F,softplus:mb,spaceToBatchND:_b,sparse:tM,sparseToDense:zF,spectral:QF,split:ql,sqrt:fs,square:lr,squaredDifference:Bb,squeeze:Jr,stack:hs,step:jb,stridedSlice:TF,string:nM,sub:ae,sum:Ce,tan:EF,tanh:ap,tensor:ar,tensor1d:In,tensor2d:fl,tensor3d:zb,tensor4d:NF,tensor5d:kF,tensor6d:AF,tensorScatterUpdate:PF,tile:cl,topk:$F,transpose:rf,truncatedNormal:IF,unique:OF,unsortedSegmentSum:DF,unstack:ro,upperBound:RF,variable:FF,where:$s,whereAsync:Ub,zeros:oa,zerosLike:gn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yse=(t,e,n,r=bt)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(b("a",t,e,n),b("b",t,e,n))];case"AddN":return[r.addN(b("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(b("a",t,e,n),b("b",t,e,n))];case"Mul":return[r.mul(b("a",t,e,n),b("b",t,e,n))];case"RealDiv":case"Div":return[r.div(b("a",t,e,n),b("b",t,e,n))];case"DivNoNan":return[r.divNoNan(b("a",t,e,n),b("b",t,e,n))];case"FloorDiv":return[r.floorDiv(b("a",t,e,n),b("b",t,e,n))];case"Sub":return[r.sub(b("a",t,e,n),b("b",t,e,n))];case"Minimum":return[r.minimum(b("a",t,e,n),b("b",t,e,n))];case"Maximum":return[r.maximum(b("a",t,e,n),b("b",t,e,n))];case"Pow":return[r.pow(b("a",t,e,n),b("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(b("a",t,e,n),b("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vse=(t,e,n,r=bt)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(b("x",t,e,n))];case"Acos":return[r.acos(b("x",t,e,n))];case"Acosh":return[r.acosh(b("x",t,e,n))];case"Asin":return[r.asin(b("x",t,e,n))];case"Asinh":return[r.asinh(b("x",t,e,n))];case"Atan":return[r.atan(b("x",t,e,n))];case"Atan2":return[r.atan2(b("x",t,e,n),b("y",t,e,n))];case"Atanh":return[r.atanh(b("x",t,e,n))];case"Ceil":return[r.ceil(b("x",t,e,n))];case"Complex":return[r.complex(b("real",t,e,n),b("imag",t,e,n))];case"Cos":return[r.cos(b("x",t,e,n))];case"Cosh":return[r.cosh(b("x",t,e,n))];case"Elu":return[r.elu(b("x",t,e,n))];case"Erf":return[r.erf(b("x",t,e,n))];case"Exp":return[r.exp(b("x",t,e,n))];case"Expm1":return[r.expm1(b("x",t,e,n))];case"Floor":return[r.floor(b("x",t,e,n))];case"Log":return[r.log(b("x",t,e,n))];case"Log1p":return[r.log1p(b("x",t,e,n))];case"Imag":return[r.imag(b("x",t,e,n))];case"Neg":return[r.neg(b("x",t,e,n))];case"Reciprocal":return[r.reciprocal(b("x",t,e,n))];case"Real":return[r.real(b("x",t,e,n))];case"Relu":return[r.relu(b("x",t,e,n))];case"Round":return[r.round(b("x",t,e,n))];case"Selu":return[r.selu(b("x",t,e,n))];case"Sigmoid":return[r.sigmoid(b("x",t,e,n))];case"Sin":return[r.sin(b("x",t,e,n))];case"Sign":return[r.sign(b("x",t,e,n))];case"Sinh":return[r.sinh(b("x",t,e,n))];case"Softplus":return[r.softplus(b("x",t,e,n))];case"Sqrt":return[r.sqrt(b("x",t,e,n))];case"Square":return[r.square(b("x",t,e,n))];case"Tanh":return[r.tanh(b("x",t,e,n))];case"Tan":return[r.tan(b("x",t,e,n))];case"ClipByValue":return[r.clipByValue(b("x",t,e,n),b("clipValueMin",t,e,n),b("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(b("x",t,e,n))];case"Rsqrt":return[r.rsqrt(yt(t.inputNames[0],e,n))];case"LeakyRelu":return[r.leakyRelu(b("x",t,e,n),b("alpha",t,e,n))];case"Prelu":return[r.prelu(b("x",t,e,n),b("alpha",t,e,n))];case"IsNan":return[r.isNaN(yt(t.inputNames[0],e,n))];case"IsInf":return[r.isInf(yt(t.inputNames[0],e,n))];case"IsFinite":return[r.isFinite(yt(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qn(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){A(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const s=t[r],i=e[r];A(s<0||i<0||s===i,()=>n+` Shapes ${t} and ${e} must match`)}}}function SE(t){return!(typeof t=="number"||t.some(e=>e<0))}function Nu(t,e,n){let r=wv(t,n);const s=!SE(r);if(s&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(s&&e.forEach(i=>{r=wv(i.shape,r)}),!SE(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function wv(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const s=t[r],i=e[r];if(s>=0&&i>=0&&s!==i)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=s>=0?s:i}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wse{constructor(e,n,r,s,i,o,a){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=s,this.identicalElementShapes=i,this.dynamicSize=o,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=ue(0),Ar(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),qn(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,Ar(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,s)=>this.write(r,n[s]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let s=0;s<this.size();s++)e.push(s)}if(e.length===0)return ar([],[0].concat(this.elementShape));const r=this.readMany(e);return qn(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),hs(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return ar([],[0].concat(this.elementShape));const n=[];for(let s=0;s<this.size();s++)n.push(s);const r=this.readMany(n);return qn(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),Et(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,ro(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const s=e.map(l=>(r+=l,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=r===0?0:n.size/r,o=[];re(()=>{n=B(n,[1,r,i]);for(let l=0;l<e.length;++l){const c=[0,l===0?0:s[l-1],0],f=[1,e[l],i];o[l]=B(_e(n,c,f),this.elementShape)}return o});const a=[];for(let l=0;l<e.length;l++)a[l]=l;this.writeMany(a,o)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class la{get id(){return this.idTensor.id}constructor(e,n,r,s=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e!=null&&e.forEach(i=>{if(r!==i.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${i.dtype}`);qn(n,i.shape,"TensorList shape mismatch: "),Ar(i)}),this.idTensor=ue(0),this.maxNumElements=s,Ar(this.idTensor)}copy(){return new la([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);qn(e,this.elementShape,"TensorList shape mismatch: ");const s=Nu(this.elementShape,this.tensors,e);return re(()=>{const i=this.tensors.map(o=>B(o,s));return hs(i,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=Nu(this.elementShape,this.tensors,e),s=this.tensors.pop();return s.kept=!1,qn(s.shape,e,"TensorList shape mismatch: "),B(s,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(qn(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Ar(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new la([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);qn(this.tensors[e].shape,n,"TensorList shape mismatch: ");const s=Nu(this.elementShape,this.tensors,n);return B(this.tensors[e],s)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);qn(this.elementShape,n.shape,"TensorList shape mismatch: "),Ar(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);qn(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const s=Nu(this.elementShape,this.tensors,r);return e.length===0?ar([],[0].concat(s)):re(()=>{const i=e.map(o=>B(this.tensors[o],s));return hs(i,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);qn(this.elementShape,n,"TensorList shape mismatch: ");const r=Nu(this.elementShape,this.tensors,n);return this.size()===0?ar([],[0].concat(r)):re(()=>{const s=this.tensors.map(i=>B(i,r));return Et(s,0)})}}function bse(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const s=t.shape.slice(1);qn(s,e,"TensorList shape mismatch: ");const i=ro(t);return new la(i,e,r)}function xse(t,e,n,r){return new la([],t,e,r)}function Sse(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const s=Math.max(...e);if(r!=null&&r!==-1&&s>=r)throw new Error(`Max index must be < array size (${s}  vs. ${r})`);const i=new la([],n,t.dtype,r),o=ro(t,0);return e.forEach((a,l)=>{i.setItem(a,o[l])}),i}function _se(t,e,n){let r=0;const s=e.map(c=>(r+=c,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const i=t.shape.slice(1),o=wv(i,n),a=r===0?0:t.size/r,l=re(()=>{const c=[];t=B(t,[1,r,a]);for(let f=0;f<e.length;++f){const h=[0,f===0?0:s[f-1],0],m=[1,e[f],a];c[f]=B(_e(t,h,m),o)}return t.dispose(),c}),u=new la([],n,t.dtype,e.length);for(let c=0;c<l.length;c++)u.setItem(c,l[c]);return u}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tse=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=b("thenBranch",t,e,n),s=b("elseBranch",t,e,n),i=b("cond",t,e,n),o=b("args",t,e,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=b("body",t,e,n),s=b("cond",t,e,n),i=b("args",t,e,n),o=await n.functionMap[s].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),a=i.map(c=>c.id);let l=await o[0].data();o.forEach(c=>{!c.kept&&a.indexOf(c.id)===-1&&c.dispose()});let u=i;for(;l[0];){const c=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const f=u.map(h=>h.id);c.forEach(h=>{!h.kept&&a.indexOf(h.id)===-1&&f.indexOf(h.id)===-1&&h.dispose()});const d=await n.functionMap[s].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await d[0].data(),d.forEach(h=>{!h.kept&&a.indexOf(h.id)===-1&&f.indexOf(h.id)===-1&&h.dispose()})}return u}case"LoopCond":{const r=b("pred",t,e,n);return[_s(r)]}case"Switch":{const r=b("pred",t,e,n);let s=b("data",t,e,n);return s.kept||(s=_s(s)),(await r.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const r=t.inputNames.find(s=>yt(s,e,n)!==void 0);if(r){const s=yt(r,e,n);return[_s(s)]}return}case"Enter":{const r=b("frameName",t,e,n),s=b("tensor",t,e,n);return n.enterFrame(r),[_s(s)]}case"Exit":{const r=b("tensor",t,e,n);return n.exitFrame(),[_s(r)]}case"NextIteration":{const r=b("tensor",t,e,n);return n.nextIteration(),[_s(r)]}case"TensorArrayV3":{const r=b("size",t,e,n),s=b("dtype",t,e,n),i=b("elementShape",t,e,n),o=b("dynamicSize",t,e,n),a=b("clearAfterRead",t,e,n),l=b("identicalElementShapes",t,e,n),u=b("name",t,e,n),c=new wse(u,s,r,i,l,o,a);return n.addTensorArray(c),[c.idTensor,ue(1)]}case"TensorArrayWriteV3":{const r=b("tensorArrayId",t,e,n),s=b("index",t,e,n),i=b("tensor",t,e,n),o=n.getTensorArray(r.id);return o.write(s,i),[o.idTensor]}case"TensorArrayReadV3":{const r=b("tensorArrayId",t,e,n),s=b("index",t,e,n);return[n.getTensorArray(r.id).read(s)]}case"TensorArrayGatherV3":{const r=b("tensorArrayId",t,e,n),s=b("indices",t,e,n),i=b("dtype",t,e,n);return[n.getTensorArray(r.id).gather(s,i)]}case"TensorArrayScatterV3":{const r=b("tensorArrayId",t,e,n),s=b("indices",t,e,n),i=b("tensor",t,e,n),o=n.getTensorArray(r.id);return o.scatter(s,i),[o.idTensor]}case"TensorArrayConcatV3":{const r=b("tensorArrayId",t,e,n),s=n.getTensorArray(r.id),i=b("dtype",t,e,n);return[s.concat(i)]}case"TensorArraySplitV3":{const r=b("tensorArrayId",t,e,n),s=b("tensor",t,e,n),i=b("lengths",t,e,n),o=n.getTensorArray(r.id);return o.split(i,s),[o.idTensor]}case"TensorArraySizeV3":{const r=b("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return[ue(s.size(),"int32")]}case"TensorArrayCloseV3":{const r=b("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const r=b("tensorListId",t,e,n),s=b("index",t,e,n),i=b("tensor",t,e,n),o=n.getTensorList(r.id);return o.setItem(s,i),[o.idTensor]}case"TensorListGetItem":{const r=b("tensorListId",t,e,n),s=b("index",t,e,n),i=b("elementShape",t,e,n),o=b("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(s,i,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=b("indices",t,e,n),s=b("tensor",t,e,n),i=b("elementShape",t,e,n),o=b("numElements",t,e,n),a=Sse(s,r,i,o);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=b("elementShape",t,e,n),s=b("elementDType",t,e,n);let i;t.op==="TensorListReserve"?i="numElements":i="maxNumElements";const o=b(i,t,e,n),a=t.op==="TensorListReserve"?-1:o,l=xse(r,s,o,a);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const r=b("tensorListId",t,e,n),s=b("indices",t,e,n),i=b("elementShape",t,e,n),o=b("elementDType",t,e,n);return[n.getTensorList(r.id).gather(s,o,i)]}case"TensorListStack":{const r=b("tensorListId",t,e,n),s=b("elementShape",t,e,n),i=b("elementDType",t,e,n),o=b("numElements",t,e,n);return[n.getTensorList(r.id).stack(s,i,o)]}case"TensorListFromTensor":{const r=b("tensor",t,e,n),s=b("elementShape",t,e,n),i=b("elementDType",t,e,n),o=bse(r,s,i);return n.addTensorList(o),[o.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=b("tensorListId",t,e,n),s=n.getTensorList(r.id),i=b("dtype",t,e,n),o=b("elementShape",t,e,n);return[s.concat(i,o)]}case"TensorListPushBack":{const r=b("tensorListId",t,e,n),s=b("tensor",t,e,n),i=n.getTensorList(r.id);return i.pushBack(s),[i.idTensor]}case"TensorListPopBack":{const r=b("tensorListId",t,e,n),s=b("elementShape",t,e,n),i=b("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(s,i)]}case"TensorListSplit":{const r=b("tensor",t,e,n),s=b("elementShape",t,e,n),i=b("lengths",t,e,n),o=_se(r,i,s);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const r=b("tensorListId",t,e,n),s=n.getTensorList(r.id);return[ue(s.size(),"int32")]}case"TensorListResize":{const r=b("tensorListId",t,e,n),s=b("size",t,e,n),o=n.getTensorList(r.id).resize(s);return n.addTensorList(o),[o.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _E(t,e,n){const[r,s]=b("fusedOps",t,e,n),i=r==="biasadd",o=!i,a=s==="prelu",l=r==="fusedbatchnorm",u=b("numArgs",t,e,n);if(i){if(a&&u!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&i&&u!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=b("strides",t,e,n),f=sh(t,e,n),d=b("dataFormat",t,e,n).toUpperCase(),h=b("dilations",t,e,n);let[m,p]=b("args",t,e,n);o&&(p=m,m=void 0);const g=b("leakyreluAlpha",t,e,n);return{stride:c,pad:f,dataFormat:d,dilations:h,biasArg:m,preluArg:p,activationFunc:s,leakyreluAlpha:g}}const Ese=(t,e,n,r=bt)=>{switch(t.op){case"Conv1D":{const s=b("stride",t,e,n),i=b("pad",t,e,n),o=b("dataFormat",t,e,n).toUpperCase(),a=b("dilation",t,e,n);return[r.conv1d(b("x",t,e,n),b("filter",t,e,n),s,i,o,a)]}case"Conv2D":{const s=b("strides",t,e,n),i=sh(t,e,n),o=b("dataFormat",t,e,n).toUpperCase(),a=b("dilations",t,e,n);return[r.conv2d(b("x",t,e,n),b("filter",t,e,n),[s[1],s[2]],i,o,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:s,pad:i,dataFormat:o,dilations:a,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:f}=_E(t,e,n);return[r.fused.conv2d({x:b("x",t,e,n),filter:b("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:o,dilations:[a[1],a[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:f})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:i,dataFormat:o,dilations:a,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:f}=_E(t,e,n);return[r.fused.depthwiseConv2d({x:b("x",t,e,n),filter:b("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:o,dilations:[a[1],a[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:f})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=b("outputShape",t,e,n),i=b("strides",t,e,n),o=sh(t,e,n);return[r.conv2dTranspose(b("x",t,e,n),b("filter",t,e,n),s,[i[1],i[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=b("strides",t,e,n),i=sh(t,e,n),o=b("dilations",t,e,n),a=b("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(b("input",t,e,n),b("filter",t,e,n),[s[1],s[2]],i,a,[o[1],o[2]])]}case"Conv3D":{const s=b("strides",t,e,n),i=b("pad",t,e,n),o=b("dataFormat",t,e,n).toUpperCase(),a=b("dilations",t,e,n);return[r.conv3d(b("x",t,e,n),b("filter",t,e,n),[s[1],s[2],s[3]],i,o,[a[1],a[2],a[3]])]}case"AvgPool":{const s=b("strides",t,e,n),i=b("pad",t,e,n),o=b("kernelSize",t,e,n);return[r.avgPool(b("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i)]}case"MaxPool":{const s=b("strides",t,e,n),i=b("pad",t,e,n),o=b("kernelSize",t,e,n);return[r.maxPool(b("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i)]}case"MaxPoolWithArgmax":{const s=b("strides",t,e,n),i=b("pad",t,e,n),o=b("kernelSize",t,e,n),a=b("includeBatchInIndex",t,e,n),{result:l,indexes:u}=r.maxPoolWithArgmax(b("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i,a);return[l,u]}case"AvgPool3D":{const s=b("strides",t,e,n),i=b("pad",t,e,n),o=b("kernelSize",t,e,n);return[r.avgPool3d(b("x",t,e,n),[o[1],o[2],o[3]],[s[1],s[2],s[3]],i)]}case"MaxPool3D":{const s=b("strides",t,e,n),i=b("pad",t,e,n),o=b("kernelSize",t,e,n);return[r.maxPool3d(b("x",t,e,n),[o[1],o[2],o[3]],[s[1],s[2],s[3]],i)]}case"Dilation2D":{const s=b("strides",t,e,n),i=b("pad",t,e,n),o=b("dilations",t,e,n),a=s[1],l=s[2],u=o[1],c=o[2];return[r.dilation2d(b("x",t,e,n),b("filter",t,e,n),[a,l],i,[u,c],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nse=(t,e,n,r=bt)=>{switch(t.op){case"Fill":{const s=b("shape",t,e,n),i=b("dtype",t,e,n),o=b("value",t,e,n);return[r.fill(s,o,i)]}case"LinSpace":{const s=b("start",t,e,n),i=b("stop",t,e,n),o=b("num",t,e,n);return[r.linspace(s,i,o)]}case"Multinomial":{const s=b("logits",t,e,n),i=b("numSamples",t,e,n),o=b("seed",t,e,n);return[r.multinomial(s,i,o)]}case"OneHot":{const s=b("indices",t,e,n),i=b("depth",t,e,n),o=b("onValue",t,e,n),a=b("offValue",t,e,n),l=b("dtype",t,e,n);return[r.oneHot(s,i,o,a,l)]}case"Ones":return[r.ones(b("shape",t,e,n),b("dtype",t,e,n))];case"OnesLike":return[r.onesLike(b("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(b("shape",t,e,n),b("dtype",t,e,n),b("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(b("shape",t,e,n),b("minval",t,e,n),b("maxval",t,e,n),b("dtype",t,e,n))];case"RandomUniformInt":return[r.randomUniformInt(b("shape",t,e,n),b("minval",t,e,n),b("maxval",t,e,n),b("seed",t,e,n))];case"Range":{const s=b("start",t,e,n),i=b("stop",t,e,n),o=b("step",t,e,n);return[r.range(s,i,o,b("dtype",t,e,n))]}case"TruncatedNormal":{const s=b("shape",t,e,n),i=b("mean",t,e,n),o=b("stdDev",t,e,n),a=b("seed",t,e,n);return[r.truncatedNormal(s,i,o,b("dtype",t,e,n),a)]}case"Zeros":return[r.zeros(b("shape",t,e,n),b("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(b("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lg(t,e,n){const r=b("boxes",t,e,n),s=b("scores",t,e,n),i=b("maxOutputSize",t,e,n),o=b("iouThreshold",t,e,n),a=b("scoreThreshold",t,e,n),l=b("softNmsSigma",t,e,n);return{boxes:r,scores:s,maxOutputSize:i,iouThreshold:o,scoreThreshold:a,softNmsSigma:l}}const kse=async(t,e,n,r,s=bt)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:u,softNmsSigma:c}=Lg(t,e,n),f=await s.image.nonMaxSuppressionWithScoreAsync(i,o,a,l,u,c);return[f.selectedIndices,f.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:u}=Lg(t,e,n),c=b("padToMaxOutputSize",t,e,n),f=await s.image.nonMaxSuppressionPaddedAsync(i,o,a,l,u,c);return[f.selectedIndices,f.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:l,scoreThreshold:u}=Lg(t,e,n);return[await s.image.nonMaxSuppressionAsync(i,o,a,l,u)]}case"Where":{const i=s.cast(b("condition",t,e,n),"bool"),o=[await s.whereAsync(i)];return i.dispose(),o}case"ListDiff":return s.setdiff1dAsync(b("x",t,e,n),b("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ase=(t,e,n,r=bt)=>{switch(t.op){case"LowerBound":{const s=b("sortedSequence",t,e,n),i=b("values",t,e,n);return[r.lowerBound(s,i)]}case"TopKV2":{const s=b("x",t,e,n),i=b("k",t,e,n),o=b("sorted",t,e,n),a=r.topk(s,i,o);return[a.values,a.indices]}case"UpperBound":{const s=b("sortedSequence",t,e,n),i=b("values",t,e,n);return[r.upperBound(s,i)]}case"Unique":{const s=b("x",t,e,n),i=r.unique(s);return[i.values,i.indices]}case"UniqueV2":{const s=b("x",t,e,n),i=b("axis",t,e,n),o=r.unique(s,i);return[o.values,o.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cse=(t,e,n,r=bt)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const s=b("default",t,e,n);return[yt(t.name,e,n)||s];case"Placeholder":return[yt(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const c=b("x",t,e,n);return[_s(c)]}case"IdentityN":return b("x",t,e,n).map(c=>_s(c));case"Snapshot":const i=b("x",t,e,n);return[_s(i)];case"Shape":return[r.tensor1d(b("x",t,e,n).shape,"int32")];case"ShapeN":return b("x",t,e,n).map(c=>r.tensor1d(c.shape));case"Size":return[r.scalar(b("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(b("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const o=b("x",t,e,n),a=b("data",t,e,n),l=b("message",t,e,n),u=b("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let c=0;c<a.length;c++)console.log(Array.prototype.slice.call(a[c].dataSync()).slice(0,u));return[o];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Pse{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=ue(0),this.tensorMap=new Map,Ar(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return ue(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(s=>s.dispose()),this.tensorMap.clear(),re(()=>{const s=ro(n),i=r.length,o=s.length;A(i===o,()=>`The number of elements doesn't match, keys has ${i} elements, the values has ${o} elements.`);for(let a=0;a<i;a++){const l=r[a],u=s[a];Ar(u),this.tensorMap.set(l,u)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return re(()=>{const s=[];for(let i=0;i<r.length;i++){const o=r[i],a=this.findWithDefault(o,n);s.push(a)}return hs(s)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $se=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const s=r.getHashTableHandleByName(t.name);if(s!=null)return[s];{const i=b("keyDType",t,e,n),o=b("valueDType",t,e,n),a=new Pse(i,o);return r.addHashTable(t.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const s=b("tableHandle",t,e,n,r),i=b("keys",t,e,n),o=b("values",t,e,n);return[await r.getHashTableById(s.id).import(i,o)]}case"LookupTableFind":case"LookupTableFindV2":{const s=b("tableHandle",t,e,n,r),i=b("keys",t,e,n),o=b("defaultValue",t,e,n);return[await r.getHashTableById(s.id).find(i,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=b("tableHandle",t,e,n,r);return[r.getHashTableById(s.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ise=(t,e,n,r=bt)=>{switch(t.op){case"ResizeBilinear":{const s=b("images",t,e,n),i=b("size",t,e,n),o=b("alignCorners",t,e,n),a=b("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(s,[i[0],i[1]],o,a)]}case"ResizeNearestNeighbor":{const s=b("images",t,e,n),i=b("size",t,e,n),o=b("alignCorners",t,e,n),a=b("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(s,[i[0],i[1]],o,a)]}case"CropAndResize":{const s=b("image",t,e,n),i=b("boxes",t,e,n),o=b("boxInd",t,e,n),a=b("cropSize",t,e,n),l=b("method",t,e,n),u=b("extrapolationValue",t,e,n);return[r.image.cropAndResize(s,i,o,a,l,u)]}case"ImageProjectiveTransformV3":{const s=b("images",t,e,n),i=b("transforms",t,e,n),o=b("outputShape",t,e,n),a=b("fillValue",t,e,n),l=b("interpolation",t,e,n),u=b("fillMode",t,e,n);return[r.image.transform(s,i,l.toLowerCase(),u.toLowerCase(),a,o)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ose=(t,e,n,r=bt)=>{switch(t.op){case"Equal":return[r.equal(b("a",t,e,n),b("b",t,e,n))];case"NotEqual":return[r.notEqual(b("a",t,e,n),b("b",t,e,n))];case"Greater":return[r.greater(b("a",t,e,n),b("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(b("a",t,e,n),b("b",t,e,n))];case"Less":return[r.less(b("a",t,e,n),b("b",t,e,n))];case"LessEqual":return[r.lessEqual(b("a",t,e,n),b("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(b("a",t,e,n),b("b",t,e,n))];case"LogicalNot":return[r.logicalNot(b("a",t,e,n))];case"LogicalOr":return[r.logicalOr(b("a",t,e,n),b("b",t,e,n))];case"Select":case"SelectV2":return[r.where(b("condition",t,e,n),b("a",t,e,n),b("b",t,e,n))];case"BitwiseAnd":return[r.bitwiseAnd(b("a",t,e,n),b("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dse=(t,e,n,r=bt)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(b("a",t,e,n),b("b",t,e,n),b("transposeA",t,e,n),b("transposeB",t,e,n))];case"Einsum":return[r.einsum(b("equation",t,e,n),...b("tensors",t,e,n))];case"Transpose":return[r.transpose(b("x",t,e,n),b("perm",t,e,n))];case"_FusedMatMul":const[s,i]=b("fusedOps",t,e,n),o=s==="biasadd",a=i==="prelu",l=b("numArgs",t,e,n),u=b("leakyreluAlpha",t,e,n);if(o){if(a&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,f]=b("args",t,e,n);return[r.fused.matMul({a:b("a",t,e,n),b:b("b",t,e,n),transposeA:b("transposeA",t,e,n),transposeB:b("transposeB",t,e,n),bias:c,activation:i,preluActivationWeights:f,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(b("a",t,e,n),b("numLower",t,e,n),b("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rse=(t,e,n,r=bt)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(b("x",t,e,n),b("axis",t,e,n),b("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(b("x",t,e,n),b("mean",t,e,n),b("variance",t,e,n),b("offset",t,e,n),b("scale",t,e,n),b("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(b("x",t,e,n),b("mean",t,e,n),b("variance",t,e,n),b("offset",t,e,n),b("scale",t,e,n),b("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(b("x",t,e,n),b("radius",t,e,n),b("bias",t,e,n),b("alpha",t,e,n),b("beta",t,e,n))];case"Softmax":return[r.softmax(b("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(b("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fse=(t,e,n,r=bt)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:s,outputDenseValues:i}=r.raggedGather(b("paramsNestedSplits",t,e,n),b("paramsDenseValues",t,e,n),b("indices",t,e,n),b("outputRaggedRank",t,e,n));return s.concat(i)}case"RaggedRange":{const{rtNestedSplits:s,rtDenseValues:i}=r.raggedRange(b("starts",t,e,n),b("limits",t,e,n),b("splits",t,e,n));return[s,i]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(b("shape",t,e,n),b("values",t,e,n),b("defaultValue",t,e,n),b("rowPartitionTensors",t,e,n),b("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mse=(t,e,n,r=bt)=>{switch(t.op){case"Max":{const a=b("axis",t,e,n),l=b("keepDims",t,e,n);return[r.max(b("x",t,e,n),a,l)]}case"Mean":{const a=b("axis",t,e,n),l=b("keepDims",t,e,n);return[r.mean(b("x",t,e,n),a,l)]}case"Min":{const a=b("axis",t,e,n),l=b("keepDims",t,e,n);return[r.min(b("x",t,e,n),a,l)]}case"Sum":{const a=b("axis",t,e,n),l=b("keepDims",t,e,n);return[r.sum(b("x",t,e,n),a,l)]}case"All":{const a=b("axis",t,e,n),l=b("keepDims",t,e,n);return[r.all(b("x",t,e,n),a,l)]}case"Any":{const a=b("axis",t,e,n),l=b("keepDims",t,e,n);return[r.any(b("x",t,e,n),a,l)]}case"ArgMax":{const a=b("axis",t,e,n);return[r.argMax(b("x",t,e,n),a)]}case"ArgMin":{const a=b("axis",t,e,n);return[r.argMin(b("x",t,e,n),a)]}case"Prod":{const a=b("axis",t,e,n),l=b("keepDims",t,e,n);return[r.prod(b("x",t,e,n),a,l)]}case"Cumprod":{const a=b("axis",t,e,n),l=b("exclusive",t,e,n),u=b("reverse",t,e,n);return[r.cumprod(b("x",t,e,n),a,l,u)]}case"Cumsum":{const a=b("axis",t,e,n),l=b("exclusive",t,e,n),u=b("reverse",t,e,n);return[r.cumsum(b("x",t,e,n),a,l,u)]}case"Bincount":const s=b("x",t,e,n),i=b("weights",t,e,n),o=b("size",t,e,n);return[r.bincount(s,i,o)];case"DenseBincount":{const a=b("x",t,e,n),l=b("weights",t,e,n),u=b("size",t,e,n),c=b("binaryOutput",t,e,n);return[r.denseBincount(a,l,u,c)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lse=(t,e,n,r=bt)=>{switch(t.op){case"ConcatV2":case"Concat":{const s=b("n",t,e,n),i=b("axis",t,e,n);let o=b("tensors",t,e,n);return o=o.slice(0,s),[r.concat(o,i)]}case"Gather":{const s=b("x",t,e,n),i=b("indices",t,e,n);return[r.gather(s,r.cast(i,"int32"),0)]}case"GatherV2":{const s=b("axis",t,e,n),i=b("batchDims",t,e,n),o=b("x",t,e,n),a=b("indices",t,e,n);return[r.gather(o,r.cast(a,"int32"),s,i)]}case"Reverse":{const s=b("dims",t,e,n),i=[];for(let a=0;a<s.length;a++)s[a]&&i.push(a);const o=b("x",t,e,n);return[r.reverse(o,i)]}case"ReverseV2":{const s=b("axis",t,e,n),i=b("x",t,e,n);return[r.reverse(i,s)]}case"Slice":{const s=b("begin",t,e,n),i=b("size",t,e,n);return[r.slice(b("x",t,e,n),s,i)]}case"StridedSlice":{const s=b("begin",t,e,n),i=b("end",t,e,n),o=b("strides",t,e,n),a=b("beginMask",t,e,n),l=b("endMask",t,e,n),u=b("ellipsisMask",t,e,n),c=b("newAxisMask",t,e,n),f=b("shrinkAxisMask",t,e,n),d=b("x",t,e,n);return[r.stridedSlice(d,s,i,o,a,l,u,c,f)]}case"Pack":return re(()=>{const s=b("axis",t,e,n),i=b("tensors",t,e,n),o=i[0].shape,a=r.squeeze(i[0]).shape,l=i.map(u=>{const c=Mr(u.shape,o);if(!c&&!Mr(r.squeeze(u).shape,a))throw new Error("the input tensors shape does not match");return c?u:r.reshape(u,o)});return[r.stack(l,s)]});case"Unpack":{const s=b("axis",t,e,n),i=b("tensor",t,e,n);return r.unstack(i,s)}case"Tile":{const s=b("reps",t,e,n);return[r.tile(b("x",t,e,n),s)]}case"Split":case"SplitV":{const s=b("axis",t,e,n),i=b("numOrSizeSplits",t,e,n),o=b("x",t,e,n);return r.split(o,i,s)}case"ScatterNd":{const s=b("indices",t,e,n),i=b("values",t,e,n),o=b("shape",t,e,n);return[r.scatterND(s,i,o)]}case"GatherNd":{const s=b("x",t,e,n),i=b("indices",t,e,n);return[r.gatherND(s,i)]}case"SparseToDense":{const s=b("sparseIndices",t,e,n),i=b("outputShape",t,e,n),o=b("sparseValues",t,e,n),a=b("defaultValue",t,e,n);return[r.sparseToDense(s,o,i,o.dtype===a.dtype?a:r.cast(a,o.dtype))]}case"TensorScatterUpdate":{const s=b("indices",t,e,n),i=b("values",t,e,n),o=b("tensor",t,e,n);return[r.tensorScatterUpdate(o,s,i)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bse=(t,e,n,r=bt)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:i,emptyRowIndicator:o,reverseIndexMap:a}=r.sparse.sparseFillEmptyRows(b("indices",t,e,n),b("values",t,e,n),b("denseShape",t,e,n),b("defaultValue",t,e,n));return[s,i,o,a]}case"SparseReshape":{const{outputIndices:s,outputShape:i}=r.sparse.sparseReshape(b("inputIndices",t,e,n),b("inputShape",t,e,n),b("newShape",t,e,n));return[s,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(b("data",t,e,n),b("indices",t,e,n),b("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(b("data",t,e,n),b("indices",t,e,n),b("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jse=(t,e,n,r=bt)=>{switch(t.op){case"FFT":return[r.fft(b("x",t,e,n))];case"IFFT":return[r.ifft(b("x",t,e,n))];case"RFFT":return[r.rfft(b("x",t,e,n))];case"IRFFT":return[r.irfft(b("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zse=(t,e,n,r=bt)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(b("input",t,e,n),b("pattern",t,e,n),b("rewrite",t,e,n),b("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:s,nGramsSplits:i}=r.string.stringNGrams(b("data",t,e,n),b("dataSplits",t,e,n),b("separator",t,e,n),b("nGramWidths",t,e,n),b("leftPad",t,e,n),b("rightPad",t,e,n),b("padWidth",t,e,n),b("preserveShortSequences",t,e,n));return[s,i]}case"StringSplit":{const{indices:s,values:i,shape:o}=r.string.stringSplit(b("input",t,e,n),b("delimiter",t,e,n),b("skipEmpty",t,e,n));return[s,i,o]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(b("input",t,e,n),b("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vse=(t,e,n,r=bt)=>{switch(t.op){case"Cast":return[r.cast(b("x",t,e,n),b("dtype",t,e,n))];case"ExpandDims":{const s=b("axis",t,e,n);return[r.expandDims(b("x",t,e,n),s)]}case"Squeeze":{const s=b("axis",t,e,n);return[r.squeeze(b("x",t,e,n),s)]}case"Reshape":return[r.reshape(b("x",t,e,n),b("shape",t,e,n))];case"EnsureShape":return[r.ensureShape(b("x",t,e,n),b("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(b("x",t,e,n),b("padding",t,e,n),b("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(b("x",t,e,n),b("padding",t,e,n),b("constantValue",t,e,n))];case"SpaceToBatchND":{const s=b("blockShape",t,e,n),i=b("paddings",t,e,n);return[r.spaceToBatchND(b("x",t,e,n),s,i)]}case"BatchToSpaceND":{const s=b("blockShape",t,e,n),i=b("crops",t,e,n);return[r.batchToSpaceND(b("x",t,e,n),s,i)]}case"DepthToSpace":{const s=b("blockSize",t,e,n),i=b("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(b("x",t,e,n),s,i)]}case"BroadcastTo":return[r.broadcastTo(b("x",t,e,n),b("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(b("s0",t,e,n),b("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TE(t,e,n,r,s=re){const i=((o,a,l)=>{switch(o.category){case"arithmetic":return s(()=>yse(o,a,l));case"basic_math":return s(()=>vse(o,a,l));case"control":return Tse(o,a,l);case"convolution":return s(()=>Ese(o,a,l));case"creation":return s(()=>Nse(o,a,l));case"dynamic":return kse(o,a,l);case"evaluation":return s(()=>Ase(o,a,l));case"image":return s(()=>Ise(o,a,l));case"graph":return s(()=>Cse(o,a,l));case"logical":return s(()=>Ose(o,a,l));case"matrices":return s(()=>Dse(o,a,l));case"normalization":return s(()=>Rse(o,a,l));case"ragged":return s(()=>Fse(o,a,l));case"reduction":return s(()=>Mse(o,a,l));case"slice_join":return s(()=>Lse(o,a,l));case"sparse":return s(()=>Bse(o,a,l));case"spectral":return s(()=>jse(o,a,l));case"string":return s(()=>zse(o,a,l));case"transformation":return s(()=>Vse(o,a,l));case"hash_table":return $se(o,a,l,r);case"custom":const u=EM(o.op);if(u&&u.customExecutor)return u.customExecutor(new gse(o,a,l));throw TypeError(`Custom op ${o.op} is not registered.`);default:throw TypeError(`Unknown op '${o.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return Wi(i)?i.then(o=>[].concat(o)):[].concat(i)}class EE{constructor(e={},n={},r={},s={},i){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=s,this.parseNodeNameCache=i,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NE(t,e,n,r){const s=new Set,i=[];let o=null,a=null;const l=new Set,u=new Set(Object.keys(t).map(d=>tn(d)[0]));r=r||[];const c=new Set(r.map(d=>tn(d.name)[0])),f=[...e];for(;f.length>0;){const d=f.pop();if((bo(d)||Xse(d)||Qse(d))&&o==null&&(o=d,a=o.children.map(h=>h.name).filter(h=>s.has(h))),s.add(d.name),n[d.name]==null&&!u.has(d.name)&&!c.has(d.name)){if(d.inputs.length===0){i.push(d.name);continue}d.inputs.forEach(h=>{l.has(h.name)||(l.add(h.name),f.push(h))})}}return{inputs:t,outputs:e,usedNodes:s,missingInputs:i,dynamicNode:o,syncInputs:a}}function Use(t,e){const{usedNodes:n,inputs:r}=e,s=Object.keys(r).map(g=>tn(g)[0]).map(g=>t.nodes[g]),i=t.initNodes||[],o=g=>n.has(typeof g=="string"?g:g.name);function a(g){return[...new Map(g.map(y=>[y.name,y])).values()]}const l=a([...s,...t.weights,...i]).filter(o),u=a([...l,...Object.values(t.nodes)]).filter(o),c=new Map(u.map(g=>[g.name,g])),f={};for(const g of u){f[g.name]=f[g.name]||0;for(const y of g.children)o(y)||(f[y.name]=Number.POSITIVE_INFINITY),f[y.name]=(f[y.name]||0)+1}const d=Object.entries(f).filter(([,g])=>g===0).map(([g])=>g),h=[...d];for(;d.length>0;){const g=d.pop(),y=c.get(g);for(const v of y.children.filter(o))--f[v.name]===0&&(h.push(v.name),d.push(v.name))}const m=h.map(g=>c.get(g)),p=Wse(m,l);return Hse(p,l),p}function Wse(t,e){const n=new Map(t.map(o=>[o.name,o])),r=e.map(o=>o.name),s=new Set(r);for(;r.length>0;){const o=r.pop(),a=n.get(o);for(const l of a.children)!n.has(l.name)||s.has(l.name)||(s.add(l.name),r.push(l.name))}return t.filter(o=>s.has(o.name))}class wd extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function Hse(t,e){const n=new Map(t.map((a,l)=>[a.name,l])),r=new Set(e.map(a=>a.name)),s=a=>r.has(typeof a=="string"?a:a.name),i=new Set(t.map(a=>a.name)),o=a=>i.has(typeof a=="string"?a:a.name);for(const a of t){for(const l of a.children.filter(o)){if(!n.has(l.name))throw new wd(`Child ${l.name} of node ${a.name} is unreachable.`);if(n.get(a.name)>n.get(l.name))throw new wd(`Node ${a.name} is scheduled to run after its child ${l.name}.`)}if(!s(a))for(const l of a.inputs){if(!n.has(l.name))throw new wd(`Input ${l.name} of node ${a.name} is unreachable.`);if(n.get(l.name)>n.get(a.name))throw new wd(`Node ${a.name} is scheduled to run before its input ${l.name}.`)}}}function Gse(t){const e=new Map(t.map((a,l)=>[a.name,l])),n=Number.MAX_SAFE_INTEGER,r=t.map((a,l)=>bo(a)?n:l),s=a=>{const l=r[e.get(a.name)];return l??-1},i=t.map((a,l)=>a.children.map(s).reduce((u,c)=>Math.max(u,c),r[l])),o=new Map;for(let a=0;a<t.length;++a){const l=i[a];if(l===n)continue;const u=t[a],c=t[l];o.has(c.name)||o.set(c.name,[]),o.get(c.name).push(u)}return o}const Kse=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),qse=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Yse=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function bo(t){return Kse.has(t.op)}function Xse(t){return qse.has(t.op)}function Qse(t){return Yse.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fp{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(s=>s.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new fp(e.functions[r],this)})}getCompilationKey(e,n){const r=e.map(i=>i.name).sort(),s=n.map(i=>i.name).sort();return r.join(this.SEPARATOR)+"--"+s.join(this.SEPARATOR)}compile(e,n){const r=NE(e,n,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:i,syncInputs:o}=r;if(i!=null)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${o}]`);if(s.length>0){const u=n.map(f=>f.name),c=Object.keys(e);throw new Error(`Cannot compute the outputs [${u}] from the provided inputs [${c}]. Missing the following inputs: [${s}]`)}const a=Use(this.graph,r),l=Gse(a);return{orderedNodes:a,nodeLiveUntilMap:l}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return Ar(n),n}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const s=r.map(d=>this.graph.nodes[tn(d)[0]]),i=n.map(d=>tn(d)[0]),o=new Set(i);let a=i.map(d=>this.graph.nodes[d]);a.length===0&&(a=this._outputs);const l=this.getCompilationKey(s,a);let u=this.compiledMap.get(l);u==null&&(u=this.compile(e,a),this.compiledMap.set(l,u));try{this.keepIntermediateTensors=te().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const c={},f={};return re(()=>{const d=new EE(this.weightMap,c,f,this.functionExecutorMap,this.parseNodeNameCache),h=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(y=>{const[v,w]=tn(y,d),x=[];x[w]=e[y],h[v]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[v]=this.cloneTensorList(x))});const m=this.getFrozenTensorIds(h),{orderedNodes:p,nodeLiveUntilMap:g}=u;for(const y of p){if(h[y.name])continue;const v=TE(y,h,d,this._resourceManager);if(Wi(v))throw new Error(`The execution of the op '${y.op}' returned a promise. Please use model.executeAsync() instead.`);h[y.name]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[y.name]=this.cloneTensorList(v)),this.checkTensorForDisposalWithNodeLiveUntilInfo(y,h,d,m,o,g.get(y.name))}return this.parent==null&&d.dispose(m),n.map(y=>yt(y,h,d))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(s=>s.id)));return new Set(n)}checkTensorForDisposal(e,n,r,s,i,o,a){if(!(bo(n)||o.has(e))){for(const l of r[e])l!=null&&(a[l.id]=(a[l.id]||0)+n.children.length);for(const l of n.inputs){if(bo(l))continue;const u=wE(l.name,r,s);if(u!=null)for(const c of u){if(!c||c.kept||i.has(c.id))continue;const f=a[c.id];f===1?(c.dispose(),delete a[c.id]):f!=null&&a[c.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,r,s,i,o){function a(l){return bo(l)||i.has(l.name)}if(!(bo(e)||o==null))for(const l of o){if(a(l))continue;const u=wE(l.name,n,r);for(const c of u)!c||c.kept||s.has(c.id)||c.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,r=!1,s={},i={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=te().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(d){this.keepIntermediateTensors=!1,console.warn(d.message)}const o=new EE(this.weightMap,s,i,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(e,o,n,r),l=n.map(d=>yt(d,a,o)),u=l.map(d=>d.id),c=Object.keys(e).map(d=>e[d].id),f=new Set([...u,...c,...this.weightIds]);return Object.values(a).forEach(d=>{d.forEach(h=>{h&&!h.isDisposed&&!f.has(h.id)&&h.dispose()})}),this.parent==null&&o.dispose(f),l}async executeFunctionAsync(e,n,r){const s=e.reduce((i,o,a)=>(i[this.inputs[a].name]=o,i),{});return this._executeAsync(s,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,s){const i=Object.keys(e),o=i.map(x=>this.graph.nodes[tn(x)[0]]),a=r.map(x=>tn(x)[0]),l=new Set(a);let u=a.map(x=>this.graph.nodes[x]);u.length===0&&(u=this._outputs);const{usedNodes:c,missingInputs:f,dynamicNode:d,syncInputs:h}=NE(e,u,this.weightMap,this._initNodes),m=[...o,...this.graph.weights,...this._initNodes||[]].map(x=>({node:x,contexts:n.currentContext})),p=Object.assign({},this.weightMap);Object.keys(e).forEach(x=>{const[S,_]=tn(x),T=[];T[_]=e[x],p[S]=T});const g={},y=this.getFrozenTensorIds(p),v={};for(;m.length>0;){const x=this.processStack(o,m,n,p,v,y,l,g,c);await Promise.all(x)}d==null&&!s&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const w=u.filter(x=>!bo(x)&&!yt(x.name,p,n)).map(x=>x.name);if(w.length>0){let x="";throw d!=null&&(x=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${h}]`),new Error(`Cannot compute the outputs [${w}] from the provided inputs [${i}]. Consider providing the following inputs: [${f}]. ${x}`)}return p}processStack(e,n,r,s,i,o,a,l,u){const c=[];for(;n.length>0;){const f=n.pop();r.currentContext=f.contexts;let d="";if(f.node.op==="Enter"&&b("isConstant",f.node,s,r)&&([d]=Ss(f.node.name,r)),s[f.node.name]==null){const h=TE(f.node,s,r,this._resourceManager);d||([d]=Ss(f.node.name,r));const m=r.currentContext;Wi(h)?c.push(h.then(p=>(s[d]=p,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(p)),r.currentContext=m,this.checkTensorForDisposal(d,f.node,s,r,o,a,l),this.processChildNodes(f.node,n,r,s,i,u),p))):(s[d]=h,this.keepIntermediateTensors&&(this.clonedTensorsMap[d]=this.cloneTensorList(h)),this.checkTensorForDisposal(d,f.node,s,r,o,a,l),this.processChildNodes(f.node,n,r,s,i,u))}else this.processChildNodes(f.node,n,r,s,i,u)}return c}processChildNodes(e,n,r,s,i,o){e.children.forEach(a=>{const[l]=Ss(a.name,r);i[l]||!o.has(a.name)||(a.op==="Merge"?a.inputNames.some(u=>!!yt(u,s,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:a})):a.inputNames.every(u=>!!yt(u,s,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[s]=tn(n),i=this.graph.nodes[s];if(i.attrParams.shape&&i.attrParams.shape.value){const o=i.attrParams.shape.value,a=o.length===r.shape.length&&r.shape.every((l,u)=>o[u]===-1||o[u]===l);A(a,()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${o}], but was [${r.shape}]`)}i.attrParams.dtype&&i.attrParams.dtype.value&&A(r.dtype===i.attrParams.dtype.value,()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var n,r;const s={};for(const i in e){const o=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[i];o!=null?s[o.name]=e[i]:s[i]=e[i]}return s}checkInputs(e){const n=Object.keys(e).filter(r=>{const[s]=tn(r);return this.graph.nodes[s]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var r,s;const i=(s=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||s===void 0?void 0:s[n];return i!=null?i.name:n},{})}checkOutputs(e){e.forEach(n=>{const[r]=tn(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class Zse{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jse="?tfjs-format=file",eie="model.json";class tie{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},r=ex){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new Zse}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Wi(e)?e.then(n=>n.getWeightStream==null?this.loadSync(n):this.loadStreaming(n)):this.loadSync(e)}loadSync(e){const n=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,n)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const n=await xR(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,n)}loadWithWeightMap(e,n){this.artifacts=e;const r=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const i=this.artifacts.userDefinedMetadata;i.signature!=null&&(s=i.signature),i.structuredOutputKeys!=null&&(this.structuredOutputKeys=i.structuredOutputKeys)}if(this.signature=s,this.version=`${r.versions.producer}.${r.versions.minConsumer}`,this.executor=new fp(bE.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(n),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const i=bE.Instance.transformGraph(e.modelInitializer);this.initializer=new fp(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof Fe?[e]:e,r={};return n.forEach((s,i)=>r[this.structuredOutputKeys[i]]=s),r}return e}predict(e,n){const r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(e,n){const r=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(e){var n;if(!(e instanceof Fe)&&!Array.isArray(e)){const i=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(i!=null)for(const o in i){const a=i[o];a.resourceId!=null&&(e[o]=this.resourceIdToCapturedInput[a.resourceId])}return e}e=Array.isArray(e)?e:[e];const r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let s=0;return this.inputNodes.reduce((i,o)=>{var a,l,u;const c=(u=(l=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||l===void 0?void 0:l[o])===null||u===void 0?void 0:u.resourceId;return c!=null?i[o]=this.resourceIdToCapturedInput[c]:i[o]=e[s++],i},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let s=0;s<r.length;s++){const i=r[s],o=n[i];this.resourceIdToCapturedInput[o.resourceId]=e[s]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Bt(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function AM(t,e={},n=ex){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=nie(t));const r=new tie(t,e,n);return await r.load(),r}function nie(t){return t.endsWith("/")||(t=t+"/"),`${t}${eie}${Jse}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bv=function(t,e){return bv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},bv(t,e)};function CM(t,e){bv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Vr=function(){return Vr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vr.apply(this,arguments)};function es(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,[])).next())})}function ts(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PM(t){var e=t.shape[2],n=tb(t,2),r=B(n,[-1]);return tf(r,e)}function rie(t,e){return Y(t,e)}function bd(t,e){return re(function(){return ye(lu(t,ue(e)),"int32")})}function sie(t,e){var n=e.shape,r=n[0],s=n[1],i=n[2];return re(function(){var o=PM(e),a=An(qi(0,i,1,"int32"),1),l=ye(me(o,a),"int32"),u=B(l,[r,s]),c=J(u,ue(1,"int32"));return ae(rie(c,t),ue(1,"int32"))})}function iie(t){var e=t.shape,n=e[0],r=e[1],s=e[2];return re(function(){var i=PM(t),o=An(qi(0,s,1,"int32"),1),a=ye(me(i,o),"int32");return B(a,[n,r])})}/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var $M=function(){function t(e,n){this.model=e,this.outputStride=n;var r=this.model.inputs[0].shape;A(r[1]===-1&&r[2]===-1,function(){return"Input shape [".concat(r[1],", ").concat(r[2],"] ")+"must both be equal to or -1"})}return t.prototype.predict=function(e){var n=this;return re(function(){var r=n.preprocessInput(ye(e,"float32")),s=An(r,0),i=n.model.predict(s),o=i.map(function(l){return Jr(l,[0])}),a=n.nameOutputResults(o);return{heatmapScores:Ps(a.heatmap),offsets:a.offsets,displacementFwd:a.displacementFwd,displacementBwd:a.displacementBwd,segmentation:a.segmentation,partHeatmaps:a.partHeatmaps,longOffsets:a.longOffsets,partOffsets:a.partOffsets}})},t.prototype.dispose=function(){this.model.dispose()},t}();/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var oie=function(t){CM(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.preprocessInput=function(n){return re(function(){return ae(Te(n,127.5),1)})},e.prototype.nameOutputResults=function(n){var r=n[0],s=n[1],i=n[2],o=n[3],a=n[4],l=n[5],u=n[6],c=n[7];return{offsets:r,segmentation:s,partHeatmaps:i,longOffsets:o,heatmap:a,displacementFwd:l,displacementBwd:u,partOffsets:c}},e}($M);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var wm=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],kr=wm.length,dp=wm.reduce(function(t,e,n){return t[e]=n,t},{}),aie=[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]],lie=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]];aie.map(function(t){var e=t[0],n=t[1];return[dp[e],dp[n]]});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rx(t,e,n){var r=t[0],s=t[1],i=e[0],o=e[1],a=n.top,l=n.bottom,u=n.left,c=n.right,f=i/(a+l+r),d=o/(u+c+s);return[d,f]}function IM(t,e,n,r){return{y:r.get(t,e,n),x:r.get(t,e,n+kr)}}function OM(t,e,n){var r=t.heatmapY,s=t.heatmapX,i=t.id,o=IM(r,s,i,n),a=o.y,l=o.x;return{x:t.heatmapX*e+l,y:t.heatmapY*e+a}}function kE(t,e,n){return t<e?e:t>n?n:t}function uie(t,e,n,r){var s=n-t,i=r-e;return s*s+i*i}function AE(t,e){return{x:t.x+e.x,y:t.y+e.y}}/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cie(t,e,n){n===void 0&&(n=.3);for(var r=0,s=0,i=0;i<t.length;i++)e.keypoints[i].score>n&&(s+=1,r+=Math.pow(t[i].x-e.keypoints[i].position.x,2)+Math.pow(t[i].y-e.keypoints[i].position.y,2));return s===0?r=1/0:r=r/s,r}function fie(t,e,n,r){var s=e[0],i=e[1],o=n[0],a=n[1],l=Math.round(((s+t.y+1)*a-1)/r),u=Math.round(((i+t.x+1)*o-1)/r);return{x:u,y:l}}function die(t,e,n,r,s,i,o){for(var a=o[0],l=o[1],u=n(t),c=u.y*r+u.x,f=s[kr*(2*c)+e],d=s[kr*(2*c+1)+e],h=t.y+f,m=t.x+d,p=0;p<i;p++){h=Math.min(h,a-1),m=Math.min(m,l-1);var g=n({x:m,y:h}),y=g.y*r+g.x;f=s[kr*(2*y)+e],d=s[kr*(2*y+1)+e],h=h+f,m=m+d}return{x:m,y:h}}function DM(t,e,n,r,s,i,o,a,l,u){for(var c=s[0],f=s[1],d=i[0],h=i[1],m=a[0],p=a[1],g=[],y=function(k){return fie(k,[c,f],[d,h],l)},v=0;v<r;v++){var w=die(t,v,y,o,e,u,[m,p]);g.push(w)}for(var x=-1,S=1/0,_=0;_<n.length;_++){var T=cie(g,n[_]);T<S&&(x=_,S=T)}return x}function RM(t,e){var n=t[0],r=t[1],s=Math.round((r-1)/e+1),i=Math.round((n-1)/e+1);return[s,i]}function hie(t,e,n,r,s,i,o,a,l,u){var c=o[0],f=o[1];u===void 0&&(u=5);for(var d=n.map(function(k){return new Uint8Array(r*s).fill(0)}),h=a.top,m=a.left,p=rx([r,s],[c,f],a),g=p[0],y=p[1],v=RM([c,f],i)[0],w=0;w<r;w+=1)for(var x=0;x<s;x+=1){var S=w*s+x,_=t[S];if(_===1){var T=DM({x,y:w},e,n,u,[h,m],[g,y],v,[r,s],i,l);T>=0&&(d[T][S]=1)}}return d}function pie(t,e,n,r,s,i,o,a,l,u,c){var f=a[0],d=a[1];c===void 0&&(c=5);for(var h=r.map(function(P){return new Int32Array(s*i).fill(-1)}),m=l.top,p=l.left,g=rx([s,i],[f,d],l),y=g[0],v=g[1],w=RM([f,d],o)[0],x=0;x<s;x+=1)for(var S=0;S<i;S+=1){var _=x*i+S,T=t[_];if(T===1){var k=DM({x:S,y:x},e,r,c,[m,p],[y,v],w,[s,i],o,u);k>=0&&(h[k][_]=n[_])}}return h}/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FM(t,e,n,r,s,i,o,a,l,u,c){for(var f=o[0],d=o[1],h=t.shape,m=h[0],p=h[1],g=e.shape.slice(0,2),y=g[0],v=g[1],w=B(e,[y,v,2,kr]),x=new Float32Array(c*kr*3).fill(0),S=0;S<n.length;S++)for(var _=S*kr*3,T=n[S],k=0;k<kr;k++){var P=T.keypoints[k],O=_+k*3;x[O]=P.score,x[O+1]=P.position.y,x[O+2]=P.position.x}var D=rx([r,s],[f,d],a),F=D[0],z=D[1],L=ar(x,[c,kr,3]),W=a.top,G=a.left,V={variableNames:["segmentation","longOffsets","poses"],outputShape:[m,p],userCode:`
    int convertToPositionInOutput(int pos, int pad, float scale, int stride) {
      return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));
    }

    float convertToPositionInOutputFloat(
        int pos, int pad, float scale, int stride) {
      return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);
    }

    float dist(float x1, float y1, float x2, float y2) {
      return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);
    }

    float sampleLongOffsets(float h, float w, int d, int k) {
      float fh = fract(h);
      float fw = fract(w);
      int clH = int(ceil(h));
      int clW = int(ceil(w));
      int flH = int(floor(h));
      int flW = int(floor(w));
      float o11 = getLongOffsets(flH, flW, d, k);
      float o12 = getLongOffsets(flH, clW, d, k);
      float o21 = getLongOffsets(clH, flW, d, k);
      float o22 = getLongOffsets(clH, clW, d, k);
      float o1 = mix(o11, o12, fw);
      float o2 = mix(o21, o22, fw);
      return mix(o1, o2, fh);
    }

    int findNearestPose(int h, int w) {
      float prob = getSegmentation(h, w);
      if (prob < 1.0) {
        return -1;
      }

      // Done(Tyler): convert from output space h/w to strided space.
      float stridedH = convertToPositionInOutputFloat(
        h, `.concat(W,", ").concat(z,", ").concat(i,`);
      float stridedW = convertToPositionInOutputFloat(
        w, `).concat(G,", ").concat(F,", ").concat(i,`);

      float minDist = 1000000.0;
      int iMin = -1;
      for (int i = 0; i < `).concat(c,`; i++) {
        float curDistSum = 0.0;
        int numKpt = 0;
        for (int k = 0; k < `).concat(kr,`; k++) {
          float dy = sampleLongOffsets(stridedH, stridedW, 0, k);
          float dx = sampleLongOffsets(stridedH, stridedW, 1, k);

          float y = float(h) + dy;
          float x = float(w) + dx;

          for (int s = 0; s < `).concat(l,`; s++) {
            int yRounded = round(min(y, float(`).concat(r-1,`)));
            int xRounded = round(min(x, float(`).concat(s-1,`)));

            float yStrided = convertToPositionInOutputFloat(
              yRounded, `).concat(W,", ").concat(z,", ").concat(i,`);
            float xStrided = convertToPositionInOutputFloat(
              xRounded, `).concat(G,", ").concat(F,", ").concat(i,`);

            float dy = sampleLongOffsets(yStrided, xStrided, 0, k);
            float dx = sampleLongOffsets(yStrided, xStrided, 1, k);

            y = y + dy;
            x = x + dx;
          }

          float poseScore = getPoses(i, k, 0);
          float poseY = getPoses(i, k, 1);
          float poseX = getPoses(i, k, 2);
          if (poseScore > `).concat(u,`) {
            numKpt = numKpt + 1;
            curDistSum = curDistSum + dist(x, y, poseX, poseY);
          }
        }
        if (numKpt > 0 && curDistSum / float(numKpt) < minDist) {
          minDist = curDistSum / float(numKpt);
          iMin = i;
        }
      }
      return iMin;
    }

    void main() {
        ivec2 coords = getOutputCoords();
        int nearestPose = findNearestPose(coords[0], coords[1]);
        setOutput(float(nearestPose));
      }
  `)},R=Xw();return R.compileAndRun(V,[t,w,L])}/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mie(t,e){return re(function(){return ye($f(t,ue(e)),"int32")})}function gie(t,e,n){return re(function(){return ae(Y(ye($f(t,ue(n)),"int32"),J(e,1)),1)})}function MM(){return Yw()==="webgl"}function yie(t,e,n,r,s,i,o,a,l,u,c,f){var d=o[0],h=o[1];return l===void 0&&(l=.2),u===void 0&&(u=8),c===void 0&&(c=.3),f===void 0&&(f=10),es(this,void 0,void 0,function(){var m,p,g,y,v;return ts(this,function(w){switch(w.label){case 0:return m=n.filter(function(x){return x.score>=l}),MM()?(g=re(function(){var x=FM(t,e,m,r,s,i,[d,h],a,u,c,f),S=qw().makeTensorFromDataId(x.dataId,x.shape,x.dtype);return m.map(function(_,T){return mie(S,T)})}),[4,Promise.all(g.map(function(x){return x.data()}))]):[3,2];case 1:return p=w.sent(),g.forEach(function(x){return x.dispose()}),[3,5];case 2:return[4,t.data()];case 3:return y=w.sent(),[4,e.data()];case 4:v=w.sent(),p=hie(y,v,m,r,s,i,[d,h],a,u),w.label=5;case 5:return[2,p.map(function(x,S){return{data:x,pose:m[S],width:s,height:r}})]}})})}function vie(t,e,n,r,s,i,o,a,l,u,c,f,d){var h=a[0],m=a[1];return u===void 0&&(u=.2),c===void 0&&(c=8),f===void 0&&(f=.3),d===void 0&&(d=10),es(this,void 0,void 0,function(){var p,g,y,v,w,x;return ts(this,function(S){switch(S.label){case 0:return p=r.filter(function(_){return _.score>=u}),MM()?(y=re(function(){var _=FM(t,e,p,s,i,o,[h,m],l,c,f,d),T=qw().makeTensorFromDataId(_.dataId,_.shape,_.dtype);return p.map(function(k,P){return gie(T,n,P)})}),[4,Promise.all(y.map(function(_){return _.data()}))]):[3,2];case 1:return g=S.sent(),y.forEach(function(_){return _.dispose()}),[3,6];case 2:return[4,t.data()];case 3:return v=S.sent(),[4,e.data()];case 4:return w=S.sent(),[4,n.data()];case 5:x=S.sent(),g=pie(v,w,x,p,s,i,o,[h,m],l,c),S.label=6;case 6:return[2,g.map(function(_,T){return{pose:p[T],data:_,height:s,width:i}})]}})})}/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bg(t){return Math.floor(t/2)}var wie=function(){function t(e,n){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=n}return t.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},t.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},t.prototype.empty=function(){return this.numberOfElements===-1},t.prototype.size=function(){return this.numberOfElements+1},t.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},t.prototype.max=function(){return this.priorityQueue[0]},t.prototype.swim=function(e){for(;e>0&&this.less(Bg(e),e);)this.exchange(e,Bg(e)),e=Bg(e)},t.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var n=2*e;if(n<this.numberOfElements&&this.less(n,n+1)&&n++,!this.less(e,n))break;this.exchange(e,n),e=n}},t.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},t.prototype.less=function(e,n){return this.getValueAt(e)<this.getValueAt(n)},t.prototype.exchange=function(e,n){var r=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[n],this.priorityQueue[n]=r},t}();/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bie(t,e,n,r,s,i){for(var o=i.shape,a=o[0],l=o[1],u=!0,c=Math.max(n-s,0),f=Math.min(n+s+1,a),d=c;d<f;++d){for(var h=Math.max(r-s,0),m=Math.min(r+s+1,l),p=h;p<m;++p)if(i.get(d,p,t)>e){u=!1;break}if(!u)break}return u}function xie(t,e,n){for(var r=n.shape,s=r[0],i=r[1],o=r[2],a=new wie(s*i*o,function(d){var h=d.score;return h}),l=0;l<s;++l)for(var u=0;u<i;++u)for(var c=0;c<o;++c){var f=n.get(l,u,c);f<t||bie(c,f,l,u,e,n)&&a.enqueue({score:f,part:{heatmapY:l,heatmapX:u,id:c}})}return a}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var LM=lie.map(function(t){var e=t[0],n=t[1];return[dp[e],dp[n]]}),jg=LM.map(function(t){var e=t[1];return e}),CE=LM.map(function(t){var e=t[0];return e});function Sie(t,e,n){var r=n.shape[2]/2;return{y:n.get(e.y,e.x,t),x:n.get(e.y,e.x,r+t)}}function zg(t,e,n,r){return{y:kE(Math.round(t.y/e),0,n-1),x:kE(Math.round(t.x/e),0,r-1)}}function PE(t,e,n,r,s,i,o,a){a===void 0&&(a=2);for(var l=r.shape,u=l[0],c=l[1],f=zg(e.position,i,u,c),d=Sie(t,f,o),h=AE(e.position,d),m=h,p=0;p<a;p++){var g=zg(m,i,u,c),y=IM(g.y,g.x,n,s);m=AE({x:g.x*i,y:g.y*i},{x:y.x,y:y.y})}var v=zg(m,i,u,c),w=r.get(v.y,v.x,n);return{position:m,part:wm[n],score:w}}function _ie(t,e,n,r,s,i){var o=e.shape[2],a=jg.length,l=new Array(o),u=t.part,c=t.score,f=OM(u,r,n);l[u.id]={score:c,part:wm[u.id],position:f};for(var d=a-1;d>=0;--d){var h=jg[d],m=CE[d];l[h]&&!l[m]&&(l[m]=PE(d,l[h],m,e,n,r,i))}for(var d=0;d<a;++d){var h=CE[d],m=jg[d];l[h]&&!l[m]&&(l[m]=PE(d,l[h],m,e,n,r,s))}return l}/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BM(t,e,n,r){var s=n.x,i=n.y;return t.some(function(o){var a=o.keypoints,l=a[r].position;return uie(i,s,l.y,l.x)<=e})}function Tie(t,e,n){var r=n.reduce(function(s,i,o){var a=i.position,l=i.score;return BM(t,e,a,o)||(s+=l),s},0);return r/=n.length}var Eie=1;function xd(t,e,n,r,s,i,o,a){o===void 0&&(o=.5),a===void 0&&(a=20);for(var l=[],u=xie(o,Eie,t),c=a*a;l.length<i&&!u.empty();){var f=u.dequeue(),d=OM(f.part,s,e);if(!BM(l,c,d,f.part.id)){var h=_ie(f,t,e,s,n,r),m=Tie(l,c,h);l.push({keypoints:h,score:m})}}return l}/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Nie=[-123.15,-115.9,-103.06],kie=function(t){CM(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.preprocessInput=function(n){return J(n,Nie)},e.prototype.nameOutputResults=function(n){var r=n[0],s=n[1],i=n[2],o=n[3],a=n[4],l=n[5],u=n[6],c=n[7];return{offsets:a,segmentation:u,partHeatmaps:l,longOffsets:o,heatmap:i,displacementFwd:s,displacementBwd:r,partOffsets:c}},e}($M);/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var $E="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",IE="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function Aie(t,e){var n="model-stride".concat(t,".json");return e===4?$E+"float/"+n:$E+"quant".concat(e,"/")+n}function Cie(t,e,n){var r={1:"100",.75:"075",.5:"050"},s="model-stride".concat(t,".json");return n===4?IE+"float/".concat(r[e],"/")+s:IE+"quant".concat(n,"/").concat(r[e],"/")+s}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Ta;function Pie(t){if("offsetHeight"in t&&t.offsetHeight!==0&&"offsetWidth"in t&&t.offsetWidth!==0)return[t.offsetHeight,t.offsetWidth];if(t.height!=null&&t.width!=null)return[t.height,t.width];throw new Error("HTMLImageElement must have height and width attributes set.")}function $ie(t){return t.hasAttribute("height")&&t.hasAttribute("width")?[t.height,t.width]:[t.videoHeight,t.videoWidth]}function Mu(t){if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas||typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)return Pie(t);if(typeof ImageData<"u"&&t instanceof ImageData)return[t.height,t.width];if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)return $ie(t);if(t instanceof Fe)return[t.shape[0],t.shape[1]];throw new Error("error: Unknown input type: ".concat(t,"."))}function Iie(t,e){return(t-1)%e===0}function OE(t,e){return Iie(t,e)?t:Math.floor(t/e)*e+1}var Lu={low:"low",medium:"medium",high:"high",full:"full"},Oie=(Ta={},Ta[Lu.low]=.25,Ta[Lu.medium]=.5,Ta[Lu.high]=.75,Ta[Lu.full]=1,Ta),DE=.1,RE=2;function Die(t){if(typeof t=="string"){var e=Oie[t];return A(typeof e=="number",function(){return"string value of inputResolution must be one of ".concat(Object.values(Lu).join(",")," but was ").concat(t,".")}),e}else return A(typeof t=="number"&&t<=RE&&t>=DE,function(){return"inputResolution must be a string or number between ".concat(DE," and ").concat(RE,", but ")+"was ".concat(t)}),t}function Sd(t,e,n){var r=n[0],s=n[1],i=Die(t);return[OE(r*i,e),OE(s*i,e)]}function Rie(t){return t instanceof Fe?t:dM(t)}function Ea(t,e,n,r,s){var i=e[0],o=e[1],a=n[0],l=n[1],u=r[0],c=u[0],f=u[1],d=r[1],h=d[0],m=d[1];return re(function(){var p=Ff.resizeBilinear(t,[a,l],!0);return p=Ps(p),Fie(p,[i,o],[[c,f],[h,m]])})}function Fie(t,e,n){var r=e[0],s=e[1],i=n[0],o=i[0],a=i[1],l=n[1],u=l[0],c=l[1];return re(function(){var f=An(t);return Jr(Ff.cropAndResize(f,[[o/(r+o+a-1),u/(s+u+c-1),(o+r-1)/(r+o+a-1),(u+s-1)/(s+u+c-1)]],[0],[r,s]),[0])})}function _d(t,e){var n=e[0],r=e[1],s=Mu(t),i=s[0],o=s[1],a=r/n,l=o/i,u=[0,0,0,0],c=u[0],f=u[1],d=u[2],h=u[3];l<a?(c=0,f=0,d=Math.round(.5*(a*i-o)),h=Math.round(.5*(a*i-o))):(c=Math.round(.5*(1/a*o-i)),f=Math.round(.5*(1/a*o-i)),d=0,h=0);var m=re(function(){var p=Rie(t);return p=Sb(p,[[c,f],[d,h],[0,0]]),Ff.resizeBilinear(p,[n,r])});return{resized:m,padding:{top:c,left:d,right:h,bottom:f}}}function Td(t){return es(this,void 0,void 0,function(){return ts(this,function(e){return[2,Promise.all(t.map(function(n){return n.buffer()}))]})})}function Mie(t,e,n,r,s){return r===void 0&&(r=0),s===void 0&&(s=0),{score:t.score,keypoints:t.keypoints.map(function(i){var o=i.score,a=i.part,l=i.position;return{score:o,part:a,position:{x:l.x*n+s,y:l.y*e+r}}})}}function Lie(t,e,n,r,s){return r===void 0&&(r=0),s===void 0&&(s=0),n===1&&e===1&&r===0&&s===0?t:t.map(function(i){return Mie(i,e,n,r,s)})}function Ed(t,e,n,r,s){var i=e[0],o=e[1],a=n[0],l=n[1],u=(i+r.top+r.bottom)/a,c=(o+r.left+r.right)/l,f=Lie(t,u,c,-r.top,-r.left);return f}var jM={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},FE=["MobileNetV1","ResNet50"],ME={MobileNetV1:[8,16,32],ResNet50:[32,16]},LE={MobileNetV1:[.5,.75,1],ResNet50:[1]},BE=[1,2,4];function Bie(t){if(t=t||jM,t.architecture==null&&(t.architecture="MobileNetV1"),FE.indexOf(t.architecture)<0)throw new Error("Invalid architecture ".concat(t.architecture,". ")+"Should be one of ".concat(FE));if(t.outputStride==null&&(t.outputStride=16),ME[t.architecture].indexOf(t.outputStride)<0)throw new Error("Invalid outputStride ".concat(t.outputStride,". ")+"Should be one of ".concat(ME[t.architecture]," ")+"for architecture ".concat(t.architecture,"."));if(t.multiplier==null&&(t.multiplier=1),LE[t.architecture].indexOf(t.multiplier)<0)throw new Error("Invalid multiplier ".concat(t.multiplier,". ")+"Should be one of ".concat(LE[t.architecture]," ")+"for architecture ".concat(t.architecture,"."));if(t.quantBytes==null&&(t.quantBytes=4),BE.indexOf(t.quantBytes)<0)throw new Error("Invalid quantBytes ".concat(t.quantBytes,". ")+"Should be one of ".concat(BE," ")+"for architecture ".concat(t.architecture,"."));return t}var Nd={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},kd={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function jE(t){var e=t.segmentationThreshold,n=t.maxDetections,r=t.scoreThreshold,s=t.nmsRadius;if(e<0||e>1)throw new Error("segmentationThreshold ".concat(e,". ")+"Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections ".concat(n,". ")+"Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold ".concat(r,". ")+"Should be in range [0.0, 1.0]");if(s<=0)throw new Error("Invalid nmsRadius ".concat(s,"."))}function zE(t){var e=t.segmentationThreshold,n=t.maxDetections,r=t.scoreThreshold,s=t.nmsRadius,i=t.minKeypointScore,o=t.refineSteps;if(e<0||e>1)throw new Error("segmentationThreshold ".concat(e,". ")+"Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections ".concat(n,". ")+"Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold ".concat(r,". ")+"Should be in range [0.0, 1.0]");if(s<=0)throw new Error("Invalid nmsRadius ".concat(s,"."));if(i<0||i>1)throw new Error("Invalid minKeypointScore ".concat(i,".")+"Should be in range [0.0, 1.0]");if(o<=0||o>20)throw new Error("Invalid refineSteps ".concat(o,".")+"Should be in range [1, 20]")}var zM=function(){function t(e){this.baseModel=e}return t.prototype.predictForPersonSegmentation=function(e){var n=this.baseModel.predict(e),r=n.segmentation,s=n.heatmapScores,i=n.offsets,o=n.displacementFwd,a=n.displacementBwd;return{segmentLogits:r,heatmapScores:s,offsets:i,displacementFwd:o,displacementBwd:a}},t.prototype.predictForPersonSegmentationAndPart=function(e){var n=this.baseModel.predict(e),r=n.segmentation,s=n.partHeatmaps,i=n.heatmapScores,o=n.offsets,a=n.displacementFwd,l=n.displacementBwd;return{segmentLogits:r,partHeatmapLogits:s,heatmapScores:i,offsets:o,displacementFwd:a,displacementBwd:l}},t.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var n=this.baseModel.predict(e),r=n.segmentation,s=n.longOffsets,i=n.heatmapScores,o=n.offsets,a=n.displacementFwd,l=n.displacementBwd,u=n.partHeatmaps;return{segmentLogits:r,longOffsets:s,heatmapScores:i,offsets:o,displacementFwd:a,displacementBwd:l,partHeatmaps:u}},t.prototype.segmentPersonActivation=function(e,n,r){var s=this;r===void 0&&(r=.5);var i=Mu(e),o=i[0],a=i[1],l=Sd(n,this.baseModel.outputStride,[o,a]),u=_d(e,l),c=u.resized,f=u.padding,d=re(function(){var v=s.predictForPersonSegmentation(c),w=v.segmentLogits,x=v.heatmapScores,S=v.offsets,_=v.displacementFwd,T=v.displacementBwd,k=c.shape,P=k[0],O=k[1],D=Ea(w,[o,a],[P,O],[[f.top,f.bottom],[f.left,f.right]]);return{segmentation:bd(Jr(D),r),heatmapScores:x,offsets:S,displacementFwd:_,displacementBwd:T}}),h=d.segmentation,m=d.heatmapScores,p=d.offsets,g=d.displacementFwd,y=d.displacementBwd;return c.dispose(),{segmentation:h,heatmapScores:m,offsets:p,displacementFwd:g,displacementBwd:y,padding:f,internalResolutionHeightAndWidth:l}},t.prototype.segmentPerson=function(e,n){return n===void 0&&(n=Nd),es(this,void 0,void 0,function(){var r,s,i,o,a,l,u,c,f,d,h,m,p,g,y,v,w,x;return ts(this,function(S){switch(S.label){case 0:return n=Vr(Vr({},Nd),n),jE(n),r=this.segmentPersonActivation(e,n.internalResolution,n.segmentationThreshold),s=r.segmentation,i=r.heatmapScores,o=r.offsets,a=r.displacementFwd,l=r.displacementBwd,u=r.padding,c=r.internalResolutionHeightAndWidth,f=s.shape,d=f[0],h=f[1],[4,s.data()];case 1:return m=S.sent(),s.dispose(),[4,Td([i,o,a,l])];case 2:return p=S.sent(),g=p[0],y=p[1],v=p[2],w=p[3],x=xd(g,y,v,w,this.baseModel.outputStride,n.maxDetections,n.scoreThreshold,n.nmsRadius),x=Ed(x,[d,h],c,u),i.dispose(),o.dispose(),a.dispose(),l.dispose(),[2,{height:d,width:h,data:m,allPoses:x}]}})})},t.prototype.segmentMultiPerson=function(e,n){return n===void 0&&(n=kd),es(this,void 0,void 0,function(){var r,s,i,o,a,l,u,c,f,d,h,m,p,g,y,v,w,x,S,_,T,k=this;return ts(this,function(P){switch(P.label){case 0:return n=Vr(Vr({},kd),n),zE(n),r=Mu(e),s=r[0],i=r[1],o=Sd(n.internalResolution,this.baseModel.outputStride,[s,i]),a=_d(e,o),l=a.resized,u=a.padding,c=re(function(){var O=k.predictForMultiPersonInstanceSegmentationAndPart(l),D=O.segmentLogits,F=O.longOffsets,z=O.heatmapScores,L=O.offsets,W=O.displacementFwd,G=O.displacementBwd,V=Ea(D,[s,i],o,[[u.top,u.bottom],[u.left,u.right]]),R;R=F;var M=bd(Jr(V),n.segmentationThreshold);return{segmentation:M,longOffsets:R,heatmapScoresRaw:z,offsetsRaw:L,displacementFwdRaw:W,displacementBwdRaw:G}}),f=c.segmentation,d=c.longOffsets,h=c.heatmapScoresRaw,m=c.offsetsRaw,p=c.displacementFwdRaw,g=c.displacementBwdRaw,[4,Td([h,m,p,g])];case 1:return y=P.sent(),v=y[0],w=y[1],x=y[2],S=y[3],_=xd(v,w,x,S,this.baseModel.outputStride,n.maxDetections,n.scoreThreshold,n.nmsRadius),_=Ed(_,[s,i],o,u),[4,yie(f,d,_,s,i,this.baseModel.outputStride,o,u,n.scoreThreshold,n.refineSteps,n.minKeypointScore,n.maxDetections)];case 2:return T=P.sent(),l.dispose(),f.dispose(),d.dispose(),h.dispose(),m.dispose(),p.dispose(),g.dispose(),[2,T]}})})},t.prototype.segmentPersonPartsActivation=function(e,n,r){var s=this;r===void 0&&(r=.5);var i=Mu(e),o=i[0],a=i[1],l=Sd(n,this.baseModel.outputStride,[o,a]),u=_d(e,l),c=u.resized,f=u.padding,d=re(function(){var v=s.predictForPersonSegmentationAndPart(c),w=v.segmentLogits,x=v.partHeatmapLogits,S=v.heatmapScores,_=v.offsets,T=v.displacementFwd,k=v.displacementBwd,P=c.shape,O=P[0],D=P[1],F=Ea(w,[o,a],[O,D],[[f.top,f.bottom],[f.left,f.right]]),z=Ea(x,[o,a],[O,D],[[f.top,f.bottom],[f.left,f.right]]),L=bd(Jr(F),r);return{partSegmentation:sie(L,z),heatmapScores:S,offsets:_,displacementFwd:T,displacementBwd:k}}),h=d.partSegmentation,m=d.heatmapScores,p=d.offsets,g=d.displacementFwd,y=d.displacementBwd;return c.dispose(),{partSegmentation:h,heatmapScores:m,offsets:p,displacementFwd:g,displacementBwd:y,padding:f,internalResolutionHeightAndWidth:l}},t.prototype.segmentPersonParts=function(e,n){return n===void 0&&(n=Nd),es(this,void 0,void 0,function(){var r,s,i,o,a,l,u,c,f,d,h,m,p,g,y,v,w,x;return ts(this,function(S){switch(S.label){case 0:return n=Vr(Vr({},Nd),n),jE(n),r=this.segmentPersonPartsActivation(e,n.internalResolution,n.segmentationThreshold),s=r.partSegmentation,i=r.heatmapScores,o=r.offsets,a=r.displacementFwd,l=r.displacementBwd,u=r.padding,c=r.internalResolutionHeightAndWidth,f=s.shape,d=f[0],h=f[1],[4,s.data()];case 1:return m=S.sent(),s.dispose(),[4,Td([i,o,a,l])];case 2:return p=S.sent(),g=p[0],y=p[1],v=p[2],w=p[3],x=xd(g,y,v,w,this.baseModel.outputStride,n.maxDetections,n.scoreThreshold,n.nmsRadius),x=Ed(x,[d,h],c,u),i.dispose(),o.dispose(),a.dispose(),l.dispose(),[2,{height:d,width:h,data:m,allPoses:x}]}})})},t.prototype.segmentMultiPersonParts=function(e,n){return n===void 0&&(n=kd),es(this,void 0,void 0,function(){var r,s,i,o,a,l,u,c,f,d,h,m,p,g,y,v,w,x,S,_,T,k,P=this;return ts(this,function(O){switch(O.label){case 0:return n=Vr(Vr({},kd),n),zE(n),r=Mu(e),s=r[0],i=r[1],o=Sd(n.internalResolution,this.baseModel.outputStride,[s,i]),a=_d(e,o),l=a.resized,u=a.padding,c=re(function(){var D=P.predictForMultiPersonInstanceSegmentationAndPart(l),F=D.segmentLogits,z=D.longOffsets,L=D.heatmapScores,W=D.offsets,G=D.displacementFwd,V=D.displacementBwd,R=D.partHeatmaps,M=Ea(F,[s,i],o,[[u.top,u.bottom],[u.left,u.right]]),H=Ea(R,[s,i],o,[[u.top,u.bottom],[u.left,u.right]]),Z=z,X=bd(Jr(M),n.segmentationThreshold),se=iie(H);return{segmentation:X,longOffsets:Z,heatmapScoresRaw:L,offsetsRaw:W,displacementFwdRaw:G,displacementBwdRaw:V,partSegmentation:se}}),f=c.segmentation,d=c.longOffsets,h=c.heatmapScoresRaw,m=c.offsetsRaw,p=c.displacementFwdRaw,g=c.displacementBwdRaw,y=c.partSegmentation,[4,Td([h,m,p,g])];case 1:return v=O.sent(),w=v[0],x=v[1],S=v[2],_=v[3],T=xd(w,x,S,_,this.baseModel.outputStride,n.maxDetections,n.scoreThreshold,n.nmsRadius),T=Ed(T,[s,i],o,u),[4,vie(f,d,y,T,s,i,this.baseModel.outputStride,o,u,n.scoreThreshold,n.refineSteps,n.minKeypointScore,n.maxDetections)];case 2:return k=O.sent(),l.dispose(),f.dispose(),d.dispose(),h.dispose(),m.dispose(),p.dispose(),g.dispose(),y.dispose(),[2,k]}})})},t.prototype.dispose=function(){this.baseModel.dispose()},t}();function jie(t){return es(this,void 0,void 0,function(){var e,n,r,s,i,o;return ts(this,function(a){switch(a.label){case 0:if(e=t.outputStride,n=t.quantBytes,r=t.multiplier,TM==null)throw new Error(`Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this
        model.`);return s=Cie(e,r,n),[4,AM(t.modelUrl||s)];case 1:return i=a.sent(),o=new oie(i,e),[2,new zM(o)]}})})}function zie(t){return es(this,void 0,void 0,function(){var e,n,r,s,i;return ts(this,function(o){switch(o.label){case 0:if(e=t.outputStride,n=t.quantBytes,TM==null)throw new Error(`Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this
        model.`);return r=Aie(e,n),[4,AM(t.modelUrl||r)];case 1:return s=o.sent(),i=new kie(s,e),[2,new zM(i)]}})})}function Vie(t){return t===void 0&&(t=jM),es(this,void 0,void 0,function(){return ts(this,function(e){return t=Bie(t),t.architecture==="ResNet50"?[2,zie(t)]:t.architecture==="MobileNetV1"?[2,jie(t)]:[2,null]})})}const Uie=({product:t,onClose:e})=>{const[n,r]=N.useState("idle"),s=N.useRef(null),i=N.useRef(null),[o,a]=N.useState(!1),[l,u]=N.useState({x:0,y:0}),[c,f]=N.useState({x:300,y:200}),[d,h]=N.useState(null);N.useEffect(()=>{const x=new Image;x.crossOrigin="anonymous",x.src=t.image,x.onload=()=>h(x)},[t.image]),N.useEffect(()=>(m(),()=>p()),[]);const m=async()=>{r("requesting");try{const x=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:1280,height:720}});s.current&&(s.current.srcObject=x,await s.current.play()),r("active"),w()}catch(x){console.error("Camera denied",x),r("denied")}},p=()=>{var S;const x=(S=s.current)==null?void 0:S.srcObject;x&&x.getTracks().forEach(_=>_.stop())},g=x=>{a(!0),u({x:x.clientX-c.x,y:x.clientY-c.y})},y=x=>{o&&f({x:x.clientX-l.x,y:x.clientY-l.y})},v=()=>a(!1),w=async()=>{if(!s.current||!i.current)return;const x=await Vie({architecture:"MobileNetV1",outputStride:16,multiplier:.75,quantBytes:2}),S=i.current,_=S.getContext("2d");if(!_)return;const T=async()=>{if(!s.current||!i.current)return;const k=await x.segmentPerson(s.current,{internalResolution:"medium",segmentationThreshold:.7});_.clearRect(0,0,S.width,S.height),_.drawImage(s.current,0,0,S.width,S.height);const P=_.getImageData(0,0,S.width,S.height);for(let O=0;O<P.data.length;O+=4){const D=O/4;k.data[D]||(P.data[O+3]=0)}_.putImageData(P,0,0),requestAnimationFrame(T)};T()};return C.jsx(LC,{children:C.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-background/95 backdrop-blur-md flex items-center justify-center",onMouseMove:y,onMouseUp:v,children:[C.jsx("button",{onClick:()=>{p(),e()},className:"absolute top-8 right-8 z-50 p-3 rounded-full bg-card hover:bg-muted transition-colors",children:C.jsx(U2,{size:24,className:"text-foreground"})}),C.jsxs("div",{className:"relative w-full max-w-4xl aspect-video rounded-2xl overflow-hidden bg-black",children:[C.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute w-full h-full object-cover scale-x-[-1]"}),C.jsx("canvas",{ref:i,width:1280,height:720,className:"absolute inset-0 w-full h-full pointer-events-none"}),n==="active"&&d&&C.jsx(Ne.img,{src:t.image,alt:t.name,className:"absolute w-48 h-48 object-contain drop-shadow-2xl cursor-move",style:{top:c.y,left:c.x,transform:"translate(-50%, -50%)"},onMouseDown:g,draggable:!1}),n==="requesting"&&C.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 bg-background",children:[C.jsx(V2,{size:64,className:"text-primary animate-pulse"}),C.jsx("p",{className:"text-xl text-foreground",children:"Requesting camera access..."})]}),n==="denied"&&C.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 bg-background",children:[C.jsx(E5,{size:64,className:"text-destructive"}),C.jsx("p",{className:"text-xl text-foreground",children:"Camera Access Denied"})]})]})]})})},Wie=({product:t,index:e,onTryOn:n})=>{const[r,s]=N.useState({x:0,y:0}),i=N.useRef(null),o=l=>{if(!i.current)return;const u=i.current.getBoundingClientRect(),c=l.clientX-u.left,f=l.clientY-u.top,d=u.width/2,h=u.height/2,m=(f-h)/h*-10,p=(c-d)/d*10;s({x:m,y:p})},a=()=>{s({x:0,y:0})};return C.jsx(Ne.div,{ref:i,initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:e*.1,duration:.6,ease:[.34,1.56,.64,1]},onMouseMove:o,onMouseLeave:a,style:{transform:`perspective(1000px) rotateX(${r.x}deg) rotateY(${r.y}deg)`,transition:"transform 0.2s ease-out"},className:"group relative",children:C.jsxs("div",{className:"glass rounded-2xl overflow-hidden hover:shadow-glow-primary transition-all duration-300",children:[C.jsxs("div",{className:"relative aspect-square overflow-hidden",children:[C.jsx(Ne.img,{src:t.image,alt:t.name,className:"w-full h-full object-cover",whileHover:{scale:1.1},transition:{duration:.4}}),C.jsx(Ne.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 bg-gradient-primary/20 backdrop-blur-sm flex items-center justify-center",children:C.jsxs("button",{onClick:n,className:"px-6 py-3 bg-background/90 text-foreground rounded-full font-semibold flex items-center gap-2 hover:scale-105 transition-transform",children:[C.jsx(V2,{size:20}),"Virtual Try-On"]})})]}),C.jsxs("div",{className:"p-6 space-y-2",children:[C.jsx("p",{className:"text-xs text-secondary uppercase tracking-wider",children:t.category}),C.jsx("h3",{className:"text-xl font-semibold text-foreground",children:t.name})]})]})})},Hie=[{id:1,name:"Celestial Ring",category:"Ring",image:"https://images.unsplash.com/photo-1605100804763-247f67b3557e?w=500"},{id:2,name:"Aurora Necklace",category:"Necklace",image:"https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?w=500"},{id:3,name:"Nebula Bracelet",category:"Bracelet",image:"https://images.unsplash.com/photo-1611591437281-460bfbe1220a?w=500"},{id:4,name:"Cosmic Earrings",category:"Earrings",image:"https://images.unsplash.com/photo-1535632066927-ab7c9ab60908?w=500"},{id:5,name:"Stardust Ring",category:"Ring",image:"photo-1603561596112-0a132b757442-removebg-preview.png"},{id:6,name:"Galaxy Pendant",category:"Necklace",image:"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=500"},{id:7,name:"Lunar Bangle",category:"Bracelet",image:"https://images.unsplash.com/photo-1611591437281-460bfbe1220a?w=500"},{id:8,name:"Stellar Hoops",category:"Earrings",image:"https://images.unsplash.com/photo-1617038260897-41a1f14a8ca0?w=500"}],Gie=({onComplete:t})=>{const[e,n]=N.useState(null);return C.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,filter:"blur(20px)"},transition:{duration:1},className:"relative w-full h-full overflow-y-auto bg-background",children:[C.jsxs("div",{className:"min-h-screen py-20 px-8",children:[C.jsxs(Ne.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[C.jsx("h2",{className:"text-6xl font-bold gradient-text mb-4",children:"Your Curated Collection"}),C.jsx("p",{className:"text-xl text-muted-foreground",children:"Pieces selected to match your unique aesthetic"})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto mb-16",children:Hie.map((r,s)=>C.jsx(Wie,{product:r,index:s,onTryOn:()=>n(r)},r.id))}),C.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center",children:C.jsx("button",{onClick:t,className:"px-12 py-4 bg-gradient-primary text-primary-foreground font-semibold rounded-full shadow-glow-primary hover:shadow-glow-secondary transition-all duration-300",children:"Complete Experience"})})]}),e&&C.jsx(Uie,{product:e,onClose:()=>n(null)})]})},Kie=({stylePreferences:t,favorites:e,onRestart:n})=>{const r=()=>t.bold&&t.minimal?"The Modern Edge":t.bold&&t.organic?"The Bold Bohemian":t.classic&&t.minimal?"The Timeless Minimalist":t.classic&&t.organic?"The Romantic Naturalist":t.minimal&&t.organic?"The Zen Purist":"The Eclectic Visionary";return C.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-background flex items-center justify-center",children:[C.jsx("div",{className:"absolute inset-0",children:C.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-br from-[hsl(var(--aura-glow))] to-[hsl(var(--aura-shimmer))] opacity-10 blur-3xl rounded-full animate-glow-pulse"})}),C.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto px-12 text-center space-y-12 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[C.jsxs("div",{className:"space-y-6",children:[C.jsx("h2",{className:"text-6xl font-light tracking-wider text-foreground animate-chromatic",children:"Your Aura Profile"}),C.jsx("p",{className:"text-foreground/60 text-sm tracking-[0.3em] uppercase",children:r()})]}),C.jsxs("div",{className:"relative mx-auto w-80 h-80 rounded-3xl bg-card/50 backdrop-blur-xl border border-primary/30 shadow-2xl flex items-center justify-center overflow-hidden group",children:[C.jsx("div",{className:"relative w-64 h-64",children:C.jsx("div",{className:"absolute inset-0 grid grid-cols-8 gap-1",children:[...Array(64)].map((s,i)=>C.jsx("div",{className:`${Math.random()>.5?"bg-foreground":"bg-transparent"} rounded-sm transition-colors duration-300 group-hover:bg-[hsl(var(--aura-glow))]`,style:{transitionDelay:`${i*10}ms`}},i))})}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[hsl(var(--aura-glow))]/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsx("p",{className:"text-2xl font-light text-foreground",children:"Scan to Keep Your Aura"}),C.jsx("p",{className:"text-foreground/60 text-sm",children:"Your personalized moodboard, style archetype, and favorite pieces"})]}),C.jsx("div",{className:"inline-block px-6 py-3 rounded-full bg-card/50 backdrop-blur-xl border border-primary/30",children:C.jsxs("span",{className:"text-foreground/60 text-sm tracking-widest uppercase",children:[e.length," Favorite Pieces Selected"]})}),C.jsxs("div",{className:"flex gap-4 justify-center pt-8",children:[C.jsx(Jh,{onClick:n,variant:"secondary",className:"px-8 py-6 text-lg",children:"Create Another Aura"}),C.jsx(Jh,{className:"bg-gradient-to-r from-[hsl(var(--aura-glow))] to-[hsl(var(--aura-shimmer))] text-background px-8 py-6 text-lg",children:"Visit Evol Jewels"})]})]}),[...Array(20)].map((s,i)=>C.jsx("div",{className:"absolute w-1 h-1 rounded-full bg-[hsl(var(--aura-shimmer))] opacity-40 animate-float",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${4+Math.random()*4}s`}},i))]})},qie=()=>{const[t,e]=N.useState(0),[n,r]=N.useState({bold:!1,classic:!1,minimal:!1,organic:!1}),[s,i]=N.useState([]),o=()=>e(1),a=d=>{r(d),e(3)},l=()=>e(4),u=()=>e(5),c=d=>{i(d),e(6)},f=()=>{e(0),r({bold:!1,classic:!1,minimal:!1,organic:!1}),i([])};return C.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-background",children:[t===0&&C.jsx(L6,{onProximity:o}),t===1&&C.jsx(bG,{onContinue:()=>e(2)}),t===2&&C.jsx(Y9,{onComplete:a}),t===3&&C.jsx(X9,{onComplete:l}),t===4&&C.jsx(Z9,{stylePreferences:n,onContinue:u}),t===5&&C.jsx(Gie,{stylePreferences:n,onComplete:c}),t===6&&C.jsx(Kie,{stylePreferences:n,favorites:s,onRestart:f})]})},Yie=()=>{const t=HA();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),C.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),C.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),C.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},Xie=new XV,Qie=()=>C.jsx(ZV,{client:Xie,children:C.jsxs(NV,{children:[C.jsx(uj,{}),C.jsx(zj,{}),C.jsx(M6,{children:C.jsxs(D6,{children:[C.jsx(qy,{path:"/",element:C.jsx(qie,{})}),C.jsx(qy,{path:"*",element:C.jsx(Yie,{})})]})})]})});f2(document.getElementById("root")).render(C.jsx(Qie,{}));
